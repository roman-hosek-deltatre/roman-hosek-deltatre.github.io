<!doctype html>
<html>
<head>
  <title>PS4 Ads</title>
</head>
<style type="text/css">
  #player_container {
    width: 100%;
    height: 100%;
    margin: auto;
    position: absolute;
  }
</style>
<body>

  <div id="player_container"></div>
  <script src="./nexplayer-1.2.6.js"></script>
<div>
</body>
<script>
  var player = new nexplayer.NexPlayer();

  //#region Player Events https://nexplayer.github.io/TizenWebOS/#/ps4/api?id=player-events
  player.addEventListener("statechanged", function (e) {
    console.log(" STATE CHANGED", e);
  });
  player.addEventListener("paused", function (e) {
    console.log("PAUSED");
  });
  player.addEventListener("playing", function (e) {
    console.log("PLAYING");
  });
  player.addEventListener("buffering", function (e) {
    console.log("BUFFERING");
  });
  player.addEventListener("seeking", function (e) {
    console.log("SEEKING");
  });
  player.addEventListener("seeked", function (e) {
    console.log("SEEKED");
  });
  player.addEventListener("stalled", function (e) {
    console.log("STALLED");
  });
  player.addEventListener("durationchange", function (e) {
    console.log("DURATION CHANGE", e);
  });
  player.addEventListener("canplay", function (e) {
    console.log("CAN PLAY");
  });
  player.addEventListener("loadeddata", function (e) {
    console.log("LOADED DATA");
  });
  player.addEventListener("videofirstquartile", function (e) {
    console.log(" VIDEO FIRST QUARTILE", e);
  });
  player.addEventListener("videoProgressTime", function (e) {
    console.log("VIDEO PROGRESS TIME", e);
  });
  player.addEventListener("videothirdquartile", function (e) {
    console.log("VIDEO THIRD QUARTILE", e);
  });
  player.addEventListener("nexplayererror", function (e) {
    console.log("NEXPLAYER ERROR", e);
  });
  //#endregion

  //#region Ads Events https://nexplayer.github.io/TizenWebOS/#/ps4/api?id=ads-events
  player.addEventListener("adstarted", function (e) {
    console.log('AD STARTED', e);
    nexplayer.AdInstance().setMute(false);
    nexplayer.AdInstance().getAdDuration();
    nexplayer.AdInstance().getAdRemainingTime();
  });
  player.addEventListener("adpodsinfo", function (e) {
    console.log('AD PODS INFO', e);
  });
  player.addEventListener("aderror", function (e) {
    console.log('AD ERROR', e);
  });
  player.addEventListener("adblockstarted", function (e) {
    console.log('AD BLOCK START', e);
  });
  player.addEventListener("adblockend", function (e) {
    console.log('AD BLOCK END', e);
  });
  player.addEventListener("adstarted", function (e) {
    console.log('AD STARTED', e);
  });
  player.addEventListener("adcomplete", function (e) {
    console.log('AD COMPLETE', e);
  });
  player.addEventListener("adthirdquartile", function (e) {
    console.log('AD THIRDQUARTILE', e);
  });
  player.addEventListener("admidpoint", function (e) {
    console.log('AD MIDPOINT', e);
  });
  player.addEventListener("adfirstquartile", function (e) {
    console.log('AD FIRST QUARTILE', e);
  });
  player.addEventListener("addestroyed", function (e) {
    console.log('AD DESTROYED', e);
  });
  player.addEventListener("adtagstartloading", function (e) {
    console.log('AD TAG START LOADING', e);
  });
  player.addEventListener("adloaded", function (e) {
    console.log('AD LOADED', e);
  });
  player.addEventListener("adresumed", function (e) {
    console.log('AD RESUMED', e);
  });
  player.addEventListener("adpaused", function (e) {
    console.log('AD PAUSED', e);
  });
  player.addEventListener("adimpression", function (e) {
    console.log('AD IMPRESSION', e);
  });
  player.addEventListener("adskipped", function (e) {
    console.log('AD SKIPPED', e);
  });
  //#endregion

  player.init({
    key: '5e9dd7b892f3493ec4667e66',
    div: document.getElementById('player_container'),
    debug: true,
    autoplay: true,
    resumePosition: 0,
    src: 'https://media.axprod.net/TestVectors/Dash/not_protected_dash_1080p_h264/manifest.mpd',
    // Google Sample tag (VMAP Pre-roll):
    vast: 'https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/vmap_ad_samples&sz=640x480&cust_params=sample_ar%3Dpreonly&ciu_szs=300x250%2C728x90&gdfp_req=1&ad_rule=1&output=vmap&unviewed_position_start=1&env=vp&impl=s&correlator=' + Date.now(),
  });
</script>

</html>