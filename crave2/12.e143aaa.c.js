(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1e3:function(e,t,a){"use strict";var n=a(242),i=a(243),r=a(250),o=a(244),s=a(296),l=a(252),c=a(401),d=(a(1001),new o.a("advertisement-container")),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,a=t.adUnitPath,n=t.type,i=t.id,r=t.isFrenchPlayback,o=window.googletag;window.googletag&&a&&(o.cmd=o.cmd||[],o.pubads&&(o.destroySlots(),o.cmd.push((function(){var t=e.getCustParams(a),s=r&&n===c.a.pause?[6,6]:[315,400];o.defineSlot(e.getAdUnit(a),s,i).addService(o.pubads()),t.forEach((function(e){var t=e.key,a=e.value;return o.pubads().setTargeting(t,a)})),o.pubads().enableSingleRequest(),o.pubads().updateCorrelator(),o.enableServices(),o.display(i)}))))},t.prototype.getStyle=function(e){var t=l.a.AD_BANNER_SIZE[e]||[0,0];return{width:"".concat(t[0],"px"),height:"".concat(t[1],"px")}},t.prototype.getAdUnit=function(e){var t=this.props.adUnitPath||e;return t?t.split("&")[0]:""},t.prototype.getCustParams=function(e){var t=this.props,a=t.adUnitPath,n=void 0===a?e:a,i=t.playbackLanguage;if(!n)return[];try{return decodeURIComponent(n.split("&")[1]).replace(/^cust_params=/,"").replace(/lang=[^&]*/,"lang="+i).split("&").map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}}))}catch(r){return[]}},t.prototype.render=function(){var e=this.props,t=e.type,a=e.id;return i.createElement("div",{className:d.b(),style:{zIndex:1}},i.createElement("div",{className:d.e("image-box")},i.createElement("div",{id:a,style:this.getStyle(t)})))},t}(i.PureComponent);t.a=Object(r.connect)((function(e){var t,a=e.profile,n=null===(t=null==a?void 0:a.info)||void 0===t?void 0:t.playbackLanguageCode;return{isFrenchPlayback:n&&n.toLowerCase()===s.b.FR.toLowerCase()||!1}}),void 0)(u)},1001:function(e,t,a){},1002:function(e,t,a){"use strict";var n=a(243),i=a(244),r=a(401),o=(a(1003),new i.a("ad-counter"));t.a=function(e){var t=e.adData;if(!t)return!1;var a=t.adCount,i=t.adRemainingTime,s=t.adIndex,l=(null!=s?s:0)+1,c=Object(r.f)(i);return n.createElement("div",{className:o.b()},l," of ",a," ",c&&n.createElement(n.Fragment,null,"(",c,")"))}},1003:function(e,t,a){},1004:function(e,t,a){"use strict";var n=a(242),i=a(243),r=a(247),o=a.n(r),s=a(250),l=a(244),c=a(252),d=a(332),u=(a(1005),a(335)),p=a(260),h=new l.a("player-progress"),v=function(e){function t(t){var a=e.call(this,t)||this;return a.onMouseDown=function(e){var t=a.props,n=t.seekTo,i=t.duration;if(!t.isLive&&a.ref){var r=a.ref.getBoundingClientRect(),o=r.left,s=r.width,l=(e.pageX-o)*i/s,c=Math.round(l);c>=0&&c<=i&&n&&n(c)}},a.showAdPoints=function(e,t){var n=a.props.duration;return i.createElement("div",{key:t,className:h.e("ad"),style:{marginLeft:e/n*100+"%"}})},a.onRef=function(e){a.ref=e},a.onCanvasRef=function(e){a.canvasRef=e},a.updateProgress=function(e){if(!e)return null;var t=Date.now(),n=e.startDate,i=e.duration;if(!n)return null;var r=(t-n.getTime())/(1e3*i)*100;if(r>=100)return a.setState({progress:100}),window.clearTimeout(a.progressTimer);a.setState({progress:r}),a.progressTimer=window.setTimeout(a.updateProgress,1e3)},a.state={progress:0},a}return Object(n.c)(t,e),t.prototype.componentDidMount=function(){this.canvasRef&&this.props.player&&this.props.player.setThumbnailCanvas(this.canvasRef),this.props.isLive&&this.updateProgress(this.props)},t.prototype.componentWillReceiveProps=function(e){var t=this.props.player&&e.player;if(t&&e.player.getThumbnailError()){var a=e.player.getThumbnailError();e.showError(e.item,e.playerId,a),e.player.setThumbnailError(null)}t&&this.props.player.getStatusTrickplay()!==e.player.getStatusTrickplay()&&e.player.setThumbnailCanvas(this.canvasRef),!this.props.player&&e.player&&this.canvasRef&&e.player.setThumbnailCanvas(this.canvasRef),this.progressTimer&&window.clearTimeout(this.progressTimer),this.props.isLive&&this.updateProgress(e)},t.prototype.componentWillUnmount=function(){this.progressTimer&&window.clearTimeout(this.progressTimer)},t.prototype.render=function(){var e=this.props,t=e.playrate,a=e.className,n=e.position,r=e.startDate,s=e.duration,l=e.adPoints,u=e.isLive,v=this.state.progress,m=o()(h.b(),a),f=u&&r?v:this.getPositionPercentage(),y=1!==t,g=Object(d.b)(n),E=Boolean(this.props.player&&this.props.player.getCurrentFrame()),b=Object(p.b)(c.a.ENABLE_THUMBNAILS),S={curTime:g,percentPosition:f,playrate:t,hasFrame:E,compat:b,textMode:!b};return i.createElement("div",{className:m},i.createElement("div",{className:h.e("timebar")},s&&l&&l.map(this.showAdPoints),i.createElement("div",{className:h.e("bar"),onMouseDown:this.onMouseDown,ref:this.onRef},i.createElement("div",{className:h.e("bar-current",{isLive:u}),style:{width:f+"%"}},!b&&i.createElement("div",{className:o()(h.e("thumb-snap",{show:y&&E}))},i.createElement("canvas",{className:h.e("thumb-canvas"),ref:this.onCanvasRef})),i.createElement("div",{className:h.e("text-snap",{show:y}),style:void 0},this.renderFFState(S))))))},t.prototype.getPositionPercentage=function(){var e=this.props,t=e.position,a=e.duration,n=e.isLive,i=0;return t&&(t<=a?i=t/a*100:n&&(i=100)),i},t.prototype.renderFFState=function(e){var t=e.compat,a=e.curTime,n=e.percentPosition,r=e.playrate,s=e.textMode,l=e.hasFrame,d=this.props.isFF,u=d?"icon-player-fast-forward":"icon-player-rewind",p=c.a.IS_PLAYRATE_ON_LEFT_WHEN_FF_OR_RW&&!d,v=n<3,m=n>97;return i.createElement("div",{className:o()(h.e("state",{textMode:s,textModeCompat:t,edgeModeLeft:v,edgeModeRight:m}),{"without-thumn":!l,compat:t})},i.createElement("span",{className:h.e("pos",{compat:t,rewind:p})},a),i.createElement("span",{className:h.e("rate-info",{left:!d,compat:t,rewind:p})},c.a.IS_PLAYRATE_ON_LEFT_WHEN_FF_OR_RW?i.createElement(i.Fragment,null,d&&i.createElement("span",{className:h.e("rate-info__rate")},Math.abs(r),"x"),i.createElement("span",{className:h.e("rate-info__direction",{rewind:!d})},i.createElement("i",{className:o()(h.e("rate-info__direction__icon"),"icon",u)})),!d&&i.createElement("span",{className:h.e("rate-info__rate")},Math.abs(r),"x")):i.createElement(i.Fragment,null,i.createElement("span",{className:h.e("rate-info__direction")},i.createElement("i",{className:o()(h.e("rate-info__direction__icon"),"icon",u)})),i.createElement("span",{className:h.e("rate-info__rate")},"X",Math.abs(r)))))},t}(i.Component);var m=Object(s.connect)(void 0,(function(e){return{showError:function(t,a,n){return Object(u.d)(t,a,n,e)}}}))(v);t.a=m},1005:function(e,t,a){},1006:function(e,t,a){"use strict";var n,i=a(242),r=a(243),o=a(245),s=a(247),l=a.n(s),c=a(244),d=a(249),u=a(252),p=a(380),h=a(248),v=a(332),m=a(268),f=a(336),y=a(251),g=(a(1007),new c.a("player-controls"));!function(e){e.PLAY_PAUSE="playPause",e.REWIND="rewind",e.FAST_FORWARD="ff",e.CLOSED_CAPTIONS="cc",e.DV="dv",e.AUDIO="audio"}(n||(n={}));var E=u.a.checkTrickplayButtons(),b=function(e){function t(t){var a=e.call(this,t)||this;return a.focusArray=[],a.basicControlButtonsCount=0,a.isFocusedState=function(e){var t=a.props.focused,n=a.state.focusState;return t&&n===e?[h.a]:""},a.renderDVButton=function(){if(!a.props.showDV)return null;var e=a.props.profileDVPreference;return r.createElement(y.a,{tagName:"button",className:l()(g.e("descriptive-video",a.isFocusedState(n.DV)),"dv"),onClick:a.invokeItem,"data-focus-state":n.DV,onMouseEnter:a.handleMouseEnter,formattedAriaLabel:e?"@{disable_dv_aria}":"@{enable_dv_aria}"},r.createElement("i",{className:l()(g.e("icon-descriptive-video",a.isFocusedState(n.DV),{active:e}))}))},a.handleMouseEnter=function(e){var t=e.currentTarget.dataset.focusState;a.setState({focusState:t})},a.resetDefaultFocus=function(){var e;a.setState({focusState:n.PLAY_PAUSE}),null===(e=document.activeElement)||void 0===e||e.blur()},a.moveLeft=function(){var e,t=a.props.isFullscreen,n=a.state.focusState;if(a.shouldSeekDirectly()&&t)null===(e=a.player)||void 0===e||e.rewind();else{var i=a.focusArray.indexOf(n);if(i!==a.basicControlButtonsCount){var r=Math.max(i-1,0),o=a.focusArray[r];a.setState({focusState:o,enableAriaForPlayPause:!0})}}},a.moveRight=function(){var e,t=a.props.isFullscreen,n=a.state.focusState;if(a.shouldSeekDirectly()&&t)null===(e=a.player)||void 0===e||e.fastforward();else{var i=a.focusArray.indexOf(n),r=Math.min(i+1,a.focusArray.length-1);if(r!==a.basicControlButtonsCount){var o=a.focusArray[r];a.setState({focusState:o,enableAriaForPlayPause:!0})}}},a.moveDown=function(){if(a.player&&a.couldMoveDown()){var e=a.props,t=e.showCC,i=e.showDV,r=a.focusArray.indexOf(a.state.focusState);r<a.basicControlButtonsCount&&r<a.focusArray.length-1&&(i?a.setState({focusState:n.DV}):t?a.setState({focusState:n.CLOSED_CAPTIONS}):a.setState({focusState:a.focusArray[a.basicControlButtonsCount]})),a.setState({enableAriaForPlayPause:!0})}},a.moveUp=function(){a.setState({focusState:n.PLAY_PAUSE,enableAriaForPlayPause:!0})},a.invokeItem=function(){var e=a.props,t=e.currentLiveItem,i=e.clickPlayPause;if(a.player&&a.show)switch(a.state.focusState){case n.PLAY_PAUSE:i(),a.props.isPlay?a.player.pause():(t&&a.props.resetLive(),a.player.play());break;case n.CLOSED_CAPTIONS:a.props.clickCC&&a.props.clickCC();break;case n.DV:a.props.clickDV&&a.props.clickDV(),a.resetDefaultFocus();break;case n.FAST_FORWARD:a.player.fastforward();break;case n.REWIND:a.player.rewind();break;case n.AUDIO:a.props.clickSwitchPlaybackLanguage()}},a.shouldSeekDirectly=function(){var e=a.props.currentLiveItem,t=a.state.focusState;return!E&&t===n.PLAY_PAUSE&&!e},a.couldMoveDown=function(){return[f.a.PLAYING,f.a.PAUSED].includes(a.player.playState)},a.player=t.player,a.show=t.show,a.setControlsArray(t),a.state={enableAriaForPlayPause:!1,focusState:n.PLAY_PAUSE},a}return Object(i.c)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.player,a=e.show,i=e.showCC,r=e.showDV,o=e.focused,s=this.props,l=s.showCC,c=s.showDV;a===this.show&&o===this.props.focused||(this.show=a,this.resetDefaultFocus()),(t&&this.player!==t||i!==l||r!==c)&&(this.player=e.player,this.setControlsArray(e),this.setState({focusState:n.PLAY_PAUSE})),Object(p.a)(["playState","show"])(this.props,e)&&this.setState({enableAriaForPlayPause:!1})},t.prototype.render=function(){var e=this.props,t=e.position,a=e.duration,i=e.currentLiveItem,o=e.classNames,s=Object(v.b)(t);return i?r.createElement("div",{className:l()(g.b(),o)},this.renderLiveIndicator()):r.createElement("div",{className:l()(g.b(),o)},r.createElement("div",{className:g.e("bar")},u.a.ENABLE_PLAYER_CURRENT_TIME&&r.createElement("div",{className:g.e("text-cur-pos")},r.createElement("span",null,s)),E&&r.createElement(y.a,{tagName:"button",className:l()(g.e("rewind"),this.isFocusedState(n.REWIND)),onClick:this.invokeItem,"data-focus-state":n.REWIND,onMouseEnter:this.handleMouseEnter,formattedAriaLabel:"@{rw_aria}"},r.createElement("i",{className:"icon icon-player-rewind"})),this.renderPlayPauseButton(),E&&r.createElement(y.a,{tagName:"button",className:l()(g.e("fast-forward"),this.isFocusedState(n.FAST_FORWARD)),onClick:this.invokeItem,"data-focus-state":n.FAST_FORWARD,onMouseEnter:this.handleMouseEnter,formattedAriaLabel:"@{ff_aria}"},r.createElement("i",{className:"icon icon-player-fast-forward"})),r.createElement("div",{className:g.e("text-duration")},r.createElement("span",null,Object(v.b)(a))),r.createElement("div",{className:g.e("cc-audio-wrapper")},this.renderAudioButton(),this.renderDVButton(),this.renderCCButton())))},t.prototype.renderAudioButton=function(){var e=this.props.showPlaybackLangButton;return r.createElement(y.a,{tagName:"button",className:g.e("switch-audio",this.isFocusedState(n.AUDIO),{showPlaybackLangButton:e}),onClick:this.invokeItem,"data-focus-state":n.AUDIO,onMouseEnter:this.handleMouseEnter,formattedAriaLabel:"@{switch_audio_label_aria}"},r.createElement("i",{className:l()(g.e("icon-switch-playback",this.isFocusedState(n.AUDIO)))}))},t.prototype.renderCCButton=function(){var e=this.props,t=e.currentLiveItem,a=e.showCC,i=e.profileCCPreference;return r.createElement(y.a,{tagName:"button",className:l()(g.e("closed-captions",{showCC:a,live:!!t,active:i}),this.isFocusedState(n.CLOSED_CAPTIONS)),onClick:this.invokeItem,"data-focus-state":n.CLOSED_CAPTIONS,onMouseEnter:this.handleMouseEnter,formattedAriaLabel:"@{CC_label_aria|Closed captions}"},r.createElement(y.a,{"aria-hidden":!0,tagName:"span"},"@{channel_CC_label|CC}"))},t.prototype.renderPlayPauseButton=function(e){void 0===e&&(e=!1);var t=this.props,a=t.isPlay,i=t.show,o=this.state.enableAriaForPlayPause,s=Boolean(i&&o)?void 0:"true",c=e?"icon-player-stop":"icon-player-pause";return r.createElement(y.a,{tagName:"button",className:l()(g.e(a?"pause":"play"),this.isFocusedState(n.PLAY_PAUSE)),onClick:this.invokeItem,"data-focus-state":n.PLAY_PAUSE,onMouseEnter:this.handleMouseEnter,formattedAriaLabel:a?"@{pause_aria}":"@{play_aria}","aria-hidden":s},a?r.createElement("i",{className:"icon ".concat(c)}):r.createElement("i",{className:"icon icon-player-play"}))},t.prototype.renderLiveIndicator=function(){var e,t=this.props.currentLiveItem,a="",n=Object(d.p)(t)?null==t?void 0:t.scheduledItem:null===(e=null==t?void 0:t.customFields)||void 0===e?void 0:e.itemSchedule;if(n){var i=n.startDate,o=n.endDate;a=Object(m.k)({startDate:i,endDate:o,hasEmptyMinutes:u.a.HAS_EMPTY_TIME_MINUTES})}return r.createElement("div",{className:g.e("bar")},r.createElement("div",{className:g.e("live-container")},r.createElement("div",{className:g.e("live-action-container")},this.renderPlayPauseButton(!0)),r.createElement("div",{className:g.e("live-icon")}),r.createElement(y.a,{tagName:"span",className:g.e("live-title")},"@{channel_live_now_label|LIVE NOW}"),a&&r.createElement("span",{className:g.e("live-time")},a)),this.renderCCButton())},t.prototype.setControlsArray=function(e){var t=e.showCC,a=e.showDV,i=e.showPlaybackLangButton,r=e.currentLiveItem,o=[n.PLAY_PAUSE];E&&!r&&(o.push(n.FAST_FORWARD),o.unshift(n.REWIND)),this.basicControlButtonsCount=o.length,this.player&&(i&&o.push(n.AUDIO),a&&o.push(n.DV),t&&o.push(n.CLOSED_CAPTIONS)),this.focusArray=o},t.contextTypes={focusNav:o.object.isRequired},t}(r.Component);t.a=b},1007:function(e,t,a){},1008:function(e,t,a){"use strict";var n=a(242),i=a(243),r=a(247),o=a.n(r),s=a(244),l=a(251),c=a(299),d=a(279),u=a(268),p=a(416),h=a(249),v=a(332),m=a(252),f=(a(1009),new s.a("player-info")),y=function(e){function t(t){var a=e.call(this,t)||this;return a.onRefTitle=function(e){a.refTitle=e},a.getItemSchedule=function(e){var t,a=Object(h.p)(e),i=a?null==e?void 0:e.scheduledItem:null===(t=null==e?void 0:e.customFields)||void 0===t?void 0:t.itemSchedule;return i?Object(n.a)(Object(n.a)({},i),a&&{name:e.name||"",isBlackedOut:!1,seasonNo:0,episodeNumber:0,desc:""}):null},a.state={title:void 0},a}return Object(n.c)(t,e),t.prototype.componentWillMount=function(){var e=this.props.itemTitle;e&&this.setState({title:e})},t.prototype.componentDidMount=function(){this.ellipsisTitle()},t.prototype.componentDidUpdate=function(e){var t=e.itemTitle;t!==this.state.title&&t&&(this.ellipsisTitle(),this.setState({title:t}))},t.prototype.getEpisodeLabel=function(){var e=this.props.item;if(!e)return"";var t=e.title;if(Object(h.z)(e.mediaType)){var a=Object(h.m)(e);return a?"".concat(a," - ").concat(t):t}return"@{player_actions_metadata_title|S{seasonNumber} E{episodeNumber} - {episodeName}}"},t.prototype.ellipsisTitle=function(){var e=this.props.item,t=e.showId?this.state.title:e.title;this.refTitle&&Object(v.a)(this.refTitle,t,2,0)},t.prototype.render=function(){return this.props.currentLiveItem?this.renderLiveItemInfo():this.renderItemInfo()},t.prototype.renderItemInfo=function(){var e=this.props,t=e.item,a=e.classNames,n=e.isFullscreen,r=e.showAutoPlayReminderMessage,s=o()(f.b(),a),d=m.a.ENABLE_PLAYER_INFO_SUBTITLE&&Object(c.a)(t),u=r&&!n;return i.createElement("div",{className:s},!n&&m.a.SHOULD_SHOW_MORE_INFO_IN_ENDBOARD&&i.createElement("div",{className:f.e("channel-logo")},i.createElement(p.a,{image:t.images.logo,destination:null==t?void 0:t.destinationCode,logoType:"channel"})),u?i.createElement(l.a,{className:f.e("title")},"@{autoplay_reminder_message| Are you still watching?}"):i.createElement("div",{ref:this.onRefTitle,className:f.e("title")},t.showId&&m.a.SHOULD_SHOW_MORE_INFO_IN_ENDBOARD?this.state.title:t.title),d&&!u&&this.renderEpisodeTitle())},t.prototype.renderLiveItemInfo=function(){var e=this.props,t=e.classNames,a=e.currentLiveItem,n=this.getItemSchedule(a);if(!n)return!1;var r=o()(f.b(),t),s=n.seasonNo,c=n.episodeNumber,d=n.title,p=n.name,h=n.startDate,v=n.endDate,y=m.a.ENABLE_LIVE_PLAYER_INFO_SUBTITLE&&s&&c;return i.createElement("div",{className:r},this.renderLiveChannelLogo(),i.createElement("div",{className:f.e("title")},p),y&&i.createElement(l.a,{tagName:"div",className:f.e("sub-title",{show:!!d}),values:{seasonNumber:s,episodeNumber:c,episodeName:d}},"@{player_actions_metadata_title|S{seasonNumber} E{episodeNumber} - {episodeName}}"),m.a.ENABLE_FORMATTED_LIVE_DURATION&&i.createElement("div",{className:f.e("sub-title",{show:!0})},Object(u.k)({startDate:h,endDate:v,hasEmptyMinutes:m.a.HAS_EMPTY_TIME_MINUTES})))},t.prototype.renderLiveChannelLogo=function(){var e,t=this.props.currentLiveItem.customFields,a=t&&Object(d.g)(t.channel);return a?i.createElement("img",{className:f.e("live-channel-logo"),src:a,alt:""}):i.createElement("div",{className:f.e("channel-name")},null===(e=null==t?void 0:t.channel)||void 0===e?void 0:e.name)},t.prototype.renderEpisodeTitle=function(){var e=this.props.item,t=e.season,a=e.seasonNumber,n=e.episodeNumber,r=e.title,o=this.getEpisodeLabel();return i.createElement(l.a,{tagName:"div",className:f.e("sub-title",{show:!!r}),values:{seasonNumber:(null==t?void 0:t.seasonNumber)||a,episodeNumber:n,episodeName:r}},o)},t}(i.Component);t.a=y},1009:function(e,t,a){},1010:function(e,t,a){"use strict";var n,i=a(242),r=a(243),o=a(247),s=a.n(o),l=a(244),c=a(249),d=a(251),u=a(612),p=(a(1011),new l.a("player-actions")),h=function(e){function t(t){var a=e.call(this,t)||this;return a.renderButton=function(e,t){var i,o=e.name,l=e.label,u=a.props,h=u.focused,v=u.lighterBackground,m=u.strings,f=u.item,y=f.seasonNumber,g=f.episodeNumber,E=f.title,b=f.showName,S=f.type,P=a.state.focusIndex,I=h&&!n;return Object(c.v)(S)&&(i="@{endboard_movie_current_playing_aria}"),Object(c.y)(S)&&(i="@{endboard_show_current_playing_aria}"),I||(i="@{x_of_total_aria}"),r.createElement(d.a,{tagName:"button",key:"play-action-".concat(o),className:s()(p.e(o),"action",{"lighter-background":v},{focused:h&&P===t}),"data-index":t,onClick:a.invokeItem,onMouseEnter:a.onMouseEnter,values:{label:m["".concat(l.split("|")[0])],x:t+1,total:a.state.actions.length,seasonNumber:y,episodeNumber:g,episodeName:E,showName:b,movieTitle:E},formattedAriaLabel:i},"@{".concat(l,"}"))},a.moveLeft=function(){if(!a.props.isPIP)return!1;var e=a.state.focusIndex;return 0!==e&&(a.setState({focusIndex:e-1}),!0)},a.moveRight=function(){if(!a.props.isPIP)return!1;var e=a.state,t=e.focusIndex;return t!==e.actions.length-1&&(a.setState({focusIndex:t+1}),!0)},a.invokeItem=function(){var e=a.props.click,t=a.state,n=t.focusIndex,i=t.actions;e&&e(i[n].name)},a.onMouseEnter=function(e){var t,n,i=parseInt(null===(n=null===(t=null==e?void 0:e.currentTarget)||void 0===t?void 0:t.dataset)||void 0===n?void 0:n.index);a.setState({focusIndex:i})},a.state={focusIndex:0,actions:Object(u.c)(t.buttonCollection)},a}return Object(i.c)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.buttonCollection;t!==this.props.buttonCollection&&this.setState({actions:Object(u.c)(t)})},t.prototype.componentDidUpdate=function(){n=this.props.focused},t.prototype.componentWillUnmount=function(){n=!1},t.prototype.render=function(){var e=this.props,t=e.classNames,a=e.isPIP,n=e.mouseEnter,i=e.focusState;if(!a)return null;var o=this.state.actions;return r.createElement("div",{className:s()(p.b(),t),"data-focus-state":i,onMouseEnter:n},o.map(this.renderButton))},t}(r.PureComponent);t.a=h},1011:function(e,t,a){},1012:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));var n=a(242),i=a(243),r=a(245),o=a(336),s=a(293),l=a(252),c="PlayerCore",d=l.a.IS_THIRTY_SECONDS_TIMEOUT?3e4:6e4,u=function(t){function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.waitingTime=0,e.disposed=!1,e.endTimePosition=0,e.onLoadingTimeout=[],e.onInternetSpeedLowerTimeout=[],e.onError=[],e.play=function(){e.video&&e.video.play()},e.pause=function(){e.video&&e.video.pause()},e.stop=function(){e.video&&e.video.stop()},e.seek=function(t){e.video&&e.video.seek(t)},e.replay=function(){e.video&&e.video.replay()},e.resizeViewport=function(t,a,n,i){e.video&&e.video.resizeViewport&&e.video.resizeViewport(t,a,n,i)},e.onPlayerProperties=function(t){var a=e.props,n=a.livePlay,i=a.endModeChanged,r=a.onPlayerPropertiesChanged,o=a.liveDuration,s=t.currentTime,l=t.duration;e.waitingTime=0,l=n?o:l;var c=Math.floor(s);l>0&&e.video&&(r&&r(t),!n&&c>=e.getEndTimePosition()?e.isEndMode||(e.isEndMode=!0,clearInterval(e.waitingIntervalTimer),i&&i(e.isEndMode)):e.isEndMode&&(e.isEndMode=!1,i&&i(e.isEndMode)))},e.raiseLoadTimeoutEvent=function(){s.a.info("[PlayerCore.raiseLoadTimeoutEvent] -> buffering timeout raised after:",d,{alwaysReport:!0});for(var t=0;t<e.onLoadingTimeout.length;t++)e.onLoadingTimeout[t].value()},e.raiseInternetSpeedLowerEvent=function(){s.a.info("[PlayerCore.raiseInternetSpeedLowerEvent] -> internet speed lower raised after:",1e4,{alwaysReport:!0}),e.onInternetSpeedLowerTimeout.forEach((function(e){(0,e.value)()}))},e.raiseErrorEvent=function(t){s.a.error("[PlayerCore.raiseErrorEvent] -> error event raised with:",t,{alwaysReport:!0});for(var a=0;a<e.onError.length;a++)"string"==typeof t?e.onError[a].value(t):e.onError[a].value(void 0)},e}return Object(n.c)(a,t),a.prototype.componentDidMount=function(){this.disposed=!1},a.prototype.componentWillUnmount=function(){var e=this.props.onExit;this.loadingTimer&&clearTimeout(this.loadingTimer),clearInterval(this.waitingIntervalTimer),e&&e(),this.disposeVideo(),this.disposed=!0},a.prototype.componentWillReceiveProps=function(t){var a=this,n=t.endCreditOffset,i=t.videoItem,r=t.resumePosition,o=t.vttUrl,s=t.adTagUrl,l=t.emitVideoEvent,c=t.rendition,d=t.thumbnailVttUrl,u=t.isTrailer;if(n&&this.endTimePosition!==n&&(this.endTimePosition=n),i){if(this.props.videoItem&&this.props.videoItem.url===i.url)return;e((function(){a.disposed||a.start(i,{resumePosition:r,vttUrl:o,adTagUrl:s,emitVideoEvent:l,rendition:c,thumbnailVttUrl:d,isTrailer:u})}))}},a.prototype.start=function(e,t){var a=this;this.prepareVideo(e,t),this.play(),this.waitingIntervalTimer=setInterval((function(){a.disposed||a.video&&a.video.playState!==o.a.LOADING&&a.video.playState!==o.a.BUFFERING?a.waitingTime=0:(a.waitingTime+=500,1e4===a.waitingTime&&a.raiseInternetSpeedLowerEvent(),a.waitingTime>=d&&(a.raiseLoadTimeoutEvent(),clearInterval(a.waitingIntervalTimer),a.waitingIntervalTimer=void 0))}),500)},a.prototype.prepareVideo=function(e,t){this.disposeVideo(),this.createVideo(e,t)},a.prototype.createVideo=function(e,t){this.isEndMode=!1,this.video=this.createVideoComponent(t),this.video.playerStateChanged.push({key:c,value:this.props.playerStateChanged}),this.video.onPlayerProperties=this.onPlayerProperties,this.video.addEventListener("error",this.raiseErrorEvent),this.video.loadVideo(e,t)},a.prototype.disposeVideo=function(){this.props.playerStateChanged&&this.props.playerStateChanged(o.a.UNKNOWN,o.a.ENDED),this.video&&(this.video.playerStateChanged.splice(this.video.playerStateChanged.findIndex((function(e){return e.key===c}))),this.video.removeEventListener("error",this.raiseErrorEvent),this.video.dispose()),this.video=void 0},a.prototype.getEndTimePosition=function(){return this.endTimePosition<=0&&(this.endTimePosition=this.video.getDuration()||0),this.endTimePosition},a.contextTypes={detailHelper:r.object.isRequired},a}(i.PureComponent)}).call(this,a(294).setImmediate)},1013:function(e,t,a){"use strict";(function(e){var n,i=a(242),r=a(401),o=a(260),s=a(277),l=a(293),c=a(336),d=a(1014),u=a(314),p=a(586),h=a(252),v=a(452),m=a(1015),f=a(613),y=a(1016),g=a(585);var E=function(t){function a(a){var s,h,g,E,b,S,P,I,A,T,k,C,w,L,N,D,O=a.playerContainerId,_=a.isLivePlayback,R=a.adVolume,x=void 0===R?.5:R,M=a.adTagUrl,B=void 0===M?"":M,F=a.preferredAudioChannelCount,U=void 0===F?v.a.stereo:F,j=t.call(this,U)||this;return j.adData={},j.adCountdownInterval=void 0,j.inAdBlock=!1,j.adBlocks=[],j.startChapterWhenPlaying=!1,j.devicePlatform=Object(o.e)(),j.waitingBufferTimer=void 0,j.alreadyTrackedMilestone60Seconds=!1,j.hasAds=!1,j.playState=c.a.UNKNOWN,j.endingTime=1,j.isDisposed=!1,j.isPlayerMounted=!1,j.isMountListenerAdded=!1,j.playerStateChanged=[],j.playAdvert=function(){var e=nexplayer.AdInstance();if(console.log(e),e)return e.play(),void j.updateState(j.playState,c.a.AD_PLAYING)},j.pauseAdvert=function(){var e=nexplayer.AdInstance();if(e)return e.pause(),void j.updateState(j.playState,c.a.AD_PAUSED)},j.callbacksForPlayer=function(t,a){l.a.info("NexPlayerWrapper.callbacksForPlayer -> player setup successfull -> attaching media events");var n=f.a.ERROR,i=f.a.WAITING,r=f.a.STALLED,s=f.a.TIME_UPDATE,c=f.a.BUFFER_TYPE,d=f.a.MILESTONE_25,p=f.a.MILESTONE_50,h=f.a.MILESTONE_75,v=f.a.LOADED_DATA,m=f.a.LOADED_METADATA,y=f.a.DURATION_CHANGE,g=f.a.ON_STATE_CHANGED,E=f.a.SUBTITLES_READY,b=f.a.SUBTITLES_DATA_LOADED,S=f.a.NEW_SUBTITLES_DATA_LOADED,P=f.a.VIDEO_PROGRESS_TIME;j.player=t,j.videoElement=a,o.g&&(window._player=t),j.bufferingEventId=j.player.on(nexplayer.Player.NexEvent.Buffering,j.onBufferingState),j.errorEventId=j.player.on(nexplayer.Player.NexEvent.Error,j.onErrorState),j.addEventListener(v,j.onLoadedData),j.addEventListener(m,j.onMetadataChanged),j.addEventListener(y,j.onDurationChanged),j.addEventListener(s,j.onTimeChanged),j.addEventListener(n,j.onError),j.addEventListener(d,j.onMilestone),j.addEventListener(p,j.onMilestone),j.addEventListener(h,j.onMilestone),j.addEventListener(P,j.onVideoProgressMilestone),j.addEventListener(c,j.onBufferType),j.addEventListener(i,j.onWaiting),j.addEventListener(r,j.onStalled),j.addEventListener(g,j.onShakaStateChanged),j.addEventListener(E,j.onSubtitlesReady),j.addEventListener(b,j.onSubtitlesDataLoaded),j.addEventListener(S,j.onNewSubtitlesDataLoaded),j.trackPlaybackEvents("action",u.a.RequestVideo,j.getNewRelicPayload()),"true"===e.env.CLIENT_SHAKA_DEBUG&&(window._player=t)},j.callbackForSubtitles=function(e,t){t.addEventListener("subtitlesready",(function(){var t;l.a.info("NexPlayerWrapper subtitles ready: ",null===(t=e.getSubtitles())||void 0===t?void 0:t.length)}))},j.onSubtitlesReady=function(){var e,t;l.a.info("NexPlayerWrapper subtitles ready: ",null===(t=null===(e=j.player)||void 0===e?void 0:e.getSubtitles())||void 0===t?void 0:t.length)},j.onSubtitlesDataLoaded=function(){var e,t;l.a.info("NexPlayerWrapper subtitles onSubtitlesDataLoaded: ",null===(t=null===(e=j.player)||void 0===e?void 0:e.getSubtitles())||void 0===t?void 0:t.length)},j.onNewSubtitlesDataLoaded=function(){var e,t;l.a.info("NexPlayerWrapper onNewSubtitlesDataLoaded: ",null===(t=null===(e=j.player)||void 0===e?void 0:e.getSubtitles())||void 0===t?void 0:t.length)},j.onBufferingState=function(e){if(l.a.info("NexPlayerWrapper.onBufferingState "+e.type+": "+e.state),j.player&&j.videoElement)return e.state?(j.clearWaitingBufferTimer(),void j.updateState(j.playState,c.a.BUFFERING)):void(j.bufferType!==p.a.Initial&&j.videoElement.paused&&j.updateState(j.playState,c.a.PAUSED))},j.onLoadedData=function(){l.a.info("NexPlayerWrapper.onLoadedData"),j.onStateChanged(y.a.READY)},j.constructAdData=function(e){var t=j.getCurrentAdBlockData(e);j.adData=Object(i.a)(Object(i.a)(Object(i.a)({},e||{}),{adName:j.getAdName(e),adPoints:j.adPoints}),t||{})},j.clearAdInterval=function(){void 0!==j.adCountdownInterval&&(clearInterval(j.adCountdownInterval),j.adCountdownInterval=void 0)},j.startAdCountDownInterval=function(){j.clearAdInterval(),j.adCountdownInterval=setInterval((function(){j.adData.adRemainingTime=j.getAdRemainingTime(),l.a.info("NexPlayerWrapper AdCountDown adRemainingTime:"+j.adData.adRemainingTime),j.updateState(j.playState,c.a.AD_PLAYING,j.adData)}),1e3)},j.getAdRemainingTime=function(){var e,t=null===(e=nexplayer.AdInstance())||void 0===e?void 0:e.getAdRemainingTime();return t>=0?Math.round(t/1e3):(l.a.warning("NexPlayerWrapper getAdRemainingTime failed"),Math.round(j.adData.adRemainingTime-1))},j.removeMountEventListners=function(){j.isMountListenerAdded&&j.playerElement&&(j.playerElement.removeEventListener(f.a.MOUNT,j.onMountStateChanged(!0)),j.playerElement.removeEventListener(f.a.UNMOUNT,j.onMountStateChanged(!1)),j.isMountListenerAdded=!1)},j.initializeMountEvents=function(){!j.isMountListenerAdded&&j.playerElement&&(j.playerElement.addEventListener(f.a.MOUNT,j.onMountStateChanged(!0)),j.playerElement.addEventListener(f.a.UNMOUNT,j.onMountStateChanged(!1)),j.isMountListenerAdded=!0)},j.initializeAdEvents=function(){var e=c.a.AD_BUFFERING,t=c.a.AD_INFO,a=c.a.AD_BLOCK_START,o=c.a.AD_STARTED,s=c.a.AD_COMPLETE,d=c.a.AD_BLOCK_END,u=f.a.PLAYING,p=f.a.WAITING;n.adTagStartLoadingObserver((function(){l.a.info("NexPlayerWrapper.adTagStartLoadingObserver"),nexplayer.AdInstance().addEventListener(u,(function(){l.a.info("NexPlayerWrapper Ads Playing Event"),j.startAdCountDownInterval()})),nexplayer.AdInstance().addEventListener(p,(function(){l.a.info("NexPlayerWrapper Ads Waiting Event curState:"+j.playState),j.clearAdInterval(),j.updateState(j.playState,e)}))})),n.addAdInfoObserver((function(e){var a;j.adBlocks=[],j.isLastAdPlayed=!1,e.detail.forEach((function(e){var t=j.adBlocks.find((function(t){var a=t.breakId;return e.breakId===a}));t?t.adSource=Object(i.f)(Object(i.f)([],t.adSource,!0),[Object(i.a)({},e.adSource)],!1):(a={breakId:e.breakId,timeOffset:Object(r.b)(e.timeOffset),adSource:[Object(i.a)({},e.adSource)]},j.adBlocks.push(a))})),j.adPoints=j.adBlocks.map((function(e){return e.timeOffset})),j.constructAdData(),l.a.info("NexPlayerWrapper.AdInfo",j.adBlocks.reduce((function(e,t){return"".concat(e," ").concat(t.breakId,":").concat(t.adSource.length)}),"")),j.updateState(j.playState,t,j.adData)})),n.addAdBlockStartObserver((function(e){l.a.info("NexPlayerWrapper.AdBlockStart(ads: ".concat(e.detail,")")),j.inAdBlock=!0,j.adData.adCount=e.detail,j.updateState(j.playState,a,j.adData)})),n.addAdLoadedObserver((function(){l.a.info("NexPlayerWrapper.AdLoaded")})),n.addAdStartedObserver((function(e){var t,a,n;l.a.info("NexPlayerWrapper.AdStarted(position:".concat(null===(t=e.detail)||void 0===t?void 0:t.index," duration:").concat(null===(a=e.detail)||void 0===a?void 0:a.duration,")")),j.inAdBlock?(j.constructAdData(Object(i.a)(Object(i.a)({},e.detail),{adIndex:e.detail.index,adRemainingTime:null!==(n=e.detail.duration)&&void 0!==n?n:0})),l.a.info("NexPlayerWrapper.AdStarted ... Id: ".concat(j.adData.adId)),l.a.info("NexPlayerWrapper.AdStarted ... Title: ".concat(j.adData.contentPlacement)),l.a.info("NexPlayerWrapper.AdStarted ... Length: ".concat(j.adData.duration)),j.isLastAdBreak(j.adData)&&(j.isLastAdPlayed=!0),j.updateState(j.playState,o,j.adData),nexplayer.AdInstance().setMute(!1),nexplayer.AdInstance().setVolume(j.adVolume),j.startAdCountDownInterval()):l.a.info("NexPlayerWrapper.AdStarted ... not in adBlock - ignoring!")})),n.addAdCompleteObserver((function(){l.a.info("NexPlayerWrapper.AdComplete"),j.inAdBlock?(j.clearAdInterval(),j.updateState(j.playState,s,j.adData)):l.a.info("NexPlayerWrapper.AdComplete ... not in adBlock - ignoring!")})),n.addAdBlockEndObserver((function(){l.a.info("NexPlayerWrapper.AdBlockEnd"),j.inAdBlock?(j.inAdBlock=!1,j.clearAdInterval(),j.updateState(j.playState,d,j.adData)):l.a.info("NexPlayerWrapper.AdBlockEnd ... not in adBlock - ignoring!")})),n.addAdErrorObserver((function(){l.a.info("NexPlayerWrapper.AdError"),j.onAdError()}))},j.onShakaStateChanged=function(e){l.a.info("NexPlayerWrapper.onShakaStateChanged:",e.detail),j.onStateChanged(e.detail)},j.onStalled=function(e){l.a.info("NexPlayerWrapper.stalledChanged:",e.type)},j.onWaiting=function(e){l.a.info("NexPlayerWrapper.waitingChanged:",e.type)},j.onStateChanged=function(e){l.a.info("NexPlayerWrapper.stateChanged:".concat(e," curState:").concat(j.playState)),j.clearWaitingBufferTimer();var t=y.a.READY,a=y.a.PLAYING,n=y.a.PAUSED,i=y.a.ENDED;switch(e!==n&&j.clearScrubbingInteraction(),e){case t:if(!j.getDuration())break;j.enablePlayerABR();break;case a:j.bufferType===p.a.Initial&&j.updateState(j.playState,c.a.READY),j.playState!==c.a.BUFFERING&&(j.wasSeeking(j.playState)?j.waitingBufferTimer=setTimeout((function(){j.waitingBufferTimer=void 0,j.updateState(j.playState,c.a.PLAYING)}),100):j.playState!==c.a.PLAYING&&j.updateState(j.playState,c.a.PLAYING)),j.startChapterWhenPlaying&&(j.sendState(c.a.CHAPTER_START,j.currentChapter),j.startChapterWhenPlaying=!1);break;case n:j.explicitPause&&j.updateState(j.playState,c.a.PAUSED,j.explicitPause);break;case i:j.currentChapter&&(j.sendState(c.a.CHAPTER_COMPLETE),j.currentChapter=void 0),j.updateState(j.playState,c.a.ENDED)}j.explicitPause=!1},j.getAvailableAudioCodecs=function(e){switch(e){case"0x24":case"0x23":case"0x22":case"0x21":return[m.a.ac_3,m.a.mp4a_40_2];default:return j.preferredAudioChannelCount===v.a.stereo?[m.a.mp4a_40_2]:[m.a.ac_3,m.a.mp4a_40_2]}},j.loadVideo=function(e,t){var a=t.resumePosition,n=t.vttUrl,r=t.adTagUrl,o=t.emitVideoEvent,s=t.rendition,d=t.thumbnailVttUrl,u=t.isTrailer;return Object(i.b)(j,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(i){switch(i.label){case 0:return t=e.language,l.a.info("NexPlayerWrapper.loadVideo -> prepare and setuping player configuration"),this.updateState(this.playState,c.a.LOADING),this.currentVideoSetup={src:e,vttUrl:n,adTagUrl:r,thumbnailVttUrl:d},this.playbackLanguage=t,this.emitVideoEvent=this.emitVideoEvent||o,this.isTrailer=u,this.hasAds=!!r,a>0&&(this.playerProperties.currentTime=a),a>60&&(this.milestone60Seconds=!0),nexplayer.IsReady()||this.isPlayerMounted?[4,this.close()]:[3,2];case 1:i.sent(),i.label=2;case 2:if(nexplayer){this.initializeMountEvents(),this.hasAds&&this.initializeAdEvents();try{nexplayer.Setup(this.getNexplayerSetup(e,{resumePosition:a,vttUrl:n,adTagUrl:r,rendition:s,thumbnailVttUrl:d}))}catch(p){console.error("NexPlayerWrapper.loadVideo [nexplayer.Setup] error: ",p.message)}}return this.inPlayLaunch=!0,this.isDisposed=!1,[2]}}))}))},j.setVolume=function(e){j.videoElement.volume=e},j.onErrorState=function(e){if("TIMEOUT"===e.errorMessage)return l.a.info('NexPlayerWrapper.onErrorState("Recovering...")'),void j.player.reload();l.a.info("NexPlayerWrapper.onErrorState('".concat(e.errorMessage,"')"))},j.onError=function(e){l.a.info("NexPlayerWrapper.onError("+e.toString()+")")},j.stop=function(){l.a.info("NexPlayerWrapper.stop"),j.videoElement&&(j.videoElement.src=void 0)},j.filterTextTracks=function(e){var t=j.playbackLanguage,a=e.toLowerCase().trim(),n=t.toLowerCase().trim();return 1===j.player.getSubtitles().length&&n.split("-")[0]===a?(j.isLargeSubtitles=!0,!0):a===n},j.getCurrentAudioTrack=function(){var e,t=null===(e=j.player)||void 0===e?void 0:e.getCurrentAudioStream();return t?l.a.info("NexPlayerWrapper.getCurrentAudioTrack ",t.id):l.a.warning("NexPlayerWrapper.getCurrentAudioTrack empty"),t},j.addEventListener=function(e,t){var a;null===(a=j.videoElement)||void 0===a||a.addEventListener(e,t)},j.removeEventListener=function(e,t){var a;null===(a=j.videoElement)||void 0===a||a.removeEventListener(e,t)},j.getCurrentChapter=function(e){var t;return j.adPoints&&j.adPoints.length&&j.adPoints.some((function(a,n,i){var r=a,o=i[n+1],s=void 0!==o?o:1/0;if(e>=r&&e<s)return t={chapterStart:r,chapterEnd:s,chapterPosition:n+1,chapterLength:s-r},!0})),t},j.onTimeChanged=function(e){var t=j.player.getCurrentTime(),a=j.player.getDuration();if(j.isTrailer||(j.alreadyTrackedMilestone60Seconds=t>60),j.trickplay&&j.trickplay.isScrubbing()||!j.inPlayLaunch||(j.inPlayLaunch=!1),j.alreadyTrackedMilestone60Seconds&&j.milestone60Seconds||!(a-(a-t)>60)||(j.trackPlaybackEvents("action",u.a.Milestone_60),j.milestone60Seconds=!0,j.alreadyTrackedMilestone60Seconds=!0),j.adPoints&&j.adPoints.length)if(j.currentChapter){if(t>j.currentChapter.chapterEnd||t<j.currentChapter.chapterStart){var n=j.getCurrentChapter(t);j.seeked?j.sendState(c.a.CHAPTER_SKIP):j.sendState(c.a.CHAPTER_COMPLETE),j.playState===c.a.PLAYING?(j.chapterTimeout=setTimeout((function(){j.playState===c.a.PLAYING?j.sendState(c.a.CHAPTER_START,n):j.startChapterWhenPlaying=!0}),1e3),j.sendState(c.a.CHAPTER_START,n)):j.chapterTimeout=setTimeout((function(){j.startChapterWhenPlaying=!0}),500),j.currentChapter=n}}else j.currentChapter=j.getCurrentChapter(t),j.currentChapter&&j.sendState(c.a.CHAPTER_START,j.currentChapter);if(j.seeked=!1,0!==t){var i=j.isLivePlayback?Date.now():Math.ceil(t);i!==j.playerProperties.currentTime&&j.updateCurrentTime(i)}},j.updateState=function(e,t,a){l.a.info("NexPlayerWrapper.updateState("+e+", "+t+")");var n=c.a.AD_INFO;j.seeking&&j.wasSeeking(e)&&j.hasStoppedSeeking(t)&&(j.seeking=!1),j.sendState(t,a,e),t!==n&&(j.playState=t)},j.hasStoppedSeeking=function(e){var t=c.a.PLAYING,a=c.a.AD_BLOCK_START,n=e===t||e===a;return n&&j.trackPlaybackEvents("action",u.a.SeekEnd),n},j.isLastAdBreak=function(e){return e.adBreakTime===j.getLastAdPoint()},j.playerElement=document.getElementById(O),j.isLivePlayback=_,j.adVolume=x,j.hasAds=!!B,j.trickplay=new d.a({getPosition:function(e){return j.getPosition(e)},getDuration:j.getDuration,updateCurrentTime:j.updateCurrentTime,updatePlayerState:j.updateState,pause:function(){j.player.pause()},play:j.play,seek:j.seek,getEndingTime:function(){return j.endingTime},getLastAdBreakStartTime:function(){return j.getLastAdPoint()},getThumbnailAt:function(e){return Object(i.b)(j,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,this.player.getThumbnailAt(e)];case 1:return[2,t.sent()]}}))}))}}),j.hasAds&&(n=n||(A=f.a.AD_PODS_INFO,T=f.a.AD_BLOCK_STARTED,k=f.a.AD_BLOCK_END,C=f.a.AD_STARTED,w=f.a.AD_TAG_START_LOADING,L=f.a.AD_LOADED,N=f.a.AD_COMPLETED,D=f.a.AD_ERROR,nexplayer.AdsEvents(w,(function(e){h&&h(e)})),nexplayer.AdsEvents(A,(function(e){s&&s(e)})),nexplayer.AdsEvents(T,(function(e){g&&g(e)})),nexplayer.AdsEvents(L,(function(){S&&S()})),nexplayer.AdsEvents(C,(function(e){b&&b(e)})),nexplayer.AdsEvents(N,(function(){P&&P()})),nexplayer.AdsEvents(k,(function(){E&&E()})),nexplayer.AdsEvents(D,(function(){I&&I()})),{adTagStartLoadingObserver:function(e){h=e},addAdInfoObserver:function(e){s=e},addAdBlockStartObserver:function(e){g=e},addAdBlockEndObserver:function(e){E=e},addAdLoadedObserver:function(e){S=e},addAdStartedObserver:function(e){b=e},addAdCompleteObserver:function(e){P=e},addAdErrorObserver:function(e){I=e},removeAllObservers:function(){h=void 0,s=void 0,g=void 0,E=void 0,b=void 0,S=void 0,P=void 0,I=void 0}})),j}return Object(i.c)(a,t),a.prototype.getAdName=function(e){var t;if(!e)return"";var a=this.getCurrentAdBlock();return a&&(null===(t=a.adSource[e.adIndex])||void 0===t?void 0:t.id)||""},a.prototype.getCurrentAdBlockData=function(e){var t=this.getCurrentAdBlock(e);if(t){var a=t.breakId,n=t.timeOffset,i=t.adSource,r=e&&i[e.adIndex];r&&(r.duration=e.duration);var o=i.reduce((function(t,a){return t+Math.round(a.duration||(null==e?void 0:e.duration)||0)}),0);return l.a.info("NexPlayerWrapper.curAdBlock id:".concat(a," adBreakDuration:").concat(o)),{adBreakPosition:"preroll"===a?0:a&&Number(a.split("-")[1]),adBreakName:a,adBreakTime:n,adBreakDuration:o}}},a.prototype.getCurrentAdBlock=function(e){if(this.isLivePlayback)return this.getCurrentAdBlockForLive(e);var t=this.getPosition(),a=this.adBlocks.length-1;return 0===t?this.adBlocks[0]:t>=this.adBlocks[a].timeOffset?this.adBlocks[a]:this.adBlocks.find((function(e,a,n){var i=e.timeOffset,r=n[a+1],o=(null==r?void 0:r.timeOffset)||1/0;return t>=i&&t<o}))},a.prototype.getCurrentAdBlockForLive=function(e){var t=this;return this.adBlocks.find((function(a){return a.breakId===((null==e?void 0:e.contentPlacement)||t.adData.adBreakName)}))},a.prototype.onAdError=function(){this.inAdBlock?this.updateState(this.playState,c.a.AD_ERROR,this.adData):l.a.info("NexPlayerWrapper.AdError ... not in adBlock - ignoring!")},a.prototype.clearWaitingBufferTimer=function(){void 0!==this.waitingBufferTimer&&(clearTimeout(this.waitingBufferTimer),this.waitingBufferTimer=void 0)},a.prototype.getNexplayerSetup=function(e,a){var n=a.resumePosition,r=a.vttUrl,l=a.adTagUrl,c=a.rendition,d=a.thumbnailVttUrl,u=Object(o.b)(h.a.ENABLE_THUMBNAILS),p=d&&!u?{src:d,callback:this.setThumbnailError}:void 0,v=t.prototype.getNexplayerSetup.call(this,e,{resumePosition:n,vttUrl:r,adTagUrl:l});return Object(i.a)(Object(i.a)({},v),{protocolType:m.b.DASH,configuration:Object(i.a)(Object(i.a)({},v.configuration),{streaming:Object(i.a)(Object(i.a)({},v.configuration.streaming),this.devicePlatform===s.a.SAMSUNG&&{stallEnabled:!1}),drm:this.devicePlatform===s.a.PS5?{advanced:{"com.microsoft.playready":{distinctiveIdentifierRequired:!0,persistentStateRequired:!0}}}:void 0}),improveStartUp:!0,preferredAudioCodec:this.getAvailableAudioCodecs(c),useDynamicThumbnails:!1,staticThumbnails:p})},a.prototype.dispose=function(){this.removeMountEventListners(),t.prototype.dispose.call(this),this.hasAds&&n.removeAllObservers()},a.prototype.close=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,a,n,r,o,s,d,p,h,v,m,y,g,E,b,S,P;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(l.a.info("NexPlayerWrapper.close"),e=f.a.ERROR,t=f.a.WAITING,a=f.a.STALLED,n=f.a.TIME_UPDATE,r=f.a.BUFFER_TYPE,o=f.a.MILESTONE_25,s=f.a.MILESTONE_50,d=f.a.MILESTONE_75,p=f.a.LOADED_DATA,h=f.a.LOADED_METADATA,v=f.a.DURATION_CHANGE,m=f.a.ON_STATE_CHANGED,y=f.a.SUBTITLES_READY,g=f.a.SUBTITLES_DATA_LOADED,E=f.a.NEW_SUBTITLES_DATA_LOADED,b=f.a.VIDEO_PROGRESS_TIME,S=this.playerProperties.currentTime,this.player&&(this.player.off(this.bufferingEventId),this.player.off(this.errorEventId)),!this.videoElement)return[3,6];if(this.removeEventListener(p,this.onLoadedData),this.removeEventListener(h,this.onMetadataChanged),this.removeEventListener(v,this.onDurationChanged),this.removeEventListener(n,this.onTimeChanged),this.removeEventListener(e,this.onError),this.removeEventListener(t,this.onWaiting),this.removeEventListener(a,this.onStalled),this.removeEventListener(m,this.onShakaStateChanged),this.removeEventListener(y,this.onSubtitlesReady),this.removeEventListener(g,this.onSubtitlesDataLoaded),this.removeEventListener(E,this.onNewSubtitlesDataLoaded),this.removeEventListener(o,this.onMilestone),this.removeEventListener(s,this.onMilestone),this.removeEventListener(d,this.onMilestone),this.removeEventListener(b,this.onVideoProgressMilestone),this.removeEventListener(r,this.onBufferType),!this.player||!this.player.player_)return[3,5];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this.player.player_.destroy()];case 2:return i.sent(),[4,nexplayer.UnMount(this.playerWrapper)];case 3:return i.sent(),this.player=void 0,[3,5];case 4:return P=i.sent(),console.error("==== NexPlayerWrapper.dispose [this.player.destroy] error: ",P.message),[3,5];case 5:this.videoElement=void 0,i.label=6;case 6:return this.isTrailer&&this.playState===c.a.FF&&S>60&&this.trackPlaybackEvents("action",u.a.Milestone_60),this.currentChapter&&(this.sendState(c.a.CHAPTER_SKIP),this.currentChapter=void 0),this.clearAdInterval(),this.playState!==c.a.PAUSED||this.isDisposed?this.updateState(this.playState,c.a.UNKNOWN):this.updateState(this.playState,c.a.LOADING),void 0!==this.chapterTimeout&&clearTimeout(this.chapterTimeout),delete window._player,this.isDisposed=!0,[2]}}))}))},a}(g.b);t.a=E}).call(this,a(100))},1014:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return c}));var n,i,r=a(242),o=a(336);!function(e){e.Image="Image",e.Manifest="Manifest"}(i||(i={}));var s=[2,4,8,16,32,64,128],l=((n={})[i.Image]={420:["Image not loaded"],422:["Invalid image"]},n[i.Manifest]={422:["Empty manifest","No thumbnails found"]},n),c=function(){function t(e){var t=this;this.isForwarding=!1,this.isRewinding=!1,this.currentSpeedIndex=-1,this.thumbnailError=null,this.isScrubbing=function(){return t.isForwarding||t.isRewinding},this.fastforward=function(e){t.trickplay({scrub:t.scrubForward,setTrickPlayFlag:function(){return t.isForwarding=!0},isTrickPlayOpposite:t.isRewinding,cancelTrickPlayOpposite:t.cancelBackwardScrubbing,playState:e,trickPlayState:o.a.FF,oppositeTrickPlayState:o.a.REWIND})},this.rewind=function(e){t.trickplay({scrub:t.scrubBackward,setTrickPlayFlag:function(){return t.isRewinding=!0},isTrickPlayOpposite:t.isForwarding,cancelTrickPlayOpposite:t.cancelForwardScrubbing,playState:e,trickPlayState:o.a.REWIND,oppositeTrickPlayState:o.a.FF})},this.getPlaybackRate=function(){var e=-1===t.currentSpeedIndex?1:s[t.currentSpeedIndex];return e},this.seekToCurrentTime=function(){t.api&&t.api.seek&&t.api.seek(t.api.getPosition(!0))},this.clearIntervals=function(){clearInterval(t.scrubInterval),t.scrubInterval=void 0},this.seekAndPlay=function(){t.seekToCurrentTime(),t.api&&t.api.play&&t.api.play()},this.cancelBackwardScrubbing=function(){t.isRewinding=!1,t.resetSpeed()},this.getCurrentFrame=function(){return t.currentFrame},this.setThumbnailCanvas=function(e){t.canvasElement=e,t.context=t.canvasElement?t.canvasElement.getContext("2d"):void 0},this.getThumbnailCanvas=function(){return t.canvasElement},this.setThumbnailError=function(e){if(e){var a=l[e.type];if(a){var n=a[e.code];n&&-1!==n.indexOf(e.message)?t.thumbnailError=null:t.thumbnailError=e}else t.thumbnailError=null}else t.thumbnailError=null},this.getThumbnailError=function(){return t.thumbnailError},this.scrubForward=function(){var e=t.api.getPosition(!0)+t.getPlaybackRate(),a=t.api.getDuration(),n=t.api.getLastAdBreakStartTime(),i=t.api.getPosition()<n&&e>=n,r=i?n:a-t.api.getEndingTime();i||e>=a?(t.api.updateCurrentTime(Math.floor(r)),t.clearIntervals(),t.cancelForwardScrubbing(),t.seekAndPlay()):(t.api&&t.api.updateCurrentTime&&t.api.updateCurrentTime(Math.floor(e)),t.showThumbnailCanvas(e))},this.cancelForwardScrubbing=function(){t.isForwarding=!1,t.resetSpeed()},this.scrubBackward=function(){var e=Math.ceil(t.api.getPosition(!0)-t.getPlaybackRate());e>0?(t.api&&t.api.updateCurrentTime&&t.api.updateCurrentTime(e),t.showThumbnailCanvas(e)):(t.api&&t.api.updateCurrentTime&&t.api.updateCurrentTime(0),t.clearIntervals(),t.cancelBackwardScrubbing(),t.seekAndPlay())},this.isMaxSpeed=function(){return t.currentSpeedIndex===s.length-1},this.resetSpeed=function(){t.currentSpeedIndex=-1},this.api=e}return t.prototype.clearScrubbingInteraction=function(){this.clearIntervals(),this.clearTrickPlay()},t.prototype.trickplay=function(t){var a=this,n=t.scrub,i=t.setTrickPlayFlag,r=t.isTrickPlayOpposite,s=t.cancelTrickPlayOpposite,l=t.playState,c=t.trickPlayState,d=t.oppositeTrickPlayState;if(this.canScrub(l)){if(r){if(-1!==this.reduceSpeed())return l!==o.a.PAUSED&&this.api&&this.api.pause&&this.api.pause(),void(this.api&&this.api.updatePlayerState&&this.api.updatePlayerState(l,d));s()}this.clearIntervals(),l===o.a.PAUSED||this.isScrubbing()||this.api&&this.api.pause&&this.api.pause(),this.addSpeed(),i(),e((function(){a.api&&a.api.updatePlayerState&&a.api.updatePlayerState(l,c)})),this.scrubInterval=setInterval(n,500)}},t.prototype.clearTrickPlay=function(){this.isForwarding&&(this.clearThumbnailCanvas(),this.cancelForwardScrubbing(),this.seekToCurrentTime(),this.isForwarding=!1),this.isRewinding&&(this.clearThumbnailCanvas(),this.cancelBackwardScrubbing(),this.seekToCurrentTime(),this.isRewinding=!1)},t.prototype.showThumbnailCanvas=function(e){return Object(r.b)(this,void 0,Promise,(function(){var t,a,n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(!this.canvasElement||!this.context)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),t=this,[4,this.api.getThumbnailAt(Math.floor(e))];case 2:return t.currentFrame=r.sent(),[3,4];case 3:return a=r.sent(),console.error("NexPlayerWrapper.getThumbnailAt [nexplayer.getThumbnailAt] error: ",a.message),this.context.clearRect(0,0,300,150),[3,4];case 4:return this.currentFrame?(n=this.currentFrame,i=n.width,o=n.height,this.context.clearRect(0,0,i,o),this.context.drawImage(this.currentFrame.thumbnail,0,0),[2]):(this.context.clearRect(0,0,300,150),[2])}}))}))},t.prototype.clearThumbnailCanvas=function(){if(this.context)if(this.currentFrame){var e=this.currentFrame,t=e.width,a=e.height;this.context.clearRect(0,0,t,a)}else this.context.clearRect(0,0,300,150)},t.prototype.canScrub=function(e){return e===o.a.PLAYING||e===o.a.PAUSED||e===o.a.FF||e===o.a.REWIND},t.prototype.addSpeed=function(){var e=this.currentSpeedIndex=this.isMaxSpeed()?this.currentSpeedIndex:this.currentSpeedIndex+1;return e},t.prototype.reduceSpeed=function(){return this.currentSpeedIndex=this.isMinSpeed()?-1:this.currentSpeedIndex-1},t.prototype.isMinSpeed=function(){return 0===this.currentSpeedIndex},t}()}).call(this,a(294).setImmediate)},1015:function(e,t,a){"use strict";var n,i,r,o,s,l,c,d,u;a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c})),function(e){e.NONE="None",e.CHROME="Chrome",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="Opera",e.SAFARI="Safari",e.UNKNOWN="Unknwown"}(n||(n={})),function(e){e.NONE="None",e.CONSOLE="Console",e.SMART_TV="Smart TV",e.WEB="Web",e.UNKNOWN="Unknown"}(i||(i={})),function(e){e.NONE="None",e.ANDROID="Android",e.IOS="iOS",e.LINUX="Linux",e.MAC="Mac",e.PLAYSTATION_4="PS4",e.PLAYSTATION_5="PS5",e.TIZEN="Tizen",e.XBOX="XBOX",e.WEBOS="WebOS",e.WINDOWS="Windows",e.UNKNOWN="Unknown"}(r||(r={})),function(e){e.NONE="none",e.READY="ready",e.BUFFERING="buffering",e.PLAYING="playing",e.PAUSED="paused",e.SEEKING="seeking",e.ENDED="ended"}(o||(o={})),function(e){e.NONE="None",e.DASH="Dash",e.HLS="HLS",e.PROGRESSIVE_DOWNLOAD="Progressive download",e.SMOOTH_STREAMING="Smooth streaming"}(s||(s={})),function(e){e.NONE="None",e.LIVE=" Live",e.VOD="VOD"}(l||(l={})),function(e){e.ac_3="ac-3",e.ec_3="ec-3",e.opus="opus",e.flac="flac",e.vorbis="vorbis",e.mp4a_40_2="mp4a.40.2"}(c||(c={})),function(e){e.FAIRPLAY="com.apple.fps.1_0",e.PLAYREADY="com.microsoft.playready",e.WIDEVINE="com.widevine.alpha"}(d||(d={})),function(e){e.NONE="None",e.CHUNKED="Chunked",e.DYNAMIC="Dynamic",e.STATIC="Static"}(u||(u={}))},1016:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.BUFFERING="Buffering",e.READY="Ready",e.PLAYING="Playing",e.PAUSED="Paused",e.ENDED="Ended"}(n||(n={}))},1017:function(e,t,a){},1018:function(e,t,a){"use strict";var n=a(242),i=a(243),r={backgroundColor:"rgba(255, 255, 255, 0.9)",color:"red",position:"absolute",top:0,left:0,width:280,paddingTop:55,paddingLeft:20,paddingBottom:20,fontSize:10,zIndex:8888},o={position:"absolute",top:20,left:0,width:"100%",height:50,zIndex:9999},s={position:"relative",height:5},l={top:0,left:280,height:90,width:1640},c={marginTop:15,color:"#000"};function d(e,t){return t-e}function u(e){return"".concat(e.state.slice(0,3).toUpperCase()," (").concat(100*Math.round(e.duration)/100,")")}function p(e){return e.bandwidth/1e3}var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shaka=null,t.videoElement=null,t.updateTimer=null,t.manifest=null,t}return Object(n.c)(t,e),t.prototype.componentDidMount=function(){var e=this;this.clearUpdateTimer(),this.updateTimer=setInterval((function(){e.setState({})}),1e3)},t.prototype.componentWillReceiveProps=function(e){this.shaka=e.shaka,this.videoElement=e.videoElement,!this.manifest&&this.shaka&&(this.manifest=this.shaka.getManifest())},t.prototype.componentWillUnmount=function(){this.clearUpdateTimer()},t.prototype.clearUpdateTimer=function(){null!==this.updateTimer&&(clearInterval(this.updateTimer),this.updateTimer=null)},t.prototype.render=function(){if(this.shaka&&this.videoElement){var e=this.shaka.getConfiguration(),t=this.shaka.seekRange(),a=t.end-t.start,h=this.manifest||this.shaka.getManifest(),v=h&&h.presentationTimeline,m=v.getPresentationStartTime(),f=this.shaka.streamingEngine_&&this.shaka.streamingEngine_.bufferingGoalScale_,y=v&&v.getDelay(),g=v&&v.getSegmentAvailabilityStart(),E=v&&v.getSegmentAvailabilityEnd(),b=E-g,S=v&&v.getSafeSeekRangeStart(e.streaming.rebufferingGoal+(e.streaming.safeSeekOffset||5)),P=this.shaka.getBufferedInfo(),I=P.video[0],A=P.audio[0],T=I&&I.start||0,k=I&&I.end||0,C=A&&A.start||0,w=A&&A.end||0,L=I&&I.end-I.start||0,N=A&&A.end-A.start||0,D=void 0;D=this.shaka.isLive()?this.shaka.getPlayheadTimeAsDate().getTime()/1e3-m:this.videoElement.currentTime;var O=Math.round(100*(k-D))/100,_=Math.round(100*(w-D))/100,R=E-S,x=Date.now()/1e3,M=this.shaka.getStats()||{},B=g-30,F=1920/(E+30-B),U=d(B,g),j=d(B,t.start),V=d(B,T),W=d(B,k),H=d(B,C),G=d(B,w),Y=d(B,D),K=d(B,S);return i.createElement("div",null,i.createElement("div",{style:o},i.createElement("div",{style:Object(n.a)(Object(n.a)({},s),{backgroundColor:"#1caa2c",left:U*F,width:b*F})}),i.createElement("div",{style:Object(n.a)(Object(n.a)({},s),{backgroundColor:"#ff8a2c",left:j*F,width:a*F})}),i.createElement("div",{style:Object(n.a)(Object(n.a)({},s),{backgroundColor:"#ecea3c",left:K*F,width:R*F})}),i.createElement("div",{style:Object(n.a)(Object(n.a)({},s),{backgroundColor:"#1864ff",left:V*F,width:L*F,borderColor:"#1864ff",borderWidth:"1px",borderStyle:"solid",backgroundClip:"content-box",paddingRight:"".concat(Math.max(0,e.streaming.rebufferingGoal*(f||1)-(W-Y))*F,"px")})}),i.createElement("div",{style:Object(n.a)(Object(n.a)({},s),{backgroundColor:"#ff4558",left:H*F,width:N*F,borderColor:"#ff4558",borderWidth:"1px",borderStyle:"solid",backgroundClip:"content-box",paddingRight:"".concat(Math.max(0,e.streaming.rebufferingGoal*(f||1)-(G-Y))*F,"px")})}),i.createElement("div",{style:Object(n.a)(Object(n.a)({},s),{backgroundColor:"black",height:"25px",width:"2px",left:Y*F,top:"-25px"})})),i.createElement("div",{style:r},i.createElement("div",null,i.createElement("span",null,"load latency: "),i.createElement("span",null,M&&M.loadLatency&&Math.round(100*M.loadLatency)/100||null)),i.createElement("div",null,i.createElement("span",null,"buffering goal: "),i.createElement("span",null,e.streaming.bufferingGoal)),i.createElement("div",null,i.createElement("span",null,"buffering goal scale: "),i.createElement("span",null,f||"N/A")),i.createElement("div",null,i.createElement("span",null,"rebuffering goal: "),i.createElement("span",null,e.streaming.rebufferingGoal)),i.createElement("div",null,i.createElement("span",null,"safe seek offset: "),i.createElement("span",null,e.streaming.safeSeekOffset||5)),i.createElement("div",null,i.createElement("span",null,"segment availability duration: "),i.createElement("span",null,b)),i.createElement("div",null,i.createElement("span",null,"presentation delay: "),i.createElement("span",null,y)),i.createElement("div",null,i.createElement("span",null,"segment availability: "),i.createElement("span",null,Math.round(g),"-",Math.round(E))),i.createElement("div",null,i.createElement("span",null,"seek range: "),i.createElement("span",null,Math.round(t.start),"-",Math.round(t.end))),i.createElement("div",null,i.createElement("span",null,"now seconds: "),i.createElement("span",null,Math.round(x)," (",Math.round(x-D-m),")")),i.createElement("div",null,i.createElement("span",null,"playhead time seconds: "),i.createElement("span",null,Math.round(D))),i.createElement("div",null,i.createElement("span",null,"video buffered ahead: "),i.createElement("span",null,O)),i.createElement("div",null,i.createElement("span",null,"audio buffered ahead: "),i.createElement("span",null,_)),i.createElement("div",{style:c},i.createElement("div",null,i.createElement("span",null,"Video resolution: "),i.createElement("span",null,M.width," x ",M.height)),i.createElement("div",null,i.createElement("span",null,"Stream bandwidth: "),i.createElement("span",null,M.streamBandwidth," bps")),i.createElement("div",null,i.createElement("span",null,"Estimated bandwidth: "),i.createElement("span",null,M.estimatedBandwidth," bps")),i.createElement("div",null,i.createElement("span",null,"Load latency: "),i.createElement("span",null,M.loadLatency," sec")),i.createElement("div",null,i.createElement("span",null,"Live latency: "),i.createElement("span",null,M.liveLatency," sec")),i.createElement("div",null,i.createElement("span",null,"Decoded frames: "),i.createElement("span",null,M.decodedFrames)),i.createElement("div",null,i.createElement("span",null,"Corrupted frames: "),i.createElement("span",null,M.corruptedFrames)),i.createElement("div",null,i.createElement("span",null,"Dropped frames: "),i.createElement("span",null,M.droppedFrames)))),i.createElement("div",{style:Object(n.a)(Object(n.a)({},r),l)},i.createElement("div",null,i.createElement("span",null,"variants: "),i.createElement("span",null,M&&M.switchHistory.map(p).join(" -> "))),i.createElement("div",null,i.createElement("span",null,"states: "),i.createElement("span",null,M&&M.stateHistory.map(u).join(" -> ")))))}return null},t}(i.Component);t.a=h},1019:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),function(e){e.INTRO="Intro",e.RECAP="Recap"}(n||(n={}));var i=5,r=new(function(){function e(){var e=this;this.togglePlayerBreakVisibility=function(t){e.playerBreak&&(e.showSkipPlayerBreak=t)}}return e.prototype.setPlayerBreaks=function(e){this.playerBreak=e},e.prototype.setLastSavedPosition=function(e){this.lastSavedPosition=e},e.prototype.getLastSavedPosition=function(){return this.lastSavedPosition},e.prototype.getPlayerBreak=function(){return this.playerBreak},e.prototype.getPlayerBreakBtnVisibility=function(){return this.showSkipPlayerBreak},e.prototype.getPlayerBreakLabel=function(e){return e===n.INTRO?"@{player_break_skip_intro}":"@{player_break_skip_recap}"},e.prototype.isInPlayerBreakRange=function(e){var t,a,n=r.getPlayerBreak();if(!n&&!e)return!1;var i=null===(t=null==n?void 0:n.BreakTimes)||void 0===t?void 0:t.End,o=null==i?void 0:Math.max(0,i-2);return e>=(null===(a=null==n?void 0:n.BreakTimes)||void 0===a?void 0:a.Start)&&e<=o},e}())},1020:function(e,t,a){"use strict";var n=a(242),i=a(243),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.getBackImageStyle=function(){var e=this.props,t=e.item,a=e.isFullscreen;if(t.images&&t.images.wallpaper&&!a)return{backgroundImage:'url("'.concat(t.images.wallpaper,'")')}},t.prototype.render=function(){return this.props.render({backImageStyle:this.getBackImageStyle(),isActionBtnLighter:!1})},t}(i.PureComponent);t.a=r},1021:function(e,t,a){"use strict";var n,i,r=a(242),o=a(243),s=a(247),l=a.n(s),c=a(245),d=a(244),u=a(251),p=(a(1022),new d.a("player-actions-sub"));!function(e){e.on="close_captions_on",e.off="close_captions_off",e["en-ca"]="english_language",e["fr-ca"]="french_language"}(n||(n={}));var h=function(e){function t(t){var a=e.call(this,t)||this;return a.assignClassName=function(e){var t=a.props,n=t.focused,i=t.actions,r=t.selectedItem,o=a.state.focusIndex,s=(i||[]).findIndex((function(e){return e.code===r}));return l()(p.e("act"),"action",{focused:n&&o===e},{selected:s===e})},a.btnMouseEnter=function(e){var t,n,i=parseInt(null===(n=null===(t=e.currentTarget)||void 0===t?void 0:t.dataset)||void 0===n?void 0:n.index);a.setState({focusIndex:i})},a.invokeItem=function(){var e=a.props,t=e.actions;(0,e.click)(t[a.state.focusIndex].code)},a.renderAction=function(e){var t=e.label,a=e.code,i=(t||a).toLowerCase(),r=n[i];return r?o.createElement(u.a,{tagName:"span"},"@{".concat(r,"|").concat(i,"}")):i},a.state={focusIndex:t.profileCCPreference?1:0},a}return Object(r.c)(t,e),t.prototype.componentWillReceiveProps=function(e){e.actions!==this.props.actions&&this.setState({focusIndex:0})},t.prototype.componentDidUpdate=function(){i!==this.props.currentFocusState&&this.context.focusNav.handleBrowserFocus(),i=this.props.currentFocusState},t.prototype.render=function(){var e=this,t=this.props,a=t.classNames,r=t.actions,s=t.isEndMode,c=t.handleMouseEnter,d=t.focusState,h=r||[],v=i!==this.props.currentFocusState;return o.createElement("div",{className:l()(p.b({end:s}),a),onMouseEnter:c,"data-focus-state":d},o.createElement(u.a,{tagName:"div",className:p.e("wrapper")},o.createElement(u.a,{className:p.e("wrapper-title")},"@{close_captions_player_label}"),h.map((function(t,a){return o.createElement(u.a,{tagName:"button",key:"player-actions-sub-".concat(a),"data-index":a,className:e.assignClassName(a),onMouseDown:e.invokeItem,onMouseEnter:e.btnMouseEnter,values:{x:a+1,total:h.length},formattedAriaLabel:"".concat(v?"@{close_captions_player_label}":"","  @{").concat(n[t.label.toLowerCase()],"} @{x_of_total_aria_short}")},e.renderAction(t))}))))},t.prototype.moveUp=function(){var e=this.state.focusIndex;(e-=1)>=0&&this.setState({focusIndex:e})},t.prototype.moveDown=function(){var e=this.props.actions.length,t=this.state.focusIndex;(t+=1)<e&&this.setState({focusIndex:t})},t.contextTypes={focusNav:c.object.isRequired},t}(o.Component);t.a=h},1022:function(e,t,a){},1023:function(e,t,a){"use strict";var n=a(242),i=a(243),r=a(286),o=a(387),s=a(336),l="@{playing_announcement_aria}",c="@{paused_announcement_aria}",d="@{skipping_announcement_aria}",u={FF:"@{fast_forwarding_announcement_aria}",RW:"@{rewinding_announcement_aria}"},p={Enable:"@{enabling_dv_aria}",Disable:"@{disabling_dv_aria}"},h=function(e){function t(t){var a=e.call(this,t)||this;return a.state={skipPlayAnnouncement:!1,ariaLiveContent:void 0,isSkipped:!1,initialVideoAnnouncementMade:!1},a}return Object(n.c)(t,e),t.prototype.componentDidUpdate=function(e){this.handleAriaLiveState(e)},t.prototype.componentWillReceiveProps=function(e){e.playState===s.a.PLAYING&&this.state.skipPlayAnnouncement&&this.setState({skipPlayAnnouncement:!1,isSkipped:!1})},t.prototype.handleAriaLiveState=function(e){var t,a,n,i=this.props,o=i.item,h=i.playState,v=i.duration,m=i.position,f=i.isDVEnabled,y=i.currentPlayerBreak,g=i.isSkipped,E=i.playrate,b=void 0===E?0:E,S=o.showName,P=o.episodeNumber,I=o.title,A=o.seasonNumber,T=Object(r.c)(m,v),k=T.hours,C=T.minutes,w=T.seconds,L=h===s.a.PLAYING,N=k||C||w,D=!1,O={ariaLiveContent:{values:{},template:void 0},initialVideoAnnouncementMade:this.state.initialVideoAnnouncementMade};this.state.initialVideoAnnouncementMade&&h===s.a.FF&&(O.ariaLiveContent={values:{speed:Math.abs(b)},template:u.FF}),this.state.initialVideoAnnouncementMade&&h===s.a.REWIND&&(O.ariaLiveContent={values:{speed:Math.abs(b)},template:u.RW}),N&&!this.state.initialVideoAnnouncementMade&&L&&(O={ariaLiveContent:{values:{hours:k,minutes:C,seconds:w,seasonNumber:A||0,episodeNumber:P||0,episodeName:I,showName:S},template:l},initialVideoAnnouncementMade:!0}),this.state.initialVideoAnnouncementMade&&N&&e.isPlay!==L&&e.playState!==s.a.LOADING&&e.playState!==s.a.REWIND&&e.playState!==s.a.FF&&v&&m&&!this.state.skipPlayAnnouncement&&(O.ariaLiveContent={values:{hours:k,minutes:C,seconds:w,seasonNumber:A||0,episodeNumber:P||0,episodeName:I,showName:S},template:L?l:c}),this.state.initialVideoAnnouncementMade&&g&&!this.state.isSkipped&&(O.ariaLiveContent={values:{hours:k,minutes:C,seconds:w,seasonNumber:A||0,episodeNumber:P||0,episodeName:I,showName:S,type:y},template:d},this.setState({skipPlayAnnouncement:!0,isSkipped:!0})),this.state.initialVideoAnnouncementMade&&e.isDVEnabled!==f&&(O.ariaLiveContent={template:f?p.Enable:p.Disable,values:{}},this.setState({skipPlayAnnouncement:!0})),N||(D=!0,O.ariaLiveContent={values:{},template:""});var _=(null===(t=O.ariaLiveContent)||void 0===t?void 0:t.template)!==(null===(a=this.state.ariaLiveContent)||void 0===a?void 0:a.template),R=(O.ariaLiveContent.template===u.FF||O.ariaLiveContent.template===u.RW)&&b!==e.playrate;((null===(n=O.ariaLiveContent)||void 0===n?void 0:n.template)||D)&&(_||R)&&this.setState(O)},t.prototype.render=function(){var e,t;return i.createElement(o.a,{"aria-hidden":!this.props.enabled,values:null===(e=this.state.ariaLiveContent)||void 0===e?void 0:e.values},null===(t=this.state.ariaLiveContent)||void 0===t?void 0:t.template)},t}(i.Component);t.a=h},1024:function(e,t,a){},1042:function(e,t,a){"use strict";var n=a(242),i=a(243),r=a(1012),o=a(324),s=a(336),l=a(244),c=a(252),d=a(1013),u=new l.a("player-wrapper"),p=function(e){function t(t){var a=e.call(this,t)||this;return a.onRef=function(e){a.ref=e},a}return Object(n.c)(t,e),t.prototype.createVideoComponent=function(e){var t=e.adTagUrl,a=this.props,n=a.livePlay,i=a.adVolume,r=a.preferredAudioChannelCount;return new d.a({adTagUrl:t,adVolume:i,isLivePlayback:n,playerContainerId:this.ref.id,preferredAudioChannelCount:r})},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),document.body.addEventListener("keydown",this.onKeyDown.bind(this),!1)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),document.body.removeEventListener("keydown",this.onKeyDown.bind(this),!1)},t.prototype.render=function(){return i.createElement("div",{id:"player-wrapper",className:u.b(),ref:this.onRef})},t.prototype.onKeyDown=function(e){if(!this.video)return!1;var t=this.props,a=t.isFullscreen,n=t.isLoading,i=t.isSwitchingPlaybackLanguage,r=t.livePlay,l=t.goBackFromVideo,d=t.togglePlayerBreakVisibility,u=t.showAds,p=c.a.DISABLE_FUNCTION_KEYS_IN_LIVE_PLAYER&&r;if(this.video&&!p&&a&&!n&&!i)switch(d(!0),e.keyCode){case o.a.Play:if(u){if(c.a.ENABLE_PAUSABLE_ADS){this.video.playAdvert();break}return!1}this.video.play();break;case o.a.Pause:if(u){if(c.a.ENABLE_PAUSABLE_ADS){this.video.pauseAdvert();break}return!1}this.video.pause();break;case o.a.PlayPause:if(u){if(c.a.ENABLE_PAUSABLE_ADS){this.video.playState===s.a.AD_PLAYING?this.video.pauseAdvert():this.video.playAdvert();break}return!1}this.video.playState===s.a.PLAYING?this.video.pause():this.video.play();break;case o.a.Stop:if(r){if(u)return!1;this.video.pause()}else l();break;case o.a.Rewind:if(r)return!1;this.video.rewind();break;case o.a.FastForward:if(r)return!1;this.video.fastforward();break;default:return!0}},t}(r.a),h=(a(1017),p);t.a=h},1043:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(522);function i(e,t){return 3002===e||8002===e?n.b.GeoBlockedError:8009===e||t>=400&&t<500?n.b.MediaUnavailable:t>=500&&t<600?n.b.ServerError:n.b.PlayerError}},1044:function(e,t,a){"use strict";var n=a(242),i=a(243),r=a(245),o=a(247),s=a.n(o),l=a(250),c=a(244),d=a(314),u=a(251),p=a(298),h=a(249),v=a(534),m=a(246),f=(a(998),new c.a("count-down-timer")),y=function(e){function t(t){var a=e.call(this,t)||this;a.disposed=!1,a.drawTimer=function(){var e=a.drawTimerOptions,t=e.canvas,n=e.canvasWidth,i=e.canvasHeight,r=e.borderThickness,o=e.borderColor,s=e.center,l=e.radius;if(t&&!(a.curMilSeconds/1e3>=a.props.totalSeconds)){var c=a.curMilSeconds/1e3/a.props.totalSeconds,d=t.getContext("2d");d.clearRect(0,0,n,i),d.strokeStyle=o,d.lineWidth=r,d.beginPath(),d.arc(s,s,l,2*Math.PI*c-.5*Math.PI,-.5*Math.PI,!1),d.stroke()}},a.state={remainSeconds:t.totalSeconds},a.disposed=!1,a.isActive=t.isActive,a.curMilSeconds=0;var n=Math.min(m.a.playerCountDownTimerWidth,m.a.playerCountDownTimerHeight),i=m.a.playerCountDownTimerBorderWidth;return a.drawTimerOptions={canvas:void 0,canvasWidth:m.a.playerCountDownTimerWidth,canvasHeight:m.a.playerCountDownTimerHeight,width:n,borderThickness:i,borderColor:m.a.playerCountDownTimerBorderColor,center:n/2,radius:n/2-i/2},a}return Object(n.c)(t,e),t.prototype.componentDidMount=function(){this.drawTimerOptions.canvas=Object(v.findDOMNode)(this).querySelector(".timer-canvas"),this.isActive&&this.beginTimer()},t.prototype.componentWillUnmount=function(){this.setState({remainSeconds:this.props.totalSeconds}),clearInterval(this.timer),this.disposed=!0},t.prototype.componentWillReceiveProps=function(e){e.isActive!==this.isActive&&(this.isActive=e.isActive,this.isActive?this.beginTimer():(this.stopTimer(),this.curMilSeconds=0))},t.prototype.render=function(){var e=this.drawTimerOptions,t=e.canvasWidth,a=e.canvasHeight;return i.createElement("div",{className:s()(f.b(""),this.props.classNames)},i.createElement("canvas",{className:"timer-canvas",width:t,height:a}),i.createElement("div",{className:f.e("number")},this.state.remainSeconds))},t.prototype.beginTimer=function(){var e=this;this.timer=setInterval((function(){if(e.disposed)clearInterval(e.timer);else{if(e.curMilSeconds+=100,e.drawTimer(),e.curMilSeconds%1e3==0){var t=e.props.totalSeconds-e.curMilSeconds/1e3;e.setState({remainSeconds:t}),e.props.setRemainSeconds(t)}e.curMilSeconds>1e3*e.props.totalSeconds&&(e.props.timeRunout(),clearInterval(e.timer))}}),100)},t.prototype.stopTimer=function(){clearInterval(this.timer),this.curMilSeconds=0},t}(i.Component),g=a(419),E=a(252),b=(a(999),new c.a("player-end")),S=new c.a("player-end-episode-info"),P=new c.a("player-end-relatedList"),I=function(e){function t(t){var a=e.call(this,t)||this;a.mouseEnterItem=function(e){a.setState({curIndex:e},a.trackedItemFocused)},a.setRemainSeconds=function(e){a.remainSeconds=e},a.onTimeRunout=function(){var e=a.state.nextEpisode,t=a.props,n=t.showAutoPlayReminderMessage,i=t.onPageChange,r=t.trackEvents,o=a.context,s=o.router,l=o.detailHelper,c=o.focusNav;n?l.handlePlayActionCanceledBehavior():(l.isInChainingPlay=!0,l.isAutoPlay=!0,c.isEpisodeClicked=!1,i(),c.hideDialog(),r("action",d.a.ChainPlay,{countdown:0,nextItem:e}),Object(g.b)(e),s.replace(e.watchPath))},a.trackedItemFocused=function(e,t){var n=a.state,i=n.nextEpisode,r=n.curIndex,o=e||a.props,s=o.item,l=o.itemImageTypes,c=o.relatedList,d=l[s.type]||"poster";i?a.context.focusNav.analytics.triggerItemEvents(t?"MOUSELEAVE":"MOUSEENTER",i,o,0,d):c&&a.context.focusNav.analytics.triggerItemEvents(t?"MOUSELEAVE":"MOUSEENTER",c.items[r],o,r,d)},a.invokeItem=function(){var e=a.state,t=e.nextEpisode,n=e.curIndex,i=a.props,r=i.onPageChange,o=i.itemImageTypes,s=i.item,l=i.relatedList,c=i.trackEvents,u=i.playback,p=a.context,h=p.focusNav,v=p.detailHelper,m=p.router,f=o[s.type]||"poster";if(r(),t)if(h.analytics.triggerItemEvents("CLICK",t,a.props,n,f),v.isAutoPlay=!1,a.nextEpisodeEntitlement){var y=u.chainPlayCountdown?a.remainSeconds:-1;v.isInChainingPlay=!0,h.isEpisodeClicked=!1,c("action",d.a.ChainPlay,{countdown:y,nextItem:t}),h.analytics.triggerItemWatched(!0,t),Object(g.b)(t),m.replace(t.watchPath)}else v.isInChainingPlay=!1,m.replace(t.path);else{var E=l?l.items:[];h.analytics.triggerItemEvents("CLICK",E[n],a.props,n,f),m.replace(E[n].path)}};var n=t.item,i=t.nextEpisode;return a.item=n,a.state={nextEpisode:i,curIndex:0,itemTitle:"",prevFocused:!1},a.focusable=!0,a.relatedMode="episode"!==a.item.type,a}return Object(n.c)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props,a=t.focused,n=t.nextEpisode;e.item&&e.item!==this.item&&(this.item=e.item),a||this.setState({prevFocused:!1}),e.focused!==a&&(e.focused?this.trackedItemFocused(e):this.trackedItemFocused(e,!0)),e.itemTitle&&this.setState({itemTitle:e.itemTitle}),e.nextEpisode!==n&&this.setState({nextEpisode:e.nextEpisode})},t.prototype.componentDidUpdate=function(e,t){this.state.curIndex!==t.curIndex&&this.setState({prevFocused:!0})},t.prototype.render=function(){return i.createElement("div",{className:s()(b.b(),this.props.classNames)},i.createElement(u.a,{tagName:"div",className:S.e("coming-up",{show:"episode"===this.props.item.type})},"@{player_panel_coming_up_next|Coming up next}"),"episode"===this.props.item.type&&this.renderNextEpisode(this.state.nextEpisode),"episode"!==this.props.item.type&&this.renderRecommendItems())},t.prototype.renderNextEpisode=function(e){if(!e)return this.relatedMode=!0,this.renderRecommendItems();var t=this.props.itemImageTypes[e.type],a=this.props,r=a.show,o=a.countDownTime,s=a.focused,l=a.onMouseEnter,c=a.enableCountDown,d=this.state.itemTitle;this.focusable=!0,t||(t="poster");var v=Object(h.h)(t);this.nextEpisodeEntitlement=Object(h.c)(e);var f={comingUpNext:!0,countDownTime:c&&this.nextEpisodeEntitlement&&o||0},g=Object(n.a)(Object(n.a)({},e),{customFields:(null==e?void 0:e.customFields)?f:Object(n.a)(Object(n.a)({},e.customFields),f)});return i.createElement("div",{className:b.e("episode")},i.createElement("div",{className:b.e("thumbnail")},i.createElement(p.a,{item:g,imageType:t,imageOptions:{width:v},itemMargin:m.a.assetListItemMargin,focused:s,assetMouseEnter:l,onClick:this.invokeItem})),i.createElement("div",{className:S.b()},E.a.SHOULD_SHOW_MORE_INFO_IN_ENDBOARD&&i.createElement("div",{className:S.e("next")},d),i.createElement(u.a,{tagName:"div",className:S.e("number"),values:{seasonNumber:e.season&&e.season.seasonNumber||e.seasonNumber,episodeNumber:e.episodeNumber,episodeName:e.title}},E.a.SHOULD_SHOW_MORE_INFO_IN_ENDBOARD?"@{player_actions_metadata_title|S{seasonNumber} E{episodeNumber} - {episodeName}}":"".concat(e.episodeName))),0!==o&&r&&this.nextEpisodeEntitlement&&i.createElement("div",{className:b.e("count-down",{show:c})},i.createElement(u.a,{tagName:"span",className:b.e("starting-in")},this.props.showAutoPlayReminderMessage?"@{autoplay_reminder_exit_label|Exit in}":"@{player_panel_starting|Starting in}"),i.createElement("div",{className:b.e("timer")},i.createElement(y,{timeRunout:this.onTimeRunout,totalSeconds:o,isActive:c,setRemainSeconds:this.setRemainSeconds}))))},t.prototype.renderRecommendItems=function(){var e=this,t=this.props.relatedList?this.props.relatedList.items.slice(0,3):[],a=this.props.itemImageTypes[this.props.item.type];if(0===t.length)return this.focusable=!1,i.createElement("div",null);a||(a="poster");var r=Object(h.h)(a);this.maxIndex=t.length-1;var o=t.map((function(t,o){var s=e.state.curIndex===o&&e.props.focused,l=!e.state.prevFocused&&e.props.focused,c=Object(n.a)(Object(n.a)({},t),{customFields:{relatedItem:!0}});return i.createElement("div",{className:P.e("item"),key:"related-".concat(o+1)},i.createElement(p.a,{item:l?c:t,imageType:a,imageOptions:{width:r},itemMargin:m.a.assetListItemMargin,focused:s,index:o,assetMouseEnter:e.mouseEnterItem,onClick:e.invokeItem}))}));return i.createElement("div",{className:P.b()},i.createElement(u.a,{tagName:"div",className:P.e("title")},"@{player_panel_also_like|YOU MIGHT ALSO LIKE}"),i.createElement("div",{className:P.e("list"),onMouseEnter:this.props.onMouseEnter},o))},t.prototype.moveLeft=function(){if(this.relatedMode){var e=this.state.curIndex;e>0&&(e--,this.setState({curIndex:e},this.trackedItemFocused))}return!0},t.prototype.moveRight=function(){if(this.relatedMode){var e=this.state.curIndex;e<this.maxIndex&&(e++,this.setState({curIndex:e},this.trackedItemFocused))}return!0},t.contextTypes={router:r.object.isRequired,focusNav:r.object.isRequired,detailHelper:r.object.isRequired},t}(i.Component);t.a=Object(l.connect)((function(e){return{itemImageTypes:e.app.config.general.itemImageTypes,playback:e.app.config.playback,activeAccount:e.account.active,subscriptionCode:e.account.info&&e.account.info.subscriptionCode}}),(function(e){return{}}),void 0,{withRef:!0})(I)},1085:function(e,t,a){"use strict";a.r(t);var n=a(243),i=a(289),r=[a(996).a];t.default=Object(i.b)((function(e){var t=e.renderEntries;return n.createElement("div",null,t())}),{template:"Watch",entryRenderers:r})},505:function(e,t,a){"use strict";var n=a(242),i=a(243),r=a(245),o=a(247),s=a.n(o),l=a(253),c=a(248),d=a(246),u=a(269),p=a(249),h=a(244),v=a(298),m=(a(506),new h.a("h5-asset-list")),f=function(e){function t(t){var a=e.call(this,t)||this;a.getMaxItem=function(e){var t=e.h5List,a=e.list;return t&&t.length?t.length-1:a&&a.items&&a.items.length-1||0},a.moveDown=function(){var e=a.props,t=e.isPartOfLivePlayback,n=e.changeLiveFocus;return!(!t||!n)&&(n(),!0)},a.populateList=function(e){if(e.list){var t=[];t=t.concat(e.list.items),a.setState({list:t,maxItemIndex:t.length-1})}},a.restoreSavedState=function(e){var t=e;t&&a.setState({focused:t.focused,selectedIndex:t.selectedIndex,list:t.list,maxItemIndex:t.maxItemIndex})},a.setFocus=function(e){var t=a.props.curIndex;return a.setState({focused:e,selectedIndex:t>=0?t:0},a.calculateListTrans),!0},a.calculateListTrans=function(){var e=a.state,t=e.list.length,n=e.selectedIndex,i=a.scrollArea,r=a.itemWidth,o=Object(p.b)({scrollArea:i,itemWidth:r,length:t,selectedIndex:n});a.setState({listTrans:o})},a.updateSelectedIndex=function(e){return a.setState({selectedIndex:e},a.calculateListTrans)},a.moveLeft=function(){var e=Object(c.g)(a.state.selectedIndex-1,0,a.state.maxItemIndex,!0);return a.updateSelectedIndex(e),a.props.onFocusTo&&a.props.onFocusTo(e),a.props.resetInteractingTimer&&a.props.resetInteractingTimer(),!0},a.moveRight=function(){if(0===a.state.list.length)return!0;var e=Object(c.g)(a.state.selectedIndex+1,0,a.state.maxItemIndex,!0);return a.updateSelectedIndex(e),a.props.onFocusTo&&a.props.onFocusTo(e),a.props.resetInteractingTimer&&a.props.resetInteractingTimer(),!0},a.exec=function(e){switch(e){case l.a.CLICK:return a.invokeItem(),!0;case l.a.CHANNEL_UP:return a.moveLeft();case l.a.CHANNEL_DOWN:return a.moveRight()}return!1},a.invokeItem=function(){var e=a.state,t=e.selectedIndex,n=e.list;if(t>=0){var i=a.context,r=i.focusNav,o=i.detailHelper,s=n[t];o.onClickWatch(s,(function(e){e&&(r.lastPlayedChannelIndex=t,a.navigateTo(s))}),!1)}},a.navigateTo=function(e){var t=a.context.router,n=t.replace,i=t.push,r=e.path;a.props.isPartOfLivePlayback?n(r):i(r)},a.onMouseEnterItem=function(e){a.updateSelectedIndex(e),a.props.onFocusTo&&a.props.onFocusTo(e)},a.onReference=function(e){a.scrollArea=e};var n=t.curIndex,i=t.focused,r=t.index,o=t.template,s=t.isPartOfLivePlayback;return a.state={selectedIndex:n||0,focused:i,list:[],maxItemIndex:a.getMaxItem(t),listTrans:0},a.focusableRow={focusable:!0,dynamicHeight:!0,index:10*(r+1),height:l.b,template:o,restoreSavedState:a.restoreSavedState,setFocus:a.setFocus,moveLeft:a.moveLeft,moveRight:a.moveRight,moveUp:s?c.e:c.c,moveDown:a.moveDown,exec:a.exec},a}return Object(n.c)(t,e),t.prototype.componentDidMount=function(){if(this.props.focusable&&this.context.focusNav.registerRow(this.focusableRow),this.scrollArea){var e=this.context.focusNav.getRowEntry(this.props.index);Object(u.a)(e,this.props.customFields),this.focusableRow.ref=this.scrollArea}},t.prototype.componentWillUnmount=function(){this.props.focusable&&this.context.focusNav.unregisterRow(this.focusableRow)},t.prototype.componentDidUpdate=function(){this.focusableRow.savedState=Object.assign({},this.state)},t.prototype.componentWillMount=function(){this.populateList(this.props)},t.prototype.componentWillReceiveProps=function(e){e!==this.props&&this.populateList(e),this.props.curIndex!==e.curIndex&&this.updateSelectedIndex(e.curIndex),e.focused!==this.state.focused&&this.setState({focused:e.focused}),e.list&&this.setState({maxItemIndex:this.getMaxItem(e)}),this.focusableRow.entryProps=e},t.prototype.render=function(){var e=this,a=this.state,n=a.list,r=a.selectedIndex,o=a.focused,l=a.listTrans;if(!n||n&&0===n.length)return!1;var d=this.props,u=d.imageType,p=d.imageWidth,h=d.rowType,f=d.customFields,y=d.disableArrow,g=d.isPartOfLivePlayback;this.itemWidth=p+2*t.itemMargin;var E=Object(c.f)(l+"px");return i.createElement("div",{className:m.b()},i.createElement("div",{ref:this.onReference,className:m.e("list",h),style:E},n.map((function(t,a){var n={width:p};return i.createElement(v.a,{key:"".concat(t.id,"-").concat(a),index:a,item:t,imageType:u,imageOptions:n,itemMargin:0,focused:r===a&&o,titlePosition:f&&f.assetTitlePosition,assetMouseEnter:e.onMouseEnterItem,onClick:e.invokeItem,hideItemBadge:!1,showLiveMetadata:g,additionalMetadata:!0,showProgressBarBelow:!0})}))),o&&!y&&i.createElement("button",{key:"h5-right",type:"button",tabIndex:-1,className:m.e("arrow","right")},i.createElement("i",{className:s()("icon icon-drop-button",m.e("icon"))})))},t.contextTypes={router:r.object.isRequired,focusNav:r.object.isRequired,detailHelper:r.object.isRequired},t.itemMargin=d.a.assetListItemMargin,t.listPadding=d.a.h5ListPadding,t.defaultProps={focusable:!0},t}(i.Component);t.a=f},506:function(e,t,a){},522:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n,i=a(242);!function(e){e[e.GeoBlockedError=1]="GeoBlockedError",e[e.MediaUnavailable=2]="MediaUnavailable",e[e.ServerError=3]="ServerError",e[e.BadVideoDataError=4]="BadVideoDataError",e[e.ConcurrencyError=5]="ConcurrencyError",e[e.DeviceLimitError=6]="DeviceLimitError",e[e.DrmError=7]="DrmError",e[e.TimeoutError=8]="TimeoutError",e[e.PlayerError=9]="PlayerError"}(n||(n={}));var r=function(e){function t(a,i){void 0===i&&(i=n.PlayerError);var r=e.call(this,a)||this;return r.code=i,Object.setPrototypeOf(r,t.prototype),r}return Object(i.c)(t,e),t}(Error)},612:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return d}));var n,i,r,o=a(252);!function(e){e.Replay="replay",e.Back="back",e.Continue="continue",e.Cancel="cancel"}(i||(i={})),function(e){e[e.Replay=0]="Replay",e[e.AutoPlayReminder=1]="AutoPlayReminder",e[e.More=2]="More"}(r||(r={}));var s={name:i.Replay,label:"player_actions_replay|Replay"},l=((n={})[r.Replay]=[s],n[r.AutoPlayReminder]=[{name:i.Continue,label:"autoplay_reminder_cta_continue| Continue"},{name:i.Cancel,label:"autoplay_reminder_cta_cancel| Cancel"}],n[r.More]=[s,{name:i.Back,label:"player_actions_back_home|Back"}],n);function c(e){return l[e]||[]}function d(e){var t=r.Replay;return e?t=r.AutoPlayReminder:o.a.SHOULD_SHOW_MORE_INFO_IN_ENDBOARD&&(t=r.More),t}},613:function(e,t,a){"use strict";var n,i;function r(e){return e?{adId:e.adId,adName:e.adName,adLength:e.duration,adPosition:e.adIndex,adBreakName:e.adBreakName,adBreakTime:e.adBreakTime,adBreakDuration:e.adBreakDuration}:{}}a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),function(e){e[e.PLAYER_EVENT=0]="PLAYER_EVENT",e[e.AD_EVENT=1]="AD_EVENT",e[e.NONE=2]="NONE"}(n||(n={})),function(e){e.STATE_CHANGED="statechanged",e.PLAYER_CREATING="playercreating",e.PLAYER_CREATED="playercreated",e.PLAYER_DESTROYED="playerdestroyed",e.PLAY="play",e.PLAYING="playing",e.PAUSE="pause",e.PAUSED="paused",e.SEEKING="seeking",e.SEEKED="seeked",e.STALLED="stalled",e.HOVERING="hovering",e.DURATION_CHANGE="durationchange",e.TIME_UPDATE="timeupdate",e.LOAD_START="loadstart",e.LOADED_DATA="loadeddata",e.WAITING="waiting",e.LOADED_METADATA="loadedmetadata",e.ON_STATE_CHANGED="onstatechange",e.CAN_PLAY="canplay",e.BUFFERING="buffering",e.VIDEO_FIRST_QUARTILE="videofirstquartile",e.VIDEO_MID_POINT="videomidpoint",e.VIDEO_THIRD_QUARTILE="videothirdquartile",e.ENDED="ended",e.SUBTITLES_READY="subtitlesready",e.SUBTITLES_DATA_LOADED="subtitlesdataloaded",e.NEW_SUBTITLES_DATA_LOADED="newsubtitlesdataloaded",e.CC_NEW_DATA="ccnewdata",e.THUMBNAIL_DATA="thumbnaildata",e.THUMBNAIL_LOADED="thumbnailloaded",e.THUMBNAIL_REPLY="thumbnailreply",e.ENVIRONMENT_DETECTED="environmentdetected",e.ERROR="error",e.MILESTONE_60="milestone60",e.MILESTONE_50="videomidpoint",e.MILESTONE_75="videothirdquartile",e.MILESTONE_25="videofirstquartile",e.VIDEO_PROGRESS_TIME="videoProgressTime",e.MOUNT="mounted",e.UNMOUNT="unmounted",e.AD_LIBRARY_CREATING="adlibrarycreating",e.AD_LIBRARY_CREATED="adlibrarycreated",e.AD_LIBRARY_DESTROYED="adlibrarydestroyed",e.AD_START="adstart",e.AD_PODS_INFO="adpodsinfo",e.AD_BLOCK_STARTED="adblockstart",e.AD_BLOCK_END="adblockend",e.AD_STARTED="adstarted",e.AD_TAG_START_LOADING="adtagstartloading",e.AD_LOADED="adloaded",e.AD_COMPLETED="adcomplete",e.AD_DESTROYED="addestroyed",e.AD_PAUSED="adpaused",e.AD_RESUMED="adresumed",e.AD_SKIPPED="adskipped",e.AD_FIRST_QUARTILE="adfirstquartile",e.AD_MID_POINT="admidpoint",e.AD_THIRD_QUARTILE="adthirdquartile",e.AD_IMPRESSION="adimpression",e.AD_ERROR="aderror",e.AD_POD_COMPLETED="adpodcompleted",e.BUFFER_TYPE="bufferType"}(i||(i={}))},996:function(e,t,a){"use strict";(function(e){var n,i=a(242),r=a(1084),o=a(243),s=a(250),l=a(245),c=a(244),d=a(522),u=a(335),p=a(267),h=a(414),v=a(256),m=a(316),f=a(314),y=a(254),g=a(401),E=a(260),b=a(277),S=a(449),P=a(261),I=a(252),A=a(286),T=a(997),k=a(452),C=a(246),w=a(273),L=a(253),N=a(285),D=a(295),O=a(313),_=a(418),R=a(1044),x=a(488),M=a(299),B=a(505),F=a(1043),U=a(251),j=a(1e3),V=a(1002),W=a(1004),H=a(1006),G=a(1008),Y=a(1010),K=a(315),q=a(1042),z=a(249),X=a(293),Z=a(336),Q=a(483),J=a(279),$=a(1018),ee=a(604),te=a(1019),ae=a(1020),ne=a(491),ie=a(450),re=a(531),oe=a(1021),se=a(612),le=a(1023),ce=a(613),de=(a(1024),new c.a("player-standard"));!function(e){e.sub="sub",e.end="end",e.pip="pip",e.h5list="h5list",e.actions="actions",e.controls="controls",e.lowerControls="lowerControls",e.skipPlayerBreak="skipPlayerBreak"}(n||(n={}));var ue={actions:{up:void 0,down:n.controls,left:void 0,right:void 0},controls:{up:void 0,down:n.lowerControls,left:void 0,right:void 0},lowerControls:{up:n.controls,down:n.lowerControls,left:void 0,right:void 0},sub:{up:n.controls,down:void 0,left:void 0,right:void 0},end:{up:n.actions,down:void 0,left:void 0,right:void 0}},pe={h5list:{up:void 0,down:n.controls,left:void 0,right:void 0},controls:{up:n.h5list,down:n.lowerControls,left:void 0,right:void 0},lowerControls:{up:n.controls,down:void 0,left:void 0,right:void 0}},he=function(t){function a(e){var a=t.call(this,e)||this;return a.pinOpen=!1,a.isTizen=Object(E.e)()===b.a.SAMSUNG,a.viewId=Object(r.a)(),a.isAutoPlayed=!1,a.showingInternetSpeedLowerModal=!1,a.isFirstPlaying=!0,a.isDisposing=!1,a.explicitExitPlayer=!1,a.onRecoverOnline=function(){a.video&&(a.context.focusNav.hideDialog(),a.isLive&&a.resetLive(),a.video&&a.video.play())},a.onOffline=function(){if(a.video){var e=a.state.playState;e!==Z.a.REWIND&&e!==Z.a.FF||(a.video.clearScrubbingInteraction(),a.setState({playrate:a.video.getPlaybackRate()})),a.pausePlaybackCallback()}},a.getDetailInfo=function(){a.recentPlayItem.showId&&a.context.detailHelper.getDetailInfo(a.recentPlayItem,(function(e,t){a.setState({itemTitle:t})}))},a.setNextEpisode=function(){Object(N.i)(a.recentPlayItem)&&a.context.detailHelper.getNextEpisode(a.recentPlayItem,(function(e,t){a.setState({nextEpisode:e,isNoneSuggestionType:t})}))},a.setPlayerPropertiesForLive=function(e,t){var n,i;if(e){var r=e.items.find((function(e){var a,n,i;return(null===(i=null===(n=null===(a=null==e?void 0:e.customFields)||void 0===a?void 0:a.channel)||void 0===n?void 0:n.rocketChannel)||void 0===i?void 0:i.channelShortCode)===t.channelShortCode}));a.duration=r&&60*r.duration,a.startDate=null===(i=null===(n=null==r?void 0:r.customFields)||void 0===n?void 0:n.itemSchedule)||void 0===i?void 0:i.startDate}},a.saveStartPlayingTimestamp=function(){var e=a.autoPlaySettings&&Object(p.m)(a.props.currentProfileId)&&!a.isLive&&!Object(M.d)(a.recentPlayItem),t=a.props,n=t.saveStartPlayingTimestamp,i=t.clearStartPlayingTimestamp,r=t.startPlayingTimestamp;e?n((new Date).getTime()):r&&i()},a.startResumePointTimer=function(){a.stopResumePointTimer(),a.saveResumePointTimer||(a.saveResumePointTimer=setInterval((function(){a.saveResumePosition()}),1e3*a.props.globalInterval||ee.c))},a.startChannelSchedulePolling=function(){if(a.stopChannelSchedulePolling(),!a.channelScheduleTimer){a.expiryTime=a.props.expiryTime;var e=a.expiryTime&&a.expiryTime.getTime()-Date.now();e>0&&(a.channelScheduleTimer=setTimeout((function(){a.updateChannelSchedule()}),e))}},a.updateChannelSchedule=function(){var e=a.props,t=e.ctvLiveChannelsList,n=e.getChannelAffiliateSchedules;if(a.state.epgList){var i=Object(J.e)(t.items);i&&i.length>0&&n(i).then((function(e){var t=a.getNewCtvChannelList(e,i);a.setState({epgList:t}),a.setPlayerPropertiesForLive(t,a.recentPlayItem)}))}},a.stopResumePointTimer=function(){a.saveResumePointTimer&&(clearInterval(a.saveResumePointTimer),a.saveResumePointTimer=void 0)},a.stopChannelSchedulePolling=function(){a.channelScheduleTimer&&(clearTimeout(a.channelScheduleTimer),a.channelScheduleTimer=void 0)},a.getNewCtvChannelList=function(e,t){var n=a.props.ctvLiveChannelsList,i=n.items.map((function(a){var n=t.find((function(e){var t,n;return e.streamId===(null===(n=null===(t=null==a?void 0:a.customFields)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.streamId)}));if(n){var i=e.find((function(e){return e.streamId===n.streamId}));return i&&i.schedule[0]}return a}));return n.items=i,n},a.resetLive=function(){a.video.seekToLiveEdge()},a.getStartDateForLive=function(e){var t,a,n;if(Object(z.p)(e)){var i=null===(t=null==e?void 0:e.scheduledItem)||void 0===t?void 0:t.startDate;return new Date(i)}return null===(n=null===(a=null==e?void 0:e.customFields)||void 0===a?void 0:a.itemSchedule)||void 0===n?void 0:n.startDate},a.handleMouseDown=function(){return a.state.focusState===n.sub?a.exec(L.a.ESC):void 0},a.seekTo=function(e){a.player&&a.player.seek(e)},a.checkFastForwardOrRewind=function(){return[Z.a.REWIND,Z.a.FF].some((function(e){return e===a.state.playState}))},a.handleCancel=function(){a.setState({isSwitchingPlaybackLanguage:!1}),a.player.video.play()},a.handleSwitchPlaybackLanguageClick=function(){var e=a.props,t=e.item,n=e.player,i=e.tokenError,r=e.playbackLanguage;if(i)return a.player.pause(),void a.context.detailHelper.showRestartPlaybackMessage((function(){a.player.video.play()}),i);a.player.pause(),a.setState({isSwitchingPlaybackLanguage:!0}),a.context.focusNav.showDialog(o.createElement(re.a,{duringPlayback:!0,priorToPlayback:!1,playbackLanguage:r,item:t,playerId:n.site,onCancel:a.handleCancel,onDone:a.onConfirmPlaybackSwitchLang}))},a.onConfirmPlaybackSwitchLang=function(e){a.setState({isSwitchingPlaybackLanguage:!1}),e?(a.isChangingLanguage=!0,a.reloadPlayer()):a.player.play()},a.trackPlaybackEvents=function(e,t,n){switch(void 0===n&&(n={}),n.duration||(n.duration=a.getDuration()),e){case"state":X.a.info("PlayerStandard emitVideoEvent: state-",t),a.context.emitVideoEvent({type:"state",state:t,data:n});break;case"action":t!==f.a.Progress&&X.a.info("PlayerStandard emitVideoEvent: action-",t),a.context.emitVideoEvent({type:"action",action:t,data:n})}},a.trackPlaybackAdEvents=function(e){var t=a.state.adData;a.trackPlaybackEvents("action",e,Object(ce.b)(t))},a.onClickPlayerBreak=function(){var e,t,i,r=a.video&&a.video.getPosition(!0);if(!te.c.isInPlayerBreakRange(r))return!1;a.setState({isSkipped:!1});var o=null===(e=te.c.getPlayerBreak())||void 0===e?void 0:e.BreakType;if(o){var s=o===te.a.INTRO&&K.b.skipIntro||o===te.a.RECAP&&K.b.skipRecap||o;a.trackPlaybackEvents("action",f.a.Controls,{controls:{name:s,isActive:!0}})}a.checkFastForwardOrRewind()&&a.player&&a.player.play();var l=null===(i=null===(t=te.c.getPlayerBreak())||void 0===t?void 0:t.BreakTimes)||void 0===i?void 0:i.End;return a.seekTo(l),a.setState({focusState:n.controls,isSkipped:!0}),a.resetInteractingTimer(),!0},a.handleMouseEnterSkipPlayerBreak=function(){return a.setState({focusState:n.skipPlayerBreak})},a.handleMouseLeaveSkipPlayerBreak=function(){return a.setState({focusState:n.controls})},a.onRefH5List=function(e){var t=a.context.focusNav.curFocusedRow;!e&&a.h5listAction&&-1!==(null==t?void 0:t.index)&&a.resetFocusToPlayer(),a.h5listAction=e},a.pausePlaybackCallback=function(){var e;return null===(e=a.video)||void 0===e?void 0:e.pause()},a.trackVideoProgressEvent=function(e){var t,n,r=a.video.getStreamBandwidth(),o=a.video.getStreamInitResolution(),s=o.height,l=o.width,c=a.getDuration(),d=null===(n=null===(t=a.state)||void 0===t?void 0:t.src)||void 0===n?void 0:n.url,u=Object(i.a)(Object(i.a)({bitRate:r,duration:c,height:s,width:l,seconds:e},d&&{path:d}),{minutes:Math.floor(e/60),percent:Math.round(e/c*100),viewId:a.viewId,subtitle:a.state.selectedText});a.trackPlaybackEvents("action",f.a.Progress,u)},a.activeCountDown=function(){var e=a.state,t=e.isEndMode,n=e.enableCountDown;t||n||a.setState({enableCountDown:!0})},a.inactiveCountDown=function(){a.state.enableCountDown&&a.setState({enableCountDown:!1})},a.handleMouseEnter=function(e){var t=a.state.isFullscreen,n=e.currentTarget.dataset.focusState;a.setState({isInteracting:!0}),t?(n&&a.setState({focusState:n}),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp()):n&&a.setState({focusState:n})},a.pinInputDone=function(){a.pinOpen=!1,a.trackPlaybackEvents("state",f.b.INITIAL,{item:{path:""}})},a.saveResumePositionExitFacade=function(){return a.saveResumePosition(!0)},a.saveResumePosition=function(e){void 0===e&&(e=!1);var t=a.props.saveResumePosition;if(a.video&&!a.video.isDisposed&&!a.isLive&&!Object(M.d)(a.recentPlayItem)){var n=a.state.playState===Z.a.AD_PLAYING?a.getCurrentAdBreakPosition()-1:a.video.getPosition(!0),i=n<0?0:n;i>=0&&t(Math.floor(i),Date.now(),e)}},a.disposeVideo=function(){a.video&&(a.video.stop(),a.video.dispose())},a.openVideoPlayer=function(e,t){var n=e.id,i=e.openPlayer;(0,e.startedPlaying)(t),i(t,n,a.context.detailHelper.isInChainingPlay)},a.onVideoRef=function(e){e&&(a.player!==e&&(a.player=e),a.video!==e.video&&(a.video=e.video,a.forceUpdate()))},a.restoreSavedState=function(){return!0},a.setFocus=function(){return!0},a.sendHeartbeatRequest=function(){Object(S.k)(a.props.item)},a.moveLeft=function(){var e,t,i,r=a.state,o=r.focusState,s=r.isEndMode,l=r.isInteracting,c=n.controls,d=n.lowerControls,u=n.actions,p=n.pip,h=n.end;if(a.isDirectionalKeyHandled(l))return!0;switch(o){case c:case d:null===(e=a.playerControls)||void 0===e||e.moveLeft(),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp();break;case u:null===(t=a.playerActions)||void 0===t||t.moveLeft(),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp();break;case p:a.setState({focusState:u});break;case h:null===(i=a.playerAutoPlayPanel)||void 0===i||i.moveLeft()}return s&&a.setState({enableCountDown:!1}),!0},a.moveRight=function(){var e,t=a.state,i=t.focusState,r=t.isFullscreen,o=t.isEndMode,s=t.playComplete,l=t.isInteracting,c=n.controls,d=n.lowerControls,u=n.actions,p=n.end,h=n.pip;if(a.isDirectionalKeyHandled(l))return!0;switch(i){case c:case d:a.playerControls&&a.playerControls.moveRight(),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp();break;case u:a.playerActions&&!a.playerActions.moveRight()&&(r||!o||s||a.setState({focusState:h})),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp();break;case p:null===(e=a.playerAutoPlayPanel)||void 0===e||e.moveRight()}return o&&a.setState({enableCountDown:!1}),!0},a.moveUp=function(){var e,t=a.state,i=t.focusState,r=t.isEndMode,o=t.isShowCC,s=t.isShowChannelSwitcher,l=t.loading,c=t.playState,d=t.showAds,u=n.skipPlayerBreak,p=n.controls,h=n.actions,v=n.sub,m=n.h5list,f=n.end,y=n.lowerControls;if(l&&!r||d)return!0;if(a.isLive&&c===Z.a.PAUSED&&i===p)return a.setState({isShowChannelSwitcher:!0,focusState:n.h5list}),a.delayShowChannelSwitcher(),a.context.focusNav.setFocus(null===(e=a.h5listAction)||void 0===e?void 0:e.focusableRow),!0;a.setState({isInteracting:!0}),o||(a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp());var g=a.shouldShowPlayerBreakBtn();if(r){switch(a.setState({enableCountDown:!1}),i){case f:case p:return a.setState({focusState:h}),!0}return!0}i===p&&g&&a.setState({focusState:u});var E=a.isLive?pe[i]&&pe[i].up:ue[i]&&ue[i].up;return i!==p||o||E?i===v&&o?a.playerActionsSub.moveUp():E&&(i===y||i===v?(E===p&&a.playerControls.moveUp(),a.setState({isShowCC:!1,isShowSound:!1})):E===m&&s&&(E===p&&a.playerControls.moveUp(),a.context.focusNav.setFocus(a.h5listAction.focusableRow)),a.setState({focusState:E})):a.playerControls.moveUp(),!0},a.moveDown=function(){var e,t=a.state,i=t.loading,r=t.isEndMode,o=t.focusState,s=t.isFullscreen,l=t.isShowCC,c=t.relatedList,d=t.isNoneSuggestionType,u=t.isInteracting,p=n.skipPlayerBreak,h=n.controls,v=n.pip,m=n.actions,f=n.sub,y=n.end;if(i&&!r)return!0;if(a.isDirectionalKeyHandled(u))return!0;if(r){switch(a.setState({enableCountDown:!1}),o){case p:a.setState({focusState:h});break;case v:case m:if(s)a.setState({focusState:h});else(!a.hideUpNextForLockedEpisode()&&!d||c&&c.size>0)&&a.setState({focusState:y});return!0}return!0}var g=a.isLive?pe[o]&&pe[o].down:ue[o]&&ue[o].down;return o===f&&l?a.playerActionsSub.moveDown():o===p?a.setState({focusState:h}):g?a.shouldMoveDownWithCC(g,o)?(a.playerControls.moveDown(),a.setState({focusState:g}),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp()):g===y?(null===(e=a.playerAutoPlayPanel)||void 0===e?void 0:e.focusable)&&a.setState({focusState:g}):(a.setState({focusState:g}),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp()):a.isLive&&o===h&&(a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp()),!0},a.changeLiveFocus=function(){a.context.focusNav.setFocus(a.focusableRow),a.setState({focusState:n.controls})},a.isDirectionalKeyHandled=function(e){return a.setState({isInteracting:!0}),!(!a.isLive||e||!a.isMoveToH5List())},a.isMoveToH5List=function(){return a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp(),!!a.h5listAction&&(a.context.focusNav.setFocus(a.h5listAction.focusableRow),a.setState({focusState:n.h5list}),!0)},a.exec=function(e){switch(e!==L.a.ESC&&(a.isTizen||a.setState({showPausedAdBanner:!1}),a.setState({isInteracting:!0})),e){case L.a.CLICK:return a.invokeItem(),!0;case L.a.CHANNEL_DOWN:case L.a.CHANNEL_UP:return a.handleChannelEvent(),!0;case L.a.ESC:a.explicitExitPlayer=!0;var t=a.state,i=t.isShowCC,r=t.isShowSound,o=t.isEndMode,s=t.isFullscreen,l=t.playComplete;if(i||r)return a.setState({isShowCC:!1,isShowSound:!1,focusState:n.controls}),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp(),!0;if(o&&s)return a.setState({isFullscreen:!1,enableCountDown:!0,focusState:l?n.end:n.pip}),a.setVideoZoomIn(),!0;break;case L.a.EXIT:return!!a.state.loading||(a.pausePlaybackCallback(),!1);case L.a.BACK:a.explicitExitPlayer=!0}return!1},a.shouldMoveDownWithCC=function(e,t){var a=n.lowerControls,i=n.controls,r=n.sub,o=n.h5list;return e===a&&t===i||e===a&&t===a||e===r&&t===i||e===i&&t===o},a.invokeItem=function(){var e,t,i,r,o,s=a.state,l=s.focusState,c=s.isEndMode,d=s.playState,u=n.controls,p=n.sub,h=n.end,v=n.pip,m=n.actions,f=n.skipPlayerBreak,y=n.lowerControls;switch(l){case u:case y:if(d===Z.a.LOADING)return!1;null===(e=a.playerControls)||void 0===e||e.invokeItem();break;case m:if(!c)return!1;null===(t=a.playerActions)||void 0===t||t.invokeItem();break;case v:a.setState({isFullscreen:!0,focusState:u}),a.setVideoZoomOut();break;case p:null===(i=a.playerActionsSub)||void 0===i||i.invokeItem();break;case h:a.setState({videoShouldEnd:!0}),a.setVideoZoomOut(),null===(r=a.playerAutoPlayPanel)||void 0===r||r.invokeItem();break;case f:a.setState({focusState:u}),a.onClickPlayerBreak()||null===(o=a.playerControls)||void 0===o||o.invokeItem()}},a.onEndModeChanged=function(e){var t,r,o,s=a.props,l=s.item,c=s.tokenError,d=s.resetDuringPlayback,u=s.closePlayer;if(c)return a.pausePlaybackCallback(),d(),a.clearHeartbeatTimer(),void u(a.recentPlayerId);if(!(Object(N.h)(l)||Object(M.d)(l)||a.hideUpNextForLockedEpisode())&&a.video){var p=null===(r=null===(t=a.state)||void 0===t?void 0:t.src)||void 0===r?void 0:r.url,h=a.video,v=h.endingTime,m=(0,h.getDuration)()-v;if(a.setState({isEndMode:e}),e){var y=a.props.startPlayingTimestamp;if(y)(new Date).getTime()-y>60*(a.props.nagPlaybackInactivityTimeout||90)*1e3&&(a.showReminderMessage=!0);var g=Object(i.a)(Object(i.a)({},p&&{path:p}),{isUserEnacted:!1,item:a.recentPlayItem,viewId:a.viewId,isAutoPlayed:a.isAutoPlayed,playMethod:a.getPlayMethod(),subtitle:a.state.selectedText});if(a.trackVideoProgressEvent(m),!Object(M.d)(a.recentPlayItem)){a.state.playComplete||a.trackPlaybackEvents("state",f.b.PLAYING,g);var E=n.actions;!a.showReminderMessage&&(null===(o=a.playerAutoPlayPanel)||void 0===o?void 0:o.focusable)&&(E=n.end),a.setState({focusState:E,isFullscreen:!1,enableCountDown:!0,isReplay:!1}),a.setVideoZoomIn(),a.context.detailHelper.getItemRelatedList(a.props.item,(function(e){e&&a.setState({relatedList:e})})),a.saveResumePosition()}}}},a.onClickPlayerAction=function(e){var t=a.context,o=t.detailHelper,s=t.focusNav,l=a.props.item;switch(a.setState({videoShouldEnd:!0}),e){case se.a.Back:var c=l.season&&l.season.show&&l.season.show.path||l.path;s.goBackFromWatch(c);break;case se.a.Replay:var d=a.state,u=d.src,p=d.playState,h={isUserEnacted:!1,item:l,path:u.url,viewId:a.viewId,isAutoPlayed:a.isAutoPlayed,playMethod:a.getPlayMethod(),subtitle:a.state.selectedText};p!==Z.a.ENDED&&a.trackPlaybackEvents("state",f.b.ENDED,h),o.isAutoPlay=!1,a.viewId=Object(r.a)(),a.saveResumePosition(),a.trackPlaybackEvents("action",f.a.Restart,Object(i.a)(Object(i.a)({},h),{isAutoPlayed:!1,playMethod:a.getPlayMethod(),viewId:a.viewId,langCode:u.language})),a.trackPlaybackEvents("state",f.b.LOADING,{viewId:a.viewId}),a.setState({curPos:0,playState:Z.a.LOADING,focusState:n.controls,isEndMode:!1,isFullscreen:!0,playComplete:!1,isReplay:!0}),a.setVideoZoomOut(),a.saveStartPlayingTimestamp(),a.video.replay(),a.setState({isFullscreen:!0});break;case se.a.Continue:a.saveStartPlayingTimestamp(),a.context.router.replace(a.state.nextEpisode.watchPath);break;case se.a.Cancel:o.handlePlayActionCanceledBehavior()}},a.resetInteractingTimer=function(){var e=Z.a.PLAYING,t=Z.a.LOADING,i=a.state.isFullscreen;if(clearTimeout(a.interactingTimer),a.player&&!a.isDisposing){var r=a.state.playState,o=r!==e&&r!==t;a.isLive&&r===e&&a.setState({isShowChannelSwitcher:!0}),!o&&i&&(a.interactingTimer=setTimeout((function(){a.isDisposing||(a.setState({isInteracting:!1}),te.c.togglePlayerBreakVisibility(!1),a.isLive?Object(z.H)((function(){return-1!==a.context.focusNav.curFocusedRow.index}),(function(){a.isDisposing||(a.context.focusNav.setFocus(a.focusableRow),a.setState({focusState:n.controls}))})):a.setState({focusState:n.controls}))}),3e3)),te.c.togglePlayerBreakVisibility(!0),te.c.setLastSavedPosition(a.video&&a.video.getPosition(!0))}},a.stopInteractingTimer=function(){clearTimeout(a.interactingTimer)},a.onPlaybackEvents=function(e,t,n){var r=a.state,o=r.isEndMode,s=r.src,l=r.resumePosition,c=Z.a.FF,d=Z.a.ENDED,u=Z.a.READY,p=Z.a.REWIND,h=Z.a.PAUSED,v=Z.a.PLAYING,m=Z.a.LOADING,f=Z.a.AD_INFO,y=Z.a.BUFFERING,g=Z.a.AD_STARTED,E=Z.a.AD_PLAYING,b=Z.a.AD_COMPLETE,S=Z.a.AD_BLOCK_END,P=Z.a.CHAPTER_SKIP,I=Z.a.CHAPTER_START,A=Z.a.AD_BLOCK_START,T=Z.a.CHAPTER_COMPLETE,k=Object(i.a)(Object(i.a)({},n),{isUserEnacted:"boolean"==typeof n&&n,item:a.recentPlayItem,path:s&&s.url,viewId:a.viewId,isAutoPlayed:a.isAutoPlayed,playMethod:a.getPlayMethod(),subtitle:a.state.selectedText});e!==y&&t===y?a.onBuffering({eventData:k,oldState:e,newState:t}):t===I?a.onChapterStart(n):t===T?a.onChapterComplete(n):t===P?a.onChapterSkip():e!==m&&e!==y||t!==u||o?e===h&&t!==h&&!Object(ie.f)(t)||a.isFirstPlaying&&t===v?a.onStartingPlayback(k,t!==c&&t!==p):e!==v&&t===v?a.onResumingPlayback(e,k,e===b):t===h&&a.canSwitchToPause(e)?a.onPausedPlayback(k):e===v&&t===d?a.onCompletedPlayback(k):t===f?a.onAdInfo(n):t===A?a.onAdBlockStart(n):t===E?a.onAdPlaying(n):e!==g&&t===g?a.onAdStarted(n):t===b?a.onAdCompleted():t===S&&a.onAdBlockEnd():a.onFirstPlayback(l)},a.delayShowChannelSwitcher=function(){a.setState({isShowChannelSwitcher:!0})},a.onPlayerStateChanged=function(e,t,i){var r=Z.a.FF,o=Z.a.ENDED,s=Z.a.READY,l=Z.a.REWIND,c=Z.a.PLAYING,d=Z.a.UNKNOWN,u=Z.a.LOADING,p=Z.a.BUFFERING,h=Z.a.AD_INFO,v=Z.a.AD_PLAYING,m=Z.a.CHAPTER_SKIP,f=Z.a.AD_BUFFERING,y=Z.a.AD_BLOCK_START,g=Z.a.CHAPTER_START,E=Z.a.CHAPTER_COMPLETE;if(!a.video&&a.player&&(a.video=a.player.video),a.video&&!a.video.isDisposed){a.onPlaybackEvents(e,t,i);var b=t!==c&&t!==u&&t!==v,S=t===u||t===p||t===f;if(t===s){a.setState({delayHideLoading:!0});var P=a.getDuration();P!==a.recentPlayItem.duration&&(a.endCreditOffset=a.getEndCreditOffset(P))}else[c,y].includes(t)&&a.state.delayHideLoading?a.setState({delayHideLoading:!1}):t===c&&a.showingInternetSpeedLowerModal&&a.context.focusNav.hideDialog();var I=a.state,A=I.isFF,T=I.isFullscreen,k=I.isEndMode,C=I.playComplete,w=I.enableCountDown,L=I.focusState,N=a.isLive?1:a.video.getPlaybackRate()||1;t!==s||k?t===c?(a.isFirstPlaying&&(a.checkIfTextTracksChanged(),a.onAudioTracksChanged(),a.isFirstPlaying=!1),a.delayShowChannelSwitcher()):t===r||t===l?A=t===r:t===o&&e!==d&&((Object(M.d)(a.recentPlayItem)||a.hideUpNextForLockedEpisode())&&a.context.focusNav.goBack(),T&&(w=!0),T=!1,k=!0,C=!0,L=L!==n.actions?n.end:L,a.setState({isFullscreen:T,isEndMode:k,playComplete:C,enableCountDown:w,focusState:L})):(a.setState({videoShouldEnd:!1,duration:a.getDuration()}),a.isFirstPlaying=!0),b?a.stopInteractingTimer():a.resetInteractingTimer(),t!==E&&t!==m&&t!==g&&t!==h&&a.setState({playState:t,playrate:N,isFF:A,isInteracting:b,loading:S}),e!==Z.a.BUFFERING&&e!==Z.a.PAUSED&&e!==Z.a.LOADING&&e!==Z.a.READY||t!==Z.a.PLAYING||(a.checkShouldShowPlayerBreak()&&a.setState({focusState:n.skipPlayerBreak}),a.checkShouldHidePlayerBreak()&&a.hidePlayerBreakButton())}},a.onTextTracksChanged=function(){var e=a.props,t=e.currentProfileId,n=e.playbackLanguage,i=a.video.getAvailableAudioTracks(),r=a.video.getAvailableTextTracks(),o=a.video.getTextTrack();if(!o&&i&&i.length>0&&(o=i[0]),a.setState({textTracks:r,selectedText:o?o.language:""}),Object(p.n)(t)&&r&&r.length){var s=void 0;s=a.isLive?n:a.getPrimaryCCLanguage(r),a.setState({selectedText:s}),a.video.setTextTrack(s)}},a.tryGetTextTrackTimeout=2e4,a.checkIfTextTracksChanged=function(){Object(z.H)((function(){var e;return(null===(e=a.video.getAvailableTextTracks())||void 0===e?void 0:e.length)>0||a.state.disposing}),a.onTextTracksChanged,a.tryGetTextTrackTimeout)},a.maxTryGetAudioTrackCount=10,a.tryGetAudioTrackInterval=2e3,a.onAudioTracksChanged=function(){var e;X.a.info("PlayerStandard.onAudioTracksChanged");var t=a.video,n=t.getAvailableAudioTracks,i=t.getAudioTrack,r=t.checkIsDVEnable,o=t.toggleDV,s=n();if(0===s.length)return 0===a.maxTryGetAudioTrackCount?void X.a.error("PlayerStandard.onAudioTracksChanged but audioTracks.length === 0 after waiting 20 seconds"):(X.a.warning("PlayerStandard.onAudioTracksChanged but audioTracks.length === 0"),void window.setTimeout((function(){a.maxTryGetAudioTrackCount--,a.onAudioTracksChanged()}),a.tryGetAudioTrackInterval));if(!a.state.disposing){var l=a.props.currentProfileId,c=r(),d=(null===(e=i())||void 0===e?void 0:e.language)||"",u=Object(p.o)(l);X.a.info("PlayerStandard.onAudioTracksChanged isDVEnable: ".concat(c," selectedAudio: ").concat(d," shouldDVOn: ").concat(u)),a.setState({isDVEnable:c,audioTracks:s,selectedAudio:d}),c&&o(u,!0)}},a.onPlayerPropertiesChanged=function(e){var t,n,i=e.currentTime,r=e.duration,o=a.state,s=o.curPos,l=o.playState,c=null===(n=null===(t=te.c.getPlayerBreak())||void 0===t?void 0:t.BreakTimes)||void 0===n?void 0:n.Start;a.checkShouldShowPlayerBreak()&&c===i&&a.showPlayerBreakButton(),a.checkShouldHidePlayerBreak()&&a.hidePlayerBreakButton(),a.isLive&&a.startDate&&(r=a.duration,i=Math.floor((Date.now()-a.startDate.getTime())/1e3)),i!==s&&l===Z.a.PLAYING&&a.trackVideoProgressEvent(i);var d=!a.isLive&&i>=r,u=l===Z.a.REWIND&&!i;a.setState({curPos:u?0:i,duration:r,playComplete:d,isReplay:u}),a.state.delayHideLoading&&a.setState({delayHideLoading:!1})},a.onClickSubItem=function(e){if(a.state.isShowCC){var t="Off"!==e;Object(p.z)(a.props.currentProfileId,t),a.setState({selectedText:e,profileCCPreference:t}),a.video.setTextTrack(e)}else a.setState({selectedAudio:e}),a.video.setAudioTrack(e);a.setState({focusState:n.controls,isShowCC:!1,isShowSound:!1}),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp()},a.getPrimaryCCLanguage=function(e){var t=a.props.playbackLanguage;if(!e||!e.length)return"";if(1===e.length)return e[0].language;var n=e.find((function(e){return e.language.trim()===t.trim()}));return n?n.language:e[0].language},a.showCC=function(){var e=a.state.textTracks,t=a.props.playbackLanguage;if((null==e?void 0:e.length)||I.a.ALWAYS_SHOW_CC_CTA){var i=[{label:"Off",code:"Off"}];I.a.ENABLE_PLAYER_DISPLAY_TEXT_TRACK_NAME?a.isLive?i.push({label:"On",code:t}):e.map((function(e){return i.push({label:"On",code:e.language})})):a.isLive?i.push({label:"On",code:t}):i.push({label:"On",code:a.getPrimaryCCLanguage(e)}),a.setState({subItems:i,focusState:n.sub,isShowCC:!0,isInteracting:!0,isShowChannelSwitcher:!1}),a.trackPlaybackEvents("action",f.a.Controls,{controls:{name:K.b.closedCaptions,isActive:!0}}),a.stopInteractingTimer()}},a.onClickDV=function(){var e=!a.state.profileDVPreference;a.video.toggleDV(e),Object(p.A)(a.props.currentProfileId,e),a.setState({profileDVPreference:e},(function(){X.a.info("PlayerStandard setDV: ".concat(e))})),a.resetInteractingTimer(),a.resetAutoPlayInactivityTimestamp()},a.onClickPlayPause=function(){a.setState({isShowChannelSwitcher:!1})},a.onPageChange=function(){Object(E.e)()===b.a.PS4&&a.setVideoZoomOut(),a.setState({disposing:!0})},a.handleCloseInternetSpeedLowerTimeout=function(){a.showingInternetSpeedLowerModal=!1},a.onInternetSpeedLowerTimeout=function(){a.showingInternetSpeedLowerModal=!0;var e=a.context.focusNav;X.a.info("[PlayerStandard.onInternetSpeedLowerTimeout] -> internet speed lower timeout raised - showing error modal","",{alwaysReport:!0}),e.showDialog(o.createElement(D.a,{captureFocus:!0,title:"@{service_unavailable_title|Service Unavailable}",text:"@{internet_unstable_msg|Your internet connection is unstable.}",buttons:["@{ok|OK}"],onClose:a.handleCloseInternetSpeedLowerTimeout}))},a.onLoadingTimeout=function(){var e=a.context.focusNav;X.a.info("[PlayerStandard.onLoadingTimeout] -> loading timeout raised - showing error modal","",{alwaysReport:!0}),a.trackPlaybackEvents("state",f.b.ERROR,{item:a.recentPlayItem,error:new d.a("The request timeout",d.b.TimeoutError)}),a.setState({src:void 0}),a.pausePlaybackCallback(),a.showingInternetSpeedLowerModal&&e.hideDialog(),e.showDialog(o.createElement(D.a,{captureFocus:!0,blackBackground:!0,playerError:I.a.SHOULD_APPLY_PLAYER_ERR_STYLING,transparent:!0,title:"@{video_error_title|Error}",text:"@{service_unavailable_msg|Sorry, we are unable to contact the service right now. Please try again later.}",buttons:["@{ok|OK}"],onClose:e.goBack,debugMode:E.g&&{error:"N/A",status:"N/A"}}))},a.onError=function(e){var t=e.message,n=e.errorCode,i=e.originalMessage;a.pausePlaybackCallback();var r=Object(ne.a)(n);X.a.error("[PlayerStandard.onError] -> error event raised - showing error modal","",{alwaysReport:!0}),a.context.focusNav.showDialog(o.createElement(D.a,{captureFocus:!0,blackBackground:!0,playerError:I.a.SHOULD_APPLY_PLAYER_ERR_STYLING,transparent:!0,title:"@{video_error_title|Error}",text:t||r||"@{service_error|Unfortunately, an error has occurred. Please try again later.}",buttons:["@{ok|OK}"],onClose:a.context.focusNav.goBack,debugMode:E.g&&{error:i,status:n}})),a.setState({loading:!1})},a.hideUpNextForLockedEpisode=function(){var e=a.state,t=e.nextEpisode,n=e.isNoneSuggestionType;return Object(N.i)(a.recentPlayItem)&&!n&&(!t||!Object(z.c)(t))},a.checkIfFocused=function(){var e=a.state.focusState,t=n.controls,i=n.lowerControls,r=n.sub;return e===t||e===i||e===r},a.reloadPlayer=function(){a.disposeVideo(),a.props.closePlayer(a.recentPlayerId),a.recentPlayerId=void 0,a.setState({loading:!0}),a.openVideoPlayer(a.props,a.recentPlayItem)},a.resetFocusToPlayer=function(){var e=a.context.focusNav,t=e.curFocusedRow,n=e.setFocus;t!==a.focusableRow&&n(a.focusableRow)},a.getDuration=function(){var e,t,n;if(a.isLive){var i=null===(t=null===(e=a.getCurrentLiveItem())||void 0===e?void 0:e.customFields)||void 0===t?void 0:t.itemSchedule;if(!i)return Number.MAX_SAFE_INTEGER;var r=i.startDate,o=i.endDate;return r&&o?60*Object(J.i)(r,o):Number.MAX_SAFE_INTEGER}return(null===(n=a.video)||void 0===n?void 0:n.getDuration())||0},a.focusableRow={focusable:!0,index:1,height:1,forceScrollTop:!0,ref:void 0,restoreSavedState:a.restoreSavedState,setFocus:a.setFocus,moveLeft:a.moveLeft,moveRight:a.moveRight,moveUp:a.moveUp,moveDown:a.moveDown,exec:a.exec},a.state={src:void 0,isInteracting:!1,isShowCC:!1,isShowSound:!1,curPos:0,resumePosition:0,duration:void 0,playState:Z.a.LOADING,playrate:1,focusState:n.controls,enableCountDown:!0,isEndMode:!1,isFullscreen:!0,relatedList:void 0,loading:!0,isReplay:!1,playComplete:!1,itemTitle:void 0,nextEpisode:void 0,showAds:!1,adData:void 0,isFF:!1,showPausedAdBanner:!1,vttUrl:"",thumbnailVttUrl:"",isShowChannelSwitcher:!1,isSwitchingPlaybackLanguage:!1,profileCCPreference:Object(p.n)(e.currentProfileId),profileDVPreference:Object(p.o)(e.currentProfileId),videoShouldEnd:!0,isNoneSuggestionType:!0,isDVEnable:!1,isSkipped:!1},te.c.togglePlayerBreakVisibility(!1),a.isLive=!1,a.autoPlaySettings=!0,a}return Object(i.c)(a,t),a.prototype.componentDidMount=function(){var e;return Object(i.b)(this,void 0,void 0,(function(){var t,a,r,o,s,l,c,d,u,h,v,m=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:return t=this.props,a=t.item,r=t.id,o=t.ctvLiveChannelsList,s=t.currentProfileId,l=t.promptPlaybackNotAllowed,c=this.context,d=c.focusNav,u=c.detailHelper,Object(z.c)(a)?(this.isAutoPlayed=u.isAutoPlay,d.hideGlobalHeader(),d.registerRow(this.focusableRow),d.setFocus(this.focusableRow),d.addEventHandler(w.b.KEY_DOWN,r,(function(){u.resetTimeoutTimer(m.activeCountDown)})),d.addEventHandler(w.b.EXIT,r,this.saveResumePositionExitFacade),I.a.SHOULD_SHOW_UNSTABLE_ERROR&&(null===(e=this.player)||void 0===e||e.onInternetSpeedLowerTimeout.push({key:r,value:this.onInternetSpeedLowerTimeout})),this.player&&this.player.onLoadingTimeout.push({key:r,value:this.onLoadingTimeout}),this.player&&this.player.onError.push({key:r,value:this.onError}),this.recentPlayItem=a,this.recentPlayerId=r,Object(N.h)(this.recentPlayItem)&&(this.isLive=!0,this.setPlayerPropertiesForLive(o,a),Object(z.p)(a)||this.checkBlackoutRestrictions(),this.setState({epgList:o,focusState:n.controls}),this.startChannelSchedulePolling()),h=this.setState,v={disposing:!1},[4,this.getVttManifestUrl(S.c.subtitle)]):(this.isDisposing=!0,l(),[2]);case 1:return v.vttUrl=i.sent(),[4,this.getVttManifestUrl(S.c.thumbnail)];case 2:return h.apply(this,[(v.thumbnailVttUrl=i.sent(),v)]),this.openVideoPlayer(this.props,a),this.startResumePointTimer(),this.trackPlaybackEvents("state",f.b.INITIAL,{isUserEnacted:!1,item:this.recentPlayItem,isAutoPlayed:this.isAutoPlayed,playMethod:this.getPlayMethod()}),u.initTimeoutTimer(this.inactiveCountDown),this.getDetailInfo(),this.setNextEpisode(),te.c.setPlayerBreaks(this.getPlayerBreaks()),ee.d.setResumePlaybackProperties({playbackItem:this.recentPlayItem}),this.checkItemWatchedStatus(),this.autoPlaySettings=Object(p.l)(s),this.showReminderMessage=!1,u.isInChainingPlay||this.saveStartPlayingTimestamp(),window.addEventListener("beforeunload",this.saveResumePositionExitFacade),[2]}}))}))},a.prototype.componentWillReceiveProps=function(e){var t;return Object(i.b)(this,void 0,void 0,(function(){var a,r,s,l,c,d,u,p,h,v,m,y,g,E,b,P,I,A,T;return Object(i.d)(this,(function(i){switch(i.label){case 0:return this.isDisposing?[2]:(a=this.props,r=a.player,s=a.ctvLiveChannelsList,l=a.online,c=a.expiryTime,d=e.item,u=e.id,p=e.prompt,h=e.online,v=e.expiryTime,m=this.context,y=m.focusNav,g=m.detailHelper,h!==l&&(h?this.onRecoverOnline():this.onOffline()),this.isLive&&v!==c&&(this.expiryTime=v),s!==e.ctvLiveChannelsList&&this.setState({epgList:e.ctvLiveChannelsList}),E=n.controls,d&&d!==this.recentPlayItem?(Object(N.h)(d)&&this.setPlayerPropertiesForLive(s,d),y.resetFocus(),y.unregisterRow(this.focusableRow),this.saveResumePosition(),this.setState({disposing:!0,focusState:E}),this.disposeVideo(),e.closePlayer(this.recentPlayerId),this.recentPlayItem=d,this.recentPlayerId=void 0,this.setNextEpisode(),[2]):u&&u!==this.recentPlayerId?(this.isFirstPlaying=!0,this.isChangingLanguage?(this.recentPlayerId=u,this.isChangingLanguage=!1,[2]):(y.registerRow(this.focusableRow),y.setFocus(this.focusableRow),this.recentPlayerId=u,this.setState({disposing:!1,src:void 0,curPos:0,resumePosition:0,duration:void 0,playState:Z.a.LOADING,focusState:E,isEndMode:!1,isFullscreen:!0,relatedList:void 0,loading:!0,playComplete:!1}),this.openVideoPlayer(e,this.recentPlayItem),this.trackPlaybackEvents("state",f.b.INITIAL,{isUserEnacted:!1,item:this.recentPlayItem,isAutoPlayed:this.isAutoPlayed,playMethod:this.getPlayMethod()}),[2])):!this.pinOpen&&p&&"pin"===p.type&&g.profile.info?(this.trackPlaybackEvents("state",f.b.DEFAULT),this.pinOpen=!0,y.showDialog(o.createElement(_.a,{account:g.account,isParentalLock:!0,pinInputDone:this.pinInputDone})),[2]):(e.player&&e.tokens.length&&this.startHeartbeatTimer(),b=null===(t=null==e?void 0:e.player)||void 0===t?void 0:t.data,P=null==r?void 0:r.data,d&&b&&b.length&&b!==P?(I=this.setState,T={},[4,this.getVttManifestUrl(S.c.subtitle,e)]):[3,3]));case 1:return T.vttUrl=i.sent(),[4,this.getVttManifestUrl(S.c.thumbnail,e)];case 2:return I.apply(this,[(T.thumbnailVttUrl=i.sent(),T)]),this.loadingVideo(d,e.player.data),[2];case 3:return e.player&&e.player.error&&(this.setState({loading:!1}),(A=Object.assign({},e.player.error)).code=Object(F.a)(A.code,A.status),this.trackPlaybackEvents("state",f.b.ERROR,{item:d,error:A}),r&&r.error||this.onError(e.player.error)),[2]}}))}))},a.prototype.componentDidUpdate=function(e,t){var a,n=this.props.blackout,i=this.state,r=i.isInteracting,s=i.isFullscreen,l=i.showAds,c=i.loading,d=i.delayHideLoading,u=i.src,p=null===(a=null==e?void 0:e.blackout)||void 0===a?void 0:a.canPlay,h=null==n?void 0:n.canPlay,v=t.isInteracting&&t.isFullscreen&&!t.showAds&&!t.loading&&!t.delayHideLoading,m=r&&s&&!l&&!c&&!d;if(x.a.hide(),t.src===u||this.isLive||(this.endCreditOffset=this.getEndCreditOffset(this.recentPlayItem.duration),this.countDownTime=this.getCountDownTime(),te.c.setPlayerBreaks(this.getPlayerBreaks())),v!==m&&this.context.focusNav.handleBrowserFocus(),p!==h&&!1===h){this.disposeVideo(),this.props.closePlayer(this.recentPlayerId),this.recentPlayerId=void 0,this.clearHeartbeatTimer();var f=this.context.focusNav,y=f.showDialog,g=f.goBack;y(o.createElement(T.a,{onClose:g,showBlackoutImage:!!u}))}},a.prototype.componentWillUnmount=function(){this.isDisposing=!0,window.removeEventListener("beforeunload",this.saveResumePositionExitFacade);var e=this.context,t=e.focusNav,a=e.detailHelper,n=this.state.src,i=this.props,r=i.resetBlackoutRestrictions,o=i.closePlayer;t.resetFocus(),t.unregisterRow(this.focusableRow),t.removeEventHandler(w.b.KEY_DOWN,"PlayerStandard"),t.removeEventHandler(w.b.EXIT,"PlayerStandard",this.saveResumePositionExitFacade),x.a.hide(),this.player&&(this.player.onLoadingTimeout.splice(this.player.onLoadingTimeout.findIndex((function(e){return"PlayerStandard"===e.key}))),this.player.onError.splice(this.player.onError.findIndex((function(e){return"PlayerStandard"===e.key})))),this.clearBlackoutRestrictionsTimeout(),r(),this.saveResumePositionExitFacade(),this.disposeVideo(),this.trackPlaybackEvents("state",f.b.ENDED,{isUserEnacted:!1,item:this.recentPlayItem,path:n&&n.url,viewId:this.viewId,isAutoPlayed:this.isAutoPlayed,playMethod:this.getPlayMethod(),subtitle:this.state.selectedText}),o(this.recentPlayerId),a.clearTimeoutCallback(),this.explicitExitPlayer&&(a.isAutoPlay=!1),this.clearHeartbeatTimer(),this.stopChannelSchedulePolling(),this.stopResumePointTimer(),this.setState({disposing:!0}),this.setVideoZoomOut()},a.prototype.hidePlayerBreakButton=function(){var e=this.state,t=e.isInteracting,a=e.focusState;t||(te.c.togglePlayerBreakVisibility(!1),[n.controls,n.sub,n.actions,n.end].includes(a)||this.setState({focusState:n.controls}))},a.prototype.showPlayerBreakButton=function(){var e=this.video&&this.video.getPosition();this.context.focusNav.handleBrowserFocus(),te.c.togglePlayerBreakVisibility(!0),te.c.setLastSavedPosition(e),this.state.isInteracting||this.setState({focusState:n.skipPlayerBreak})},a.prototype.checkShouldShowPlayerBreak=function(){var e=this.video&&this.video.getPosition(!0);return te.c.isInPlayerBreakRange(e)},a.prototype.checkShouldHidePlayerBreak=function(){return(this.video&&this.video.getPosition(!0))===te.c.getLastSavedPosition()+te.b&&!this.state.isInteracting},a.prototype.checkItemWatchedStatus=function(){this.isItemUnwatched()&&!this.isLive&&!Object(M.d)(this.recentPlayItem)&&this.props.isSignedIn&&this.props.saveResumePosition(0,Date.now(),!1)},a.prototype.checkBlackoutRestrictions=function(){var e=this;this.clearBlackoutRestrictionsTimeout(),this.blackoutTimer=window.setTimeout((function(){var t=e.props,a=t.item,n=t.id,i=t.blackout;(0,t.getBlackoutRestrictions)(n,a,i),e.checkBlackoutRestrictions()}),S.a)},a.prototype.clearBlackoutRestrictionsTimeout=function(){this.isLive&&this.blackoutTimer&&(clearTimeout(this.blackoutTimer),this.blackoutTimer=void 0)},a.prototype.getEndCreditOffset=function(e){var t;if(I.a.DISABLE_PIP)return e;var a=this.props,n=a.player,i=a.creditFallback;if(Object(M.d)(this.recentPlayItem))return e;var r=null===(t=null==n?void 0:n.packageInfo)||void 0===t?void 0:t.endCreditOffset,o=r>0&&r<=e?r:e-(i||ee.b);return Math.floor(o)},a.prototype.getPlayerBreaks=function(){var e,t,a=null===(t=null===(e=this.props.player)||void 0===e?void 0:e.packageInfo)||void 0===t?void 0:t.playerBreaks;return a&&a.find((function(e){return!!e.BreakTimes}))},a.prototype.getCountDownTime=function(){var e,t=this.props,a=t.player,n=t.chainPlayCountdown;return(null===(e=null==a?void 0:a.packageInfo)||void 0===e?void 0:e.promptLength)||n||ee.a},a.prototype.getCurrentLiveItem=function(){if(this.isLive){var e,t=this.props.item,a=this.state.epgList,n=null==a?void 0:a.items;return(e=void 0===a||!n||n&&!n.length?void 0:n.find((function(e){var a,n;return"".concat(null===(n=null===(a=null==e?void 0:e.customFields)||void 0===a?void 0:a.channel)||void 0===n?void 0:n.streamId)===t.customId||e.customId===t.customId})))||X.a.error("PlayerStandard no currentLiveItem, it'll make player renders like VOD playback"),e}},a.prototype.getVttManifestUrl=function(e,t){var a=void 0===t?this.props:t,n=a.player,r=a.playbackContentUrl,o=a.isSignedIn;return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(a){switch(a.label){case 0:return n&&!Object(ie.e)(this.isLive)&&r?[4,Object(S.j)({type:e,playbackContentUrl:r,isSignedIn:o})]:[2,""];case 1:return"string"==typeof(t=a.sent())&&Object(ne.d)(t)&&Object(ne.c)(t)?[2,t]:(t instanceof Error?X.a.error("Error loading thumbnail manifest",t.stack):X.a.error("Unexpected error from CAPI",t),[2,""])}}))}))},a.prototype.resetAutoPlayInactivityTimestamp=function(){this.state.isEndMode||this.saveStartPlayingTimestamp()},a.prototype.render=function(){var t,a,r,s,l=this;if(this.state.disposing)return o.createElement("span",null);var c=this.props,d=c.device,u=c.item,p=c.activeProfile,h=c.id,v=c.allowLanguageEdit,m=c.allowPlaybackLanguageEdit,f=c.nagMessageInterval,y=c.videoAdUnit,b=c.player,S=c.playbackLanguage,P=c.rendition,T=c.strings,C=c.currentProfileId,w=c.defaultAdVolume,L=this.state,N=L.isInteracting,D=L.isEndMode,_=L.playState,x=L.isFullscreen,B=L.focusState,F=L.loading,K=L.isReplay,X=L.resumePosition,Q=L.disposing,J=L.playComplete,ee=L.src,ne=L.curPos,ie=L.duration,re=L.playrate,ce=L.subItems,ue=L.isShowCC,pe=L.isShowSound,he=L.selectedText,ve=L.selectedAudio,me=L.relatedList,fe=L.enableCountDown,ye=L.itemTitle,ge=L.nextEpisode,Ee=L.isNoneSuggestionType,be=L.showAds,Se=L.adData,Pe=L.isFF,Ie=L.showPausedAdBanner,Ae=L.vttUrl,Te=L.thumbnailVttUrl,ke=L.profileCCPreference,Ce=L.profileDVPreference,we=L.isSwitchingPlaybackLanguage,Le=L.textTracks,Ne=L.isDVEnable,De=L.videoShouldEnd,Oe=L.delayHideLoading,_e=L.isShowChannelSwitcher,Re=L.isSkipped,xe=this.isLive,Me=this.context,Be=Me.emitVideoEvent,Fe=Me.focusNav,Ue=(null===(t=u.customFields)||void 0===t?void 0:t.adVolume)||w,je=this.getCurrentLiveItem(),Ve=(null==Se?void 0:Se.adPoints)||[],We=N&&x&&!be&&!F&&!Oe,He=D&&!x&&!this.hideUpNextForLockedEpisode()&&!Ee,Ge=!Oe&&!F&&!He,Ye=I.a.SUPPORT_MULTI_LANGUAGE&&!this.isLive&&v&&m&&Object(z.t)(u),Ke=I.a.SHOULD_AFFECT_FAST_FORWARD_REWIND&&this.checkFastForwardOrRewind(),qe=Object(E.b)(I.a.ENABLE_THUMBNAILS),ze=!ue&&!F&&(qe||!Ke)||!x,Xe=this.autoPlaySettings&&this.showReminderMessage&&!Ee,Ze=f||60,Qe=this.autoPlaySettings&&this.showReminderMessage?Ze:this.countDownTime,Je=Object(M.d)(u),$e=Object(z.p)(je),et=!x&&D&&I.a.DISABLE_PIP,tt=this.getStartDateForLive(je),at=null===(r=null===(a=null==je?void 0:je.scheduledItem)||void 0===a?void 0:a.item)||void 0===r?void 0:r.duration,nt=null===(s=null===te.c||void 0===te.c?void 0:te.c.getPlayerBreak())||void 0===s?void 0:s.BreakType;return o.createElement(ae.a,{item:u,isFullscreen:x,videoShouldEnd:De,render:function(t){var a=t.backImageStyle,r=t.isActionBtnLighter;return o.createElement("div",{className:de.b({}),style:a,onMouseEnter:l.handleMouseEnter,onMouseMove:l.handleMouseEnter,onMouseDown:l.handleMouseDown},be&&o.createElement(V.a,{adData:Se}),Ie&&!ue&&o.createElement(j.a,{id:h,type:g.a.pause,adUnitPath:y,playbackLanguage:S}),o.createElement(U.a,{tagName:"div",role:x?Object(A.j)():"button",formattedAriaLabel:x?void 0:"@{endboard_continue_watching_credits_aria}",tabIndex:x&&We?-1:0,className:de.e("video",{isFullscreen:x,focused:B===n.pip||!We,playComplete:J,showPausedAdBanner:Ie,disablePIP:et}),onClick:x?void 0:l.invokeItem,"data-focus-state":n.pip,onMouseEnter:x?void 0:l.handleMouseEnter},o.createElement(q.a,{device:d,ref:function(e){return l.onVideoRef(e)},videoItem:ee,playItemType:l.recentPlayItem&&l.recentPlayItem.type,resumePosition:X,isFullscreen:x,isLoading:F,isReplay:K,isTrailer:Je,playerStateChanged:l.onPlayerStateChanged,onTextTracksChanged:l.onTextTracksChanged,onPlayerPropertiesChanged:l.onPlayerPropertiesChanged,endModeChanged:l.onEndModeChanged,goBackFromVideo:Fe.goBack,livePlay:xe,liveDuration:l.duration,adTagUrl:null==b?void 0:b.vastUrl,vttUrl:Ae,thumbnailVttUrl:Te,onExit:l.saveResumePosition,liveNowItem:je,endCreditOffset:l.endCreditOffset,togglePlayerBreakVisibility:te.c.togglePlayerBreakVisibility,isSwitchingPlaybackLanguage:we,adVolume:Ue,showAds:be,emitVideoEvent:Be,rendition:P,preferredAudioChannelCount:Object(k.b)(C)}),o.createElement("div",{className:de.e("loading",{loading:Oe||F,isFullscreen:x,isLive:xe})},o.createElement(O.a,{loading:Oe||F,type:"player",className:de.e("spinner")}))),o.createElement("div",{className:de.e("cover",{show:N&&!be||!x})}),I.a.ENABLE_SKIP_PLAYER_BREAK&&l.renderSkipPlayerBreak(),o.createElement("div",{className:de.e("controls",{show:We,live:xe,ad:Ie}),"data-focus-state":n.controls,onMouseEnter:x?l.handleMouseEnter:void 0},!ue&&o.createElement(W.a,{item:u,position:ne,playerId:l.recentPlayerId,duration:$e?at:ie,playrate:re,adPoints:Ve,isFF:Pe,isLive:xe,seekTo:l.seekTo,player:l.video,startDate:tt}),!ue&&o.createElement(H.a,{position:ne,duration:ie,playState:_,focused:l.checkIfFocused(),player:l.video,isPlay:_===Z.a.PLAYING,currentLiveItem:je,show:We,showCC:(null==Le?void 0:Le.length)>0||I.a.ALWAYS_SHOW_CC_CTA,showDV:Ne,ref:function(e){return l.playerControls=e},clickCC:l.showCC,clickDV:l.onClickDV,clickPlayPause:l.onClickPlayPause,updateTracks:_===Z.a.READY,resetLive:l.resetLive,showPlaybackLangButton:Ye,clickSwitchPlaybackLanguage:l.handleSwitchPlaybackLanguageClick,profileCCPreference:ke,profileDVPreference:Ce,isFullscreen:!0}),o.createElement(oe.a,{classNames:de.e("sub",{show:ue||pe}),ref:function(e){return l.playerActionsSub=e},focused:B===n.sub,focusState:n.sub,currentFocusState:B,actions:ce,selectedItem:ue?he:ve,click:l.onClickSubItem,profileCCPreference:ke,handleMouseEnter:x?l.handleMouseEnter:void 0})),o.createElement("div",{className:de.e("info",{live:xe,endMode:!x&&D,show:x?N&&!be:!Object(M.d)(l.recentPlayItem),topAligned:xe&&_e||!x}),"data-focus-state":n.controls,onMouseEnter:x?l.handleMouseEnter:void 0},ze&&o.createElement(G.a,{item:u,isFullscreen:x,itemTitle:ye,currentLiveItem:je,showAutoPlayReminderMessage:Xe}),!xe&&!x&&!l.hideUpNextForLockedEpisode()&&o.createElement(Y.a,{classNames:de.e("actions"),lighterBackground:r,isPIP:!x,focused:B===n.actions,focusState:n.actions,item:u,activeProfile:p,buttonCollection:Object(se.b)(Xe),ref:function(e){return l.playerActions=e},click:l.onClickPlayerAction,mouseEnter:l.handleMouseEnter,strings:T}),xe&&l.renderNowPlayingItems(je)),o.createElement(R.a,Object(i.a)({classNames:de.e("auto",{show:He}),show:D&&!Q&&!x,enableCountDown:fe&&l.autoPlaySettings,countDownTime:Qe},l.props,{focused:B===n.end,ref:function(e){l.playerAutoPlayPanel=e&&e.refs.wrappedInstance},relatedList:me,onPageChange:l.onPageChange,focusState:n.end,onMouseEnter:x?void 0:l.handleMouseEnter,trackEvents:l.trackPlaybackEvents,itemTitle:ye,nextEpisode:ge,showAutoPlayReminderMessage:Xe})),"true"===e.env.CLIENT_SHAKA_DEBUG&&o.createElement($.a,{shaka:window._player&&window._player.player_.nexplayer_.shaka_,videoElement:window._player&&window._player.player_.videoElement_}),o.createElement(le.a,{enabled:Ge,playrate:re,position:ne,duration:ie,item:u,playState:_,isShowCC:ue,isDVEnabled:Ce,currentPlayerBreak:nt,isSkipped:Re}))}})},a.prototype.renderSkipPlayerBreak=function(){var e;if(this.shouldShowPlayerBreakBtn()){var t=null===(e=null===te.c||void 0===te.c?void 0:te.c.getPlayerBreak())||void 0===e?void 0:e.BreakType,a=te.c.getPlayerBreakLabel(t),i=this.props.item,r=i.showName,s=i.episodeNumber,l=i.title,c=i.seasonNumber,d=this.state,u=d.curPos,p=d.duration,h=Object(A.c)(u,p),v={hours:h.hours,minutes:h.minutes,seconds:h.seconds,seasonNumber:c||0,episodeNumber:s||0,episodeName:l,showName:r};return o.createElement(U.a,{tagName:"button",onClick:this.onClickPlayerBreak,className:de.e("player-break",{focused:this.state.focusState===n.skipPlayerBreak}),onMouseEnter:this.handleMouseEnterSkipPlayerBreak,onMouseLeave:this.handleMouseLeaveSkipPlayerBreak,values:v,formattedAriaLabel:"@{playing_announcement_aria} ".concat(a)},a)}},a.prototype.shouldShowPlayerBreakBtn=function(){var e=this.state,t=e.isEndMode,a=e.loading,n=e.showAds;if(!te.c.getPlayerBreak()||!this.video)return!1;var i=this.video&&this.video.getPosition(!0);return te.c.isInPlayerBreakRange(i)&&!n&&!a&&te.c.getPlayerBreakBtnVisibility()&&!t&&!Object(N.h)(this.props.item)&&!(this.video&&this.video.isPlayerSeeking&&this.video.isPlayerSeeking())},a.prototype.renderNowPlayingItems=function(e){var t=this.state,a=t.epgList,r=t.focusState,s=t.loading,l=t.isShowChannelSwitcher;if(!a)return!1;var c=a.items,d=c&&[c.length>5?"scrollable":c.length>1?"":"hide"],u=de.e("lists",d),p=c.indexOf(e);return o.createElement("div",{className:u},!s&&l&&o.createElement(B.a,Object(i.a)({},this.props,{changeLiveFocus:this.changeLiveFocus,ref:this.onRefH5List,h5List:c,imageType:"tile",imageWidth:C.a.tileThumbnailWidth,itemMargin:C.a.h5ListLiveItemMargin,focusable:!0,rowType:"t1",focused:r===n.h5list,curIndex:p,resetInteractingTimer:this.resetInteractingTimer,customFields:{assetTitlePosition:"below"},isPartOfLivePlayback:!0,list:a,notAllowToPlayCallBack:this.pausePlaybackCallback})))},a.prototype.getCurrentAdBreakPosition=function(){var e,t;return null===(t=null===(e=this.state)||void 0===e?void 0:e.adData)||void 0===t?void 0:t.adBreakTime},a.prototype.isItemUnwatched=function(){return Object(p.s)(this.recentPlayItem.customId)===p.e.Unwatched},a.prototype.loadingVideo=function(e,t){var a,n;return Object(i.b)(this,void 0,void 0,(function(){var r,o,s,l,c;return Object(i.d)(this,(function(i){switch(i.label){case 0:return t&&t.length>0?(r=t[0],this.trackPlaybackEvents("state",f.b.LOADING,{isUserEnacted:!1,item:e,path:r.url,langCode:r.language,viewId:this.viewId,isAutoPlayed:this.isAutoPlayed,playMethod:this.getPlayMethod(),subtitle:this.state.selectedText}),this.context.detailHelper.isInChainingPlay||!I.a.ENABLE_RECO?[3,3]:(o=0,!this.props.isSignedIn||Object(M.d)(e)||Object(p.j)(e.customId)||this.isLive?[3,2]:[4,this.props.getItemWatchedState(e)])):[3,4];case 1:(s=i.sent())&&(l=null===(n=null===(a=null==s?void 0:s.watched)||void 0===a?void 0:a.value)||void 0===n?void 0:n.position,o=l&&l>0?l:0),i.label=2;case 2:if(o>0)return this.setState({src:r,resumePosition:o}),[2];i.label=3;case 3:return this.setState({src:r,resumePosition:0}),[3,5];case 4:c=new d.a("Invalid video",d.b.BadVideoDataError),this.trackPlaybackEvents("state",f.b.ERROR,{item:e,error:c}),this.onError(c),i.label=5;case 5:return[2]}}))}))},a.prototype.startHeartbeatTimer=function(){this.mediaHeartbeatTimer||(this.mediaHeartbeatTimer=window.setInterval(this.sendHeartbeatRequest,this.props.heartbeatFrequency))},a.prototype.clearHeartbeatTimer=function(){this.mediaHeartbeatTimer&&(window.clearInterval(this.mediaHeartbeatTimer),this.mediaHeartbeatTimer=void 0)},a.prototype.setVideoZoomOut=function(){this.player&&this.player.resizeViewport(0,0,C.a.viewportWidth,C.a.viewportHeight)},a.prototype.setVideoZoomIn=function(){var e=C.a.viewportWidth-C.a.playerEndModeVideoWidth-C.a.playerEndModeVideoOffsetRight,t=C.a.playerEndModeVideoOffsetTop;this.player&&this.player.resizeViewport(e,t,C.a.playerEndModeVideoWidth,C.a.playerEndModeVideoHeight)},a.prototype.canSwitchToPause=function(e){var t=Z.a.FF,a=Z.a.REWIND,n=[Z.a.PLAYING,Z.a.BUFFERING,a,t].indexOf(e)>-1,i=this.state.isReplay&&0===this.state.curPos;return n&&!i},a.prototype.onPausedPlayback=function(e){this.setState({isShowChannelSwitcher:!1,showPausedAdBanner:e.isUserEnacted}),this.saveResumePosition(),this.trackPlaybackEvents("action",f.a.ActuatePause,e),this.trackPlaybackEvents("state",f.b.PAUSED,e)},a.prototype.onCompletedPlayback=function(e){this.trackPlaybackEvents("state",f.b.COMPLETED,e)},a.prototype.onStartingPlayback=function(e,t){t&&this.trackPlaybackEvents("state",f.b.PLAYING,e),this.setState({showPausedAdBanner:!1,focusState:n.controls}),this.delayShowChannelSwitcher()},a.prototype.onResumingPlayback=function(e,t,a){var n=Z.a.BUFFERING,i=Z.a.FF,r=Z.a.REWIND;a&&(X.a.warning("Missed AdBlockEnd event, working around"),this.onAdBlockEnd()),[n,i,r].includes(e)?this.saveResumePosition():this.trackPlaybackEvents("state",f.b.PLAYING,t),this.isLive&&e===n&&(this.setState({isShowChannelSwitcher:!1}),this.delayShowChannelSwitcher())},a.prototype.onFirstPlayback=function(e){this.trackVideoProgressEvent(e)},a.prototype.onAdInfo=function(e){this.setState({adData:Object(i.a)(Object(i.a)({},this.state.adData),e)})},a.prototype.onAdBlockStart=function(e){X.a.info("PlayerStandard.onAdBlockStart ... adCount:",e.adCount),this.setState({showAds:!0,adData:Object(i.a)(Object(i.a)({},this.state.adData),{adCount:e.adCount})}),this.resetFocusToPlayer()},a.prototype.onAdStarted=function(e){var t=this;X.a.info("PlayerStandard.onAdStarted ... adIndex:".concat(e.adIndex," adRemainingTime:").concat(e.adRemainingTime));var a=this.state.adData;this.setState({showAds:!0,adData:Object(i.a)(Object(i.a)({},a),e)},(function(){!e.adIndex&&t.trackPlaybackAdEvents(f.a.AdBreakStart),t.trackPlaybackAdEvents(f.a.AdStarted)}))},a.prototype.onAdPlaying=function(e){this.setState({showAds:!0,adData:Object(i.a)(Object(i.a)({},this.state.adData),{adRemainingTime:e.adRemainingTime})})},a.prototype.onAdCompleted=function(){this.trackPlaybackAdEvents(f.a.AdCompleted)},a.prototype.onAdBlockEnd=function(){this.setState({showAds:!1,adData:Object(i.a)(Object(i.a)({},this.state.adData),{adCount:void 0,adIndex:void 0,adRemainingTime:void 0})}),window.focus();var e=document.activeElement;"iframe"===e.tagName.toLowerCase()&&e.blur(),this.saveResumePosition(),this.trackPlaybackAdEvents(f.a.AdBreakEnd)},a.prototype.onChapterStart=function(e){this.trackPlaybackEvents("action",f.a.ChapterStarted,e)},a.prototype.onChapterComplete=function(e){this.trackPlaybackEvents("action",f.a.ChapterCompleted,e)},a.prototype.onChapterSkip=function(){this.trackPlaybackEvents("action",f.a.ChapterSkipped)},a.prototype.onBuffering=function(e){var t=e.eventData,a=e.oldState,n=e.newState,i=Z.a.FF,r=Z.a.PAUSED,o=Z.a.REWIND;a===r&&this.onStartingPlayback(t,n!==i&&n!==o),this.trackPlaybackEvents("action",f.a.Buffer,t)},a.prototype.getPlayMethod=function(){return this.isAutoPlayed?"up_next":"user_triggered"},a.prototype.handleChannelEvent=function(){this.moveUp()},a.contextTypes={router:l.object.isRequired,focusNav:l.object.isRequired,detailHelper:l.object.isRequired,emitVideoEvent:l.func},a}(o.Component);var PlayerStandard=Object(s.connect)((function(e,t){var a,n,i,r,o,s,l,c,d,p,h,v,m,f,y,g,E,b,A=e.app,T=e.account,k=e.player,C=e.session,w=e.cache,L=e.profile,N=null===(a=null==A?void 0:A.config)||void 0===a?void 0:a.general,D=T.info?T.info.subscriptionCode:"",O=k.players,_=C.authPrompts,R=null===(i=null===(n=null==A?void 0:A.config)||void 0===n?void 0:n.playback)||void 0===i?void 0:i.chainPlayCountdown,x=null===(s=null===(o=null===(r=null==A?void 0:A.config)||void 0===r?void 0:r.general)||void 0===o?void 0:o.customFields)||void 0===s?void 0:s.credit_fallback,M=null===(d=null===(c=null===(l=null==A?void 0:A.config)||void 0===l?void 0:l.general)||void 0===c?void 0:c.customFields)||void 0===d?void 0:d.global_interval,B=1e3*((null===(p=A.config.playback)||void 0===p?void 0:p.heartbeatFrequency)||S.b),F=t.id,U=t.item,j=O&&O[F],V=N&&Object(P.m)(N),W=N&&Object(P.q)(N),H=null===(h=null==j?void 0:j.packageInfo)||void 0===h?void 0:h.playbackLanguage,G=Object(u.g)(U,H),Y=null===(v=null==j?void 0:j.packageInfo)||void 0===v?void 0:v.playbackContentUrl,K=null===(m=null==N?void 0:N.customFields)||void 0===m?void 0:m.nagMessageInterval,q=null===(f=null==N?void 0:N.customFields)||void 0===f?void 0:f.nagPlaybackInactivityTimeout,z=null===(y=null==N?void 0:N.customFields)||void 0===y?void 0:y.renditionHtml,X=w.startPlayingTimestamp,Z=I.a.HAS_PROFILE?L:T,Q=null===(g=null==N?void 0:N.customFields)||void 0===g?void 0:g.adVolume;return{device:A.contentFilters.device,isSignedIn:null==T?void 0:T.active,player:j,blackout:k.blackout,subscriptionCode:D,prompt:_[_.length-1],ctvLiveChannelsList:w&&w.ctvLiveChannelsList,tokens:C.tokens,online:A.online,expiryTime:null===(E=null==e?void 0:e.ctvSchedule)||void 0===E?void 0:E.expiryTime,chainPlayCountdown:R,creditFallback:x,globalInterval:M,allowLanguageEdit:V,allowPlaybackLanguageEdit:W,videoAdUnit:G,playbackContentUrl:Y,currentProfileId:null===(b=null==Z?void 0:Z.info)||void 0===b?void 0:b.id,tokenError:C.tokenError,nagMessageInterval:K,nagPlaybackInactivityTimeout:q,playbackLanguage:H,configGeneral:N,rendition:z,heartbeatFrequency:B,startPlayingTimestamp:X,strings:A.i18n.strings,defaultAdVolume:Q}}),(function(e){return{getItemWatchedState:function(t){return e(Object(h.c)(t))},rateItem:function(t,a,n){return void 0===n&&(n=1),e(Object(h.d)(t,a,n))},saveResumePosition:function(t,a,n){return e(ee.d.saveItemResumePosition(t,a,n))},startedPlaying:function(t){return e(Object(m.j)(t))},openPlayer:function(t,a,n){return e(Object(u.i)(t,a,"",n))},closePlayer:function(t){return e(Object(u.b)(t))},promptSignIn:function(){return e(Object(v.E)())},promptPlaybackNotAllowed:function(){return e(Object(v.D)())},getBlackoutRestrictions:function(t,a,n){return e(Object(u.e)(t,a,n))},resetBlackoutRestrictions:function(){return e(Object(u.j)())},resetDuringPlayback:function(){return e(Object(u.k)())},getChannelAffiliateSchedules:function(t){return e(Object(Q.a)(t))},saveStartPlayingTimestamp:function(t){return e(Object(m.i)(t))},clearStartPlayingTimestamp:function(){return e(Object(m.c)())}}}))(he);PlayerStandard.template=y.PlayerStandard,t.a=PlayerStandard}).call(this,a(100))},997:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(243),i=a(295),r=a(252);function o(e){var t=e.onClose,o=e.showBlackoutImage,s=n.createElement(i.a,{captureFocus:!0,text:"@{playback_blackout_error|Access denied. The program you selected is not available in your region.}",buttons:["@{ok|OK}"],onClose:t,playerError:r.a.SHOULD_APPLY_PLAYER_ERR_STYLING});if(o)try{var l=a(!function(){var e=new Error("Cannot find module 'resource-base/image/blackout.png'");throw e.code="MODULE_NOT_FOUND",e}());return n.createElement(i.a,{captureFocus:!0,backgroundImage:l,onClose:t,playerError:r.a.SHOULD_APPLY_PLAYER_ERR_STYLING})}catch(c){return s}return s}},998:function(e,t,a){},999:function(e,t,a){}}]);