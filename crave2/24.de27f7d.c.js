(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1026:function(t,e,n){},1065:function(t,e,n){"use strict";n.r(e);var o=n(242),a=n(243),c=n(245),i=n(289),s=n(256),r=n(244),l=n(266),u=n(275),p=n(252),_=n(521),v=(n(1026),new r.a("signin-page")),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.componentWillReceiveProps=function(t){this.props.profile&&this.props.profile.info!==t.profile&&t.profile.info&&t.account.active&&t.profile.info&&this.context.focusNav.showGlobalHeader(!0)},e.prototype.render=function(){var t=this.props,e=t.promptSignIn,n=t.account,o=t.prompt,c=t.profile,i=p.a.checkIsSignIn(n,c),s=o&&-1!==["gencode_ok","gencode"].indexOf(o.type);return!o||s?a.createElement("div",{className:v.b()},a.createElement(_.a,{promptSignEvent:e,isSignin:i})):null},e.contextTypes={router:c.object.isRequired,focusNav:c.object.isRequired},e}(a.Component);e.default=Object(i.b)(d,{key:u.SignIn,template:l.STATIC,mapStateToProps:function(t){var e=t.account,n=t.profile,o=t.session;return{account:e,profile:n,prompt:o.authPrompts.length>0&&o.authPrompts[0]}},mapDispatchToProps:function(t){return{promptSignIn:function(){return t(Object(s.E)())}}}})},521:function(t,e,n){"use strict";var o=n(242),a=n(243),c=n(250),i=n(245),s=n(247),r=n.n(s),l=n(244),u=n(312),p=n(252),_=n(286),v=n(383),d=n(265),b=(n(260),n(253)),g=n(248),m=n(278),h=n(251),y=n(295),f=n(492),x=(n(489),new l.a("account-buttons")),k=function(t){function e(e){var n=t.call(this,e)||this;return n.setFocus=function(t){var e=n.state.curIndex;return e=t?e>0?e:0:-1,n.setState({focused:t,curIndex:e}),!0},n.moveLeft=function(){return n.state.curIndex>0&&n.setState({curIndex:n.state.curIndex-1}),!0},n.moveRight=function(){var t=n.state,e=t.curIndex;return e<t.buttons.length-1&&n.setState({curIndex:e+1}),!0},n.getFocusedButtonType=function(){var t=n.state,e=t.curIndex,o=t.buttons;if(-1!==e)return o[e].key},n.exec=function(t){switch(t){case b.a.CLICK:switch(n.getFocusedButtonType()){case v.a.signIn:case v.a.signOut:n.props.promptSignEvent();break;case v.a.help:n.handleHelp();break;case v.a.support:n.handleSupport();break;case v.a.version:n.handleVersion();break;case v.a.subscribe:case v.a.manageAccount:n.handleManageAccount();break;case v.a.autoPlay:n.handleAutoPlay()}return!0}return!1},n.handleMouseClick=function(){return n.exec(b.a.CLICK)},n.handleSupport=function(){var t,e=n.context.intl,a="crave"===p.a.BRAND_NAME||"noovo"===p.a.BRAND_NAME||"ctv"===p.a.BRAND_NAME?{title:"",text:"@{account_privacy_policy_content_line2}",values:{link:e.formatMessage({id:"account_privacy_policy_link_2"})}}:{},c="noovo"===p.a.BRAND_NAME||"ctv"===p.a.BRAND_NAME?{title:"",text:"@{account_terms_condition_content_line2}",values:{link:e.formatMessage({id:"account_terms_condition_link"})}}:{},i="crave"===p.a.BRAND_NAME||"noovo"===p.a.BRAND_NAME||"ctv"===p.a.BRAND_NAME?{title:"",text:"@{account_privacy_policy_content_line2}",values:{link:Object(_.g)("account_privacy_policy_link_2",e)}}:{},s="noovo"===p.a.BRAND_NAME||"ctv"===p.a.BRAND_NAME?{title:"",text:"@{account_terms_condition_content_line2}",values:{link:Object(_.g)("account_terms_condition_link",e)}}:{},r=[{type:v.b.privacyPolicy,title:"@{account_privacy_policy_button_label|Privacy Policy}",text:"@{account_privacy_policy_content_line1}",values:{breakingLine:"\n",link:e.formatMessage({id:"account_privacy_policy_link_1"})}},Object(o.a)({},a),{type:v.b.termsConditions,title:"@{account_terms_condition_button_label|Terms & Conditions}",text:"@{account_terms_condition_content}",values:{breakingLine:"\n",link:e.formatMessage({id:"account_terms_condition_link"})}},Object(o.a)({},c)],l=[{type:v.b.privacyPolicy,title:"@{account_privacy_policy_button_label|Privacy Policy}",text:"@{account_privacy_policy_content_line1}",values:{breakingLine:"\n",link:Object(_.g)("account_privacy_policy_link_1",e)}},Object(o.a)({},i),{type:v.b.termsConditions,title:"@{account_terms_condition_button_label|Terms & Conditions}",text:"@{account_terms_condition_content}",values:{breakingLine:"\n",link:Object(_.g)("account_terms_condition_link",e)}},Object(o.a)({},s)],d=n.state.buttons[n.state.curIndex].getLabel(n.props.isSignin),b=(null===(t=null==d?void 0:d.replace("@{",""))||void 0===t?void 0:t.split("|")[0])||"";n.context.focusNav.analytics.triggerCtaClickEvent({type:u.c.Support,elementType:u.a.Button,position:u.b.Center,elementInnerText:n.props.strings[b]||""}),n.handleDialog(r,l)},n.handleHelp=function(){var t,e=n.context.intl,o=[{type:v.b.help,title:"@{account_help_button_label|Help}",text:"@{account_help_email_content|Having issues? Please email us at { help_email_address } or Call us at { help_phone_number }}",values:{help_email_address:"help@crave.ca",help_phone_number:"1-888-CRAVE88(272-8388)"}},{type:v.b.helpSite,text:"@{account_help_site_content}",values:{help_link:"crave.ca/help",breakingLine:"\n"}}],a=[{type:o[0].type,title:o[0].title,text:o[0].text,values:{help_email_address:Object(_.g)("account_help_email",e),help_phone_number:"1 8 8 8 2 7 2 8 3 8 8"}},{type:o[1].type,title:o[1].title,text:o[1].text,values:{help_link:Object(_.g)("account_help_link",e),breakingLine:"\n"}}],c=n.state.buttons[n.state.curIndex].getLabel(n.props.isSignin),i=(null===(t=null==c?void 0:c.replace("@{",""))||void 0===t?void 0:t.split("|")[0])||"";n.context.focusNav.analytics.triggerCtaClickEvent({type:u.c.Help,elementType:u.a.Button,position:u.b.Center,elementInnerText:n.props.strings[i]||""}),n.handleDialog(o,a)},n.handleVersion=function(){var t,e=n.context.intl,o={app_version:"".concat("0.0.0"," (").concat("feat/BTVAXIS-25233-switch-to-IMA-SDK",")").concat("")},a=[{type:v.b.version,title:"@{account_version_button_label|Version}",text:"@{account_version_content|Version {app_version}}",values:o}],c=[{type:v.b.version,title:"@{account_version_button_label|Version}",text:"@{account_version_content|Version {app_version}}",values:{app_version:Object(_.f)(o.app_version,e)}}],i=n.state.buttons[n.state.curIndex].getLabel(n.props.isSignin),s=(null===(t=null==i?void 0:i.replace("@{",""))||void 0===t?void 0:t.split("|")[0])||"";n.context.focusNav.analytics.triggerCtaClickEvent({type:u.c.Version,elementType:u.a.Button,position:u.b.Center,elementInnerText:n.props.strings[s]||""}),n.handleDialog(a,c)},n.handleAutoPlay=function(){n.context.focusNav.showDialog(a.createElement(f.a,{account:n.props.account,onBack:function(){return n.context.focusNav.hideDialog()}}))},n.handleManageAccount=function(){var t=n.context.intl,e=Object(d.i)()?"@{dh1_contact-provider_cravetv|Please contact your service provider to manage your account.}":"@{account_management_content|Please go to crave.ca to manage your account.}",o=[{type:v.b.manageAccount,title:"@{account_manage_account_title|".concat(" ","}"),text:e,values:{link:t.formatMessage({id:"account_management_link"})},key:"instructions"}],a=[{type:v.b.manageAccount,title:"@{account_manage_account_title|".concat(" ","}"),text:e,values:{link:Object(_.g)("account_management_link",t)},key:"instructions"}];n.handleDialog(o,a)},n.handleDialog=function(t,e){var o=n.context.intl,c=Object(_.h)(e||t,o);n.context.focusNav.showDialog(a.createElement(y.a,{captureFocus:!0,buttons:["@{ok|OK}"],onClose:n.context.focusNav.hideDialog,ariaLabel:c},t.map((function(t){return n.renderContent(t)}))))},n.handleMouseMove=function(t){var e=n.state.buttons.findIndex((function(e){return e.key===t}));n.setState({curIndex:e})},n.state={curIndex:-1,buttons:[]},n.focusableRow={focusable:!0,index:n.props.index||1,height:200,restoreSavedState:function(){},setFocus:n.setFocus,moveLeft:n.moveLeft,moveRight:n.moveRight,moveUp:g.c,moveDown:g.c,exec:n.exec},n}return Object(o.c)(e,t),e.prototype.componentDidMount=function(){this.context.focusNav.registerRow(this.focusableRow),this.setState({buttons:p.a.getAccountButtons()})},e.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},e.prototype.componentWillReceiveProps=function(t){var e=this.props.isSignin;t.isSignin!==e&&this.setState({buttons:p.a.getAccountButtons()})},e.prototype.renderContent=function(t){var e=t.title,n=t.text,o=t.key,c=void 0===o?e:o,i=t.values,s=t.type;return a.createElement("div",{key:c,className:x.e("group",s)},e&&a.createElement(h.a,{tagName:"div",className:x.e("title")},e),a.createElement(h.a,{tagName:"div",className:x.e("text","blackBackground"),values:i},n))},e.prototype.render=function(){var t=this,e=this.props.isSignin,n=this.state.buttons,c=this.getFocusedButtonType(),i=e?x.e("signed-in-btn"):x.e("btn");return a.createElement(h.a,{tagName:"div",className:r()(x.b(),e&&x.e("signed-in"))},n.map((function(n){var s=n.buttonSettings,l=n.key,u=n.getLabel;return a.createElement(m.a,Object(o.a)({key:l,className:r()(i,c===l?"focused":""),label:u(e),index:l,onClick:t.handleMouseClick,onMouseEnter:t.handleMouseMove,onMouseLeave:t.handleMouseMove},s))})))},e.contextTypes={intl:i.object.isRequired,focusNav:i.object.isRequired},e}(a.Component);e.a=Object(c.connect)((function(t){return{strings:t.app.i18n.strings}}),void 0)(k)}}]);