(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1064:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountProfileContinueWatching",(function(){return w}));var i=n(242),o=n(243),s=n(250),a=n(319),r=n(249),c=n(307),u=n(244),l=n(274),p=n(255),d=n(246),m=n(259),f=n(354),g=n(323),v=n(271),h=n(304),b=(n(523),new u.a("profile-watched")),w=function(e){function t(t){var n=e.call(this,t)||this;return n.getList=function(){var e=n.state.pages;return Object(f.a)(e)},n.fetchPage=function(e){var t=n.props,i=t.profile,o=t.subscriptionCode,s=t.segments,c={device:m.a.deviceInfo().type,page:e,pageSize:50,sub:o,segments:s};return Object(a.g)(c).then((function(t){n.setState((function(n){return{pages:n.pages.filter((function(t){return t.paging.page!==e})).concat(t.data)}})),Object(r.a)(i,n.getList().items)}),(function(e){console.error(e),n.setState({pages:[]})}))},n.renderProfileContinueWatchingList=function(e){return o.createElement("div",{className:b.e("list contant-margin")},o.createElement(c.a,Object(i.a)({},n.props,{list:e,imageType:"tile",imageWidth:d.a.blockImageWidth,itemsPerRow:5,index:1,loadNextPage:n.fetchPage,customFields:{assetTitlePosition:"below"},isAccountContinueWatchingPage:!0,isUserList:!0})))},n.state={pages:[]},n}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){this.props.isSaveResumePendingUpdate||this.fetchPage(1)},t.prototype.componentWillReceiveProps=function(e){var t=e.isSaveResumePendingUpdate;t===this.props.isSaveResumePendingUpdate||t||this.fetchPage(1)},t.prototype.render=function(){var e,t=this.props,n=t.intl,s=t.title;if(!this.state.pages.length)return o.createElement("div",null);var a=this.getList();if(!(null===(e=null==a?void 0:a.items)||void 0===e?void 0:e.length)){var r=v.w[h.b],c=r.title,u=r.instructions;return o.createElement(g.a,{title:c,instructions:u,isUserList:!0})}return o.createElement("div",{className:"content-margin"},o.createElement(l.a,Object(i.a)({},this.props,{text:n.formatMessage({id:"account_continue_watching_items_title"}),title:s,template:"H10",customFields:{subheading:void 0}})),this.renderProfileContinueWatchingList(a))},t}(o.PureComponent);t.default=Object(s.connect)((function(e){var t,n,i,o=e.account,s=e.profile,a=(null===(t=null==s?void 0:s.info)||void 0===t?void 0:t.pendingUpdates).some((function(e){return"savingResumePositon"===e.type}));return{subscriptionCode:null===(n=null==o?void 0:o.info)||void 0===n?void 0:n.subscriptionCode,profile:s,isSaveResumePendingUpdate:a,segments:null===(i=null==s?void 0:s.info)||void 0===i?void 0:i.segments}}),void 0)(Object(p.d)(w))},323:function(e,t,n){"use strict";var i=n(242),o=n(243),s=n(245),a=n(244),r=n(251),c=n(248),u=n(364),l=n(286),p=(n(353),new a.a("empty-list-msg")),d=function(e){function t(t){var n=e.call(this,t)||this,o=t.index>=0?t.index:1;return n.state={focused:!1},n.focusableRow={focusable:!0,index:10*(o+1),dynamicHeight:!0,height:0,entryProps:Object(i.a)({id:"empty-list=".concat(t.title.toLowerCase()),template:""},t),restoreSavedState:function(){},setFocus:c.b.bind(n),moveLeft:c.e,moveRight:c.e,moveUp:c.c,moveDown:c.c,exec:c.d},n}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){this.focusableRow.ref=this.ref,this.focusableRow.height=this.props.rowHeight,this.context.focusNav.registerRow(this.focusableRow)},t.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},t.prototype.render=function(){var e=this,t=this.props,n=t.title,i=t.isUserList,s=this.state.focused;return o.createElement(r.a,{tagName:"div",innerRef:function(t){return e.ref=t},className:p.b({"user-list":i,focused:s}),tabIndex:0,role:Object(l.j)(),formattedAriaLabel:Object(u.a)(this.props)},o.createElement(r.a,{tagName:"div",className:p.e("title")},"@{".concat(n,"}")),this.renderMyCravingsInstructionsLabel())},t.prototype.renderMyCravingsInstructionsLabel=function(){var e=this.props,t=e.isBookmarksList,n=e.instructions,i=e.moreInstructions;return t?o.createElement("div",null,o.createElement(r.a,{className:p.e("instructions")},"@{".concat(n,"}")),o.createElement(r.a,{tagName:"div",className:p.e("img"),formattedAriaLabel:"@{my_cravings_my_list_empty_button_label}"}),o.createElement(r.a,{className:p.e("instructions")},"@{".concat(i,"}"))):o.createElement(r.a,{className:p.e("instructions")},"@{".concat(n,"}"))},t.contextTypes={focusNav:s.object.isRequired},t}(o.PureComponent);t.a=d},353:function(e,t,n){},354:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(242);function o(e){var t=e.sort((function(e,t){return e.paging.page-t.paging.page})),n=t[t.length-1],o=t.map((function(e){return e.items})).reduce((function(e,t){return e.concat(t)}));return Object(i.a)(Object(i.a)({},n),{items:o})}},523:function(e,t,n){}}]);