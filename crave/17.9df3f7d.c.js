(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1069:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ../node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(242);\n\n// EXTERNAL MODULE: ../node_modules/react/index.js\nvar react = __webpack_require__(243);\n\n// EXTERNAL MODULE: ../node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(245);\n\n// EXTERNAL MODULE: ../node_modules/classnames/index.js\nvar classnames = __webpack_require__(247);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ../node_modules/react-intl/lib/index.es.js + 1 modules\nvar index_es = __webpack_require__(255);\n\n// EXTERNAL MODULE: ./shared/util/platforms/ps4/ps4DeviceModel.ts + 1 modules\nvar ps4DeviceModel = __webpack_require__(260);\n\n// EXTERNAL MODULE: ./crave/tv/page/search/InputWithOSK.tsx\nvar InputWithOSK = __webpack_require__(956);\n\n// EXTERNAL MODULE: ./shared/util/styles.ts\nvar styles = __webpack_require__(244);\n\n// EXTERNAL MODULE: ./crave/tv/component/SearchIcon.tsx\nvar SearchIcon = __webpack_require__(590);\n\n// EXTERNAL MODULE: ./ref/tv/component/VirtualKeyboard/VirtualKeyboard.tsx + 4 modules\nvar VirtualKeyboard = __webpack_require__(618);\n\n// EXTERNAL MODULE: ./crave/tv/util/sass.ts\nvar sass = __webpack_require__(246);\n\n// EXTERNAL MODULE: ./crave/tv/page/search/InputWithVK.scss\nvar search_InputWithVK = __webpack_require__(958);\n\n// CONCATENATED MODULE: ./crave/tv/page/search/InputWithVK.tsx\n\n\n\n\n\n\n\n\n\nvar bem = new styles["a" /* Bem */](\'input-with-vk\');\n/**\n * Search input component.\n */\nvar InputWithVK_InputWithVK = /** @class */ (function (_super) {\n    Object(tslib_es6["c" /* __extends */])(InputWithVK, _super);\n    function InputWithVK(props) {\n        var _this = _super.call(this, props) || this;\n        _this.setFocus = function (isFocus) {\n            _this.setState({\n                focused: isFocus\n            });\n            if (isFocus) {\n                _this.context.focusNav.analytics.triggerFocusedEvent();\n            }\n            if (!isFocus) {\n                if (_this.props.onCancelSearch) {\n                    _this.props.onCancelSearch();\n                }\n            }\n            return true;\n        };\n        _this.moveLeft = function () {\n            return _this.inputRef && _this.inputRef.moveLeft();\n        };\n        _this.moveRight = function () {\n            return _this.inputRef && _this.inputRef.moveRight();\n        };\n        _this.moveUp = function () {\n            return _this.inputRef && _this.inputRef.moveUp();\n        };\n        _this.moveDown = function () {\n            return _this.inputRef && _this.inputRef.moveDown();\n        };\n        _this.exec = function (act) {\n            return _this.inputRef && _this.inputRef.exec(act);\n        };\n        _this.onRef = function (ref) {\n            _this.ref = ref;\n        };\n        _this.onInputRef = function (ref) {\n            if (ref && ref.focusableRow)\n                _this.inputRef = ref.focusableRow;\n        };\n        _this.onInput = function (val) {\n            var _a = _this.props, onValueChange = _a.onValueChange, value = _a.value;\n            var newValue;\n            if (val === \'DEL\') {\n                if (value.length > 0) {\n                    newValue = value.substr(0, value.length - 1);\n                }\n            }\n            else {\n                newValue = value + val;\n            }\n            if (newValue !== value && onValueChange) {\n                onValueChange(newValue);\n            }\n        };\n        _this.onClick = function () { return _this.context.focusNav.moveToRow(1); };\n        _this.state = {\n            focused: false,\n            curValue: \'\'\n        };\n        _this.focusableRow = {\n            focusable: true,\n            index: 1,\n            height: sass["a" /* default */].searchInputHeight,\n            restoreSavedState: function () { },\n            setFocus: _this.setFocus,\n            moveLeft: _this.moveLeft,\n            moveRight: _this.moveRight,\n            moveUp: _this.moveUp,\n            moveDown: _this.moveDown,\n            exec: _this.exec\n        };\n        return _this;\n    }\n    InputWithVK.prototype.componentDidMount = function () {\n        this.focusableRow.ref = this.ref;\n        this.context.focusNav.registerRow(this.focusableRow);\n    };\n    InputWithVK.prototype.componentWillUnmount = function () {\n        this.context.focusNav.unregisterRow(this.focusableRow);\n    };\n    InputWithVK.prototype.componentDidUpdate = function () {\n        this.focusableRow.savedState = Object.assign({}, this.state);\n    };\n    InputWithVK.prototype.render = function () {\n        var _a = this.props, className = _a.className, value = _a.value, placeholder = _a.placeholder;\n        var focused = this.state.focused;\n        return (react["createElement"]("div", { className: bem.b(\'\', { focused: focused }), ref: this.onRef, onClick: this.onClick, "aria-label": placeholder, role: "presentation" },\n            react["createElement"]("div", { className: classnames_default()(bem.b({ \'has-value\': !!value }), className, \'content-margin\') },\n                react["createElement"]("div", { className: classnames_default()(bem.e(\'background\'), \'full-bleed\') }),\n                react["createElement"]("div", { className: bem.e(\'form\'), role: "search" },\n                    react["createElement"]("div", { "aria-label": "Search", role: "textbox", className: classnames_default()(bem.e(\'input\', value ? \'hasText\' : \'\'), \'full-bleed\') },\n                        react["createElement"]("div", { className: bem.e(\'placeholder\') }, placeholder)),\n                    react["createElement"]("div", { className: bem.e(\'curValue\') },\n                        react["createElement"]("div", { className: bem.e(\'text\') }, value),\n                        react["createElement"]("div", { className: bem.e(\'cursor\', focused ? \'focused\' : \'\') })),\n                    react["createElement"]("div", { className: bem.e(\'icons\') },\n                        react["createElement"](SearchIcon["a" /* default */], { className: bem.e(\'icon\', \'search\') })))),\n            focused ? (react["createElement"]("div", { className: bem.e(\'keyboard\') },\n                react["createElement"](VirtualKeyboard["a" /* default */], { ref: this.onInputRef, handleKeyboardInput: this.onInput }))) : (\'\')));\n    };\n    InputWithVK.contextTypes = {\n        focusNav: prop_types["object"].isRequired\n    };\n    return InputWithVK;\n}(react["PureComponent"]));\n/* harmony default export */ var page_search_InputWithVK = (InputWithVK_InputWithVK);\n\n// CONCATENATED MODULE: ./crave/tv/page/search/SearchInput.tsx\n\n\n\n\n\n\nvar useOSK = ps4DeviceModel["a" /* default */].hasOSK();\n/**\n * Search input component.\n */\nvar SearchInput_SearchInput = /** @class */ (function (_super) {\n    Object(tslib_es6["c" /* __extends */])(SearchInput, _super);\n    function SearchInput(props) {\n        return _super.call(this, props) || this;\n    }\n    SearchInput.prototype.render = function () {\n        var intl = this.props.intl;\n        var placeholderId = \'search_input_placeholder\';\n        var placeholder = intl.formatMessage({ id: \'search_input_placeholder\' });\n        if (useOSK) {\n            return react["createElement"](InputWithOSK["a" /* default */], Object(tslib_es6["a" /* __assign */])({}, this.props, { placeholder: "".concat(placeholderId) }));\n        }\n        return react["createElement"](page_search_InputWithVK, Object(tslib_es6["a" /* __assign */])({}, this.props, { placeholder: intl.formatMessage({ id: placeholder }) }));\n    };\n    return SearchInput;\n}(react["PureComponent"]));\n/* harmony default export */ var search_SearchInput = (Object(index_es["d" /* injectIntl */])(SearchInput_SearchInput));\n\n// EXTERNAL MODULE: ../node_modules/react-router/lib/index.js\nvar lib = __webpack_require__(318);\n\n// EXTERNAL MODULE: ./shared/util/reactIntl/index.ts + 3 modules\nvar reactIntl = __webpack_require__(286);\n\n// EXTERNAL MODULE: ./bell/tv/focusableInterface.ts\nvar focusableInterface = __webpack_require__(253);\n\n// EXTERNAL MODULE: ./bell/tv/util/focusUtil.ts\nvar focusUtil = __webpack_require__(249);\n\n// EXTERNAL MODULE: ./ref/tv/util/keycodes.ts\nvar keycodes = __webpack_require__(487);\n\n// EXTERNAL MODULE: ./crave/tv/component/IntlFormatter.tsx\nvar IntlFormatter = __webpack_require__(252);\n\n// EXTERNAL MODULE: ./crave/tv/page/search/RecentSearches.scss\nvar search_RecentSearches = __webpack_require__(959);\n\n// CONCATENATED MODULE: ./crave/tv/page/search/RecentSearches.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar rowIndex = 3;\nvar RecentSearches_bem = new styles["a" /* Bem */](\'recent-searches\');\nvar RecentSearches_RecentSearches = /** @class */ (function (_super) {\n    Object(tslib_es6["c" /* __extends */])(RecentSearches, _super);\n    function RecentSearches(props) {\n        var _this = _super.call(this, props) || this;\n        _this.setFocus = function (isFocus) {\n            _this.setState({\n                focused: isFocus\n            });\n            return true;\n        };\n        _this.moveLeft = function () {\n            var focusState = _this.state.focusState;\n            if (focusState === \'clearBtn\') {\n                _this.setState({\n                    focusState: \'list\',\n                    announceListName: true\n                });\n            }\n            return true;\n        };\n        _this.moveRight = function () {\n            var focusState = _this.state.focusState;\n            if (focusState === \'list\') {\n                _this.setState({\n                    focusState: \'clearBtn\'\n                });\n            }\n            return true;\n        };\n        _this.moveUp = function () {\n            var _a = _this.state, focusState = _a.focusState, curIndex = _a.curIndex;\n            if (focusState === \'list\' && curIndex > 0) {\n                _this.setState({\n                    curIndex: curIndex - 1,\n                    announceListName: false\n                });\n                return true;\n            }\n            return false;\n        };\n        _this.moveDown = function () {\n            var _a = _this.state, focusState = _a.focusState, curIndex = _a.curIndex;\n            var searches = _this.props.searches;\n            if (focusState === \'list\' && curIndex < searches.length - 1) {\n                _this.setState({\n                    curIndex: curIndex + 1,\n                    announceListName: false\n                });\n                return true;\n            }\n            if (focusState === \'clearBtn\') {\n                _this.setState({\n                    focusState: \'list\'\n                });\n                return true;\n            }\n            return false;\n        };\n        _this.exec = function (act) {\n            switch (act) {\n                case focusableInterface["a" /* ActionEnum */].CLICK:\n                    var _a = _this.state, focusState = _a.focusState, curIndex = _a.curIndex;\n                    if (focusState === \'clearBtn\') {\n                        _this.onClearSearches();\n                        _this.context.focusNav.move(keycodes["a" /* KEY_CODE */].UP, true);\n                    }\n                    else if (focusState === \'list\') {\n                        var item = _this.props.searches[curIndex];\n                        var location = "".concat(_this.props.searchPagePath, "?q=").concat(encodeURIComponent(item));\n                        _this.context.router.replace(location);\n                    }\n                    return true;\n                case focusableInterface["a" /* ActionEnum */].ESC:\n                    _this.context.focusNav.move(keycodes["a" /* KEY_CODE */].UP, true);\n                    return true;\n                default:\n                    break;\n            }\n            return false;\n        };\n        _this.onClearSearches = function () {\n            _this.props.onClearSearches();\n        };\n        _this.onRef = function (ref) {\n            _this.ref = ref;\n        };\n        _this.handleMouseEnter = function () {\n            !_this.context.focusNav.disableMouseFocus && _this.context.focusNav.moveToRow(rowIndex);\n        };\n        _this.mouseEnterSearchItem = function (index) {\n            _this.setState({ focusState: \'list\', curIndex: index });\n        };\n        _this.clickSearchItem = function () {\n            _this.exec(focusableInterface["a" /* ActionEnum */].CLICK);\n        };\n        _this.mouseEnterClearBtn = function () {\n            _this.setState({ focusState: \'clearBtn\' });\n        };\n        _this.renderSearchItem = function (item, index, array) {\n            var _a = _this.state, focused = _a.focused, focusState = _a.focusState, curIndex = _a.curIndex, announceListName = _a.announceListName;\n            var location = "".concat(_this.props.searchPagePath, "?q=").concat(encodeURIComponent(item));\n            var isFocused = focused && focusState === \'list\' && curIndex === index;\n            return (react["createElement"](RecentSearches_SearchItem, { key: index, index: index, totalItems: array.length, item: item, className: classnames_default()(RecentSearches_bem.e(\'item\'), isFocused ? focusUtil["a" /* focusedClass */] : \'\'), isFocused: isFocused, location: location, containerLabel: announceListName && isFocused ? \'@{search_recent_heading}\' : undefined, onMouseEnter: _this.mouseEnterSearchItem, onClick: _this.clickSearchItem }));\n        };\n        _this.state = {\n            focused: false,\n            focusState: \'list\',\n            announceListName: true,\n            curIndex: 0\n        };\n        _this.focusableRow = {\n            focusable: true,\n            index: 3,\n            height: 1,\n            restoreSavedState: function () { },\n            setFocus: _this.setFocus,\n            moveLeft: _this.moveLeft,\n            moveRight: _this.moveRight,\n            moveUp: _this.moveUp,\n            moveDown: _this.moveDown,\n            exec: _this.exec\n        };\n        return _this;\n    }\n    RecentSearches.prototype.componentDidMount = function () {\n        this.focusableRow.ref = this.ref;\n        this.context.focusNav.registerRow(this.focusableRow);\n    };\n    RecentSearches.prototype.componentWillUnmount = function () {\n        this.context.focusNav.unregisterRow(this.focusableRow);\n    };\n    RecentSearches.prototype.componentDidUpdate = function () {\n        this.focusableRow.savedState = Object.assign({}, this.state);\n        this.focusableRow.height = this.ref && this.ref.clientHeight;\n    };\n    RecentSearches.prototype.render = function () {\n        var searches = this.props.searches;\n        var focused = this.state.focused;\n        return (react["createElement"]("div", { className: RecentSearches_bem.b({ focused: focused }), ref: this.onRef, onMouseEnter: this.handleMouseEnter },\n            react["createElement"]("header", { className: RecentSearches_bem.e(\'header\') },\n                react["createElement"](index_es["a" /* FormattedMessage */], { id: "search_recent_heading" }, function (value) { return react["createElement"]("div", { className: RecentSearches_bem.e(\'heading\') }, value); })),\n            react["createElement"]("div", { className: classnames_default()(RecentSearches_bem.e(\'list\')) }, searches.map(this.renderSearchItem)),\n            this.renderClearButton()));\n    };\n    RecentSearches.prototype.renderClearButton = function () {\n        var _this = this;\n        var _a = this.state, focused = _a.focused, focusState = _a.focusState;\n        return (react["createElement"](index_es["a" /* FormattedMessage */], { id: \'search_recent_clear_label_top\' }, function (value) { return (react["createElement"]("button", { type: "button", onMouseEnter: _this.mouseEnterClearBtn, onClick: _this.onClearSearches, className: classnames_default()(RecentSearches_bem.e(\'clear\'), focused && focusState === \'clearBtn\' ? focusUtil["a" /* focusedClass */] : \'\') }, value)); }));\n    };\n    RecentSearches.contextTypes = {\n        router: prop_types["object"].isRequired,\n        focusNav: prop_types["object"].isRequired\n    };\n    return RecentSearches;\n}(react["Component"]));\n/* harmony default export */ var page_search_RecentSearches = (RecentSearches_RecentSearches);\nvar RecentSearches_SearchItem = /** @class */ (function (_super) {\n    Object(tslib_es6["c" /* __extends */])(SearchItem, _super);\n    function SearchItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleMouseEnter = function () {\n            var _a = _this.props, onMouseEnter = _a.onMouseEnter, index = _a.index;\n            onMouseEnter && onMouseEnter(index);\n        };\n        _this.handleMouseClick = function () {\n            _this.props.onClick && _this.props.onClick();\n        };\n        return _this;\n    }\n    SearchItem.prototype.render = function () {\n        var _a = this.props, className = _a.className, item = _a.item, location = _a.location, isFocused = _a.isFocused, containerLabel = _a.containerLabel;\n        var _b = Object(reactIntl["k" /* getSearchItemAria */])(this.props), label = _b[0], values = _b[1];\n        return (react["createElement"]("div", { className: className, onMouseEnter: this.handleMouseEnter, onClick: this.handleMouseClick },\n            react["createElement"](IntlFormatter["a" /* default */], { tagName: lib["Link"], role: "", to: location, className: classnames_default()(RecentSearches_bem.e(\'link\'), isFocused ? focusUtil["a" /* focusedClass */] : \'\'), formattedAriaLabel: Object(reactIntl["b" /* arrayToLabel */])([containerLabel, label]), values: values }, item)));\n    };\n    return SearchItem;\n}(react["Component"]));\n\n// EXTERNAL MODULE: ./bell/tv/DirectionalNavigation.ts\nvar DirectionalNavigation = __webpack_require__(274);\n\n// EXTERNAL MODULE: ./shared/util/images.ts\nvar util_images = __webpack_require__(257);\n\n// EXTERNAL MODULE: ./bell/tv/util/itemUtils/index.ts + 1 modules\nvar itemUtils = __webpack_require__(248);\n\n// CONCATENATED MODULE: ./crave/tv/pageEntry/search/ResultsMovies.tsx\n\n\n\n\nvar ResultsMovies_ResultsMovies = /** @class */ (function (_super) {\n    Object(tslib_es6["c" /* __extends */])(ResultsMovies, _super);\n    function ResultsMovies(props) {\n        var _this = _super.call(this, props) || this;\n        var itemList = _this.props.list;\n        var imageType = itemList && itemList.items && itemList.items.length > 0 && Object(util_images["g" /* getImageTypeForItemList */])(_this.props.list);\n        if (imageType) {\n            _this.row = Object(itemUtils["k" /* getRowDefinitionByItemImageType */])(imageType);\n        }\n        return _this;\n    }\n    ResultsMovies.prototype.render = function () {\n        var Row = this.row;\n        if (Row) {\n            return react["createElement"](Row, Object(tslib_es6["a" /* __assign */])({}, this.props, { maxItems: Infinity }));\n        }\n        else {\n            return react["createElement"]("div", null);\n        }\n    };\n    return ResultsMovies;\n}(react["Component"]));\n/* harmony default export */ var search_ResultsMovies = (ResultsMovies_ResultsMovies);\n\n// CONCATENATED MODULE: ./crave/tv/pageEntry/search/ResultsTv.tsx\n\n\n\nvar ResultsTv_ResultsTv = /** @class */ (function (_super) {\n    Object(tslib_es6["c" /* __extends */])(ResultsTv, _super);\n    function ResultsTv(props) {\n        var _this = _super.call(this, props) || this;\n        _this.row = Object(itemUtils["k" /* getRowDefinitionByItemImageType */])(\'poster\');\n        return _this;\n    }\n    ResultsTv.prototype.render = function () {\n        var Row = this.row;\n        if (Row) {\n            return react["createElement"](Row, Object(tslib_es6["a" /* __assign */])({}, this.props, { maxItems: Infinity }));\n        }\n        else {\n            return react["createElement"]("div", null);\n        }\n    };\n    return ResultsTv;\n}(react["Component"]));\n/* harmony default export */ var search_ResultsTv = (ResultsTv_ResultsTv);\n\n// CONCATENATED MODULE: ./crave/tv/page/search/searchEntries.ts\n\n\n/* harmony default export */ var searchEntries = ([search_ResultsMovies, search_ResultsTv]);\n\n// EXTERNAL MODULE: ./bell/tv/component/Spinner.tsx\nvar Spinner = __webpack_require__(313);\n\n// EXTERNAL MODULE: ./shared/page/pageTemplate.ts\nvar pageTemplate = __webpack_require__(266);\n\n// EXTERNAL MODULE: ./shared/page/pageKey.ts\nvar pageKey = __webpack_require__(277);\n\n// EXTERNAL MODULE: ./shared/search/searchWorkflow.ts\nvar searchWorkflow = __webpack_require__(390);\n\n// EXTERNAL MODULE: ./shared/util/search.ts + 1 modules\nvar util_search = __webpack_require__(527);\n\n// EXTERNAL MODULE: ./shared/index.ts + 1 modules\nvar shared = __webpack_require__(289);\n\n// EXTERNAL MODULE: ./crave/tv/page/search/Search.scss\nvar search_Search = __webpack_require__(960);\n\n// CONCATENATED MODULE: ./crave/tv/page/search/Search.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Search_id = \'search\';\nvar MIN_SEARCH_CHARACTER_COUNT = 2;\nvar MAX_SEARCH_RESULT_COUNT = 30;\nvar Search_bem = new styles["a" /* Bem */](\'search-page\');\nvar Search_Search = /** @class */ (function (_super) {\n    Object(tslib_es6["c" /* __extends */])(Search, _super);\n    function Search(props) {\n        var _this = _super.call(this, props) || this;\n        _this.shouldRenderEntry = function (entry) {\n            var results = _this.state.results;\n            if (!results)\n                return false;\n            var movies = results.movies, tv = results.tv, people = results.people;\n            switch (entry.template) {\n                case \'results-movies\':\n                    return movies && movies.size > 0;\n                case \'results-tv\':\n                    return tv && tv.size > 0;\n                case \'results-people\':\n                    return people && !!people.length;\n            }\n            return false;\n        };\n        _this.onQueryChange = function (query) {\n            // Remove leading spaces and double spaces within query\n            if (query === undefined) {\n                return;\n            }\n            query = query.replace(/^\\s+/g, \'\').replace(/\\s\\s+/g, \' \');\n            if (query === _this.state.query)\n                return;\n            if (!query.length || query.length < 2)\n                _this.context.focusNav.pageResize();\n            _this.updateQuery(query);\n            // This url query update won\'t trigger a search, we just keep\n            // the query param in sync so if the user refreshes the\n            // browser or wants to share the url they can.\n            var q = query ? "?q=".concat(encodeURIComponent(query)) : \'\';\n            _this.context.router.replace("".concat(_this.props.searchPagePath).concat(q));\n        };\n        _this.onCancelSearch = function () {\n            var query = _this.state.query.trim();\n            var results = _this.props.recentResults;\n            var hasSearchResult = query && results && results.some(function (r) { return r.term === query && r.total > 0; });\n            if (hasSearchResult) {\n                _this.props.searchSave(_this.state.query);\n            }\n        };\n        _this.formatEntryTitles = function (entries) {\n            var formatMessage = _this.props.intl.formatMessage;\n            entries.forEach(function (entry) {\n                switch (entry.template) {\n                    case \'results-movies\':\n                        entry.title = formatMessage({ id: \'search-movie-row-title\' });\n                        break;\n                    case \'results-tv\':\n                        entry.title = formatMessage({ id: \'search-tv-show-row-title\' });\n                        break;\n                }\n            });\n        };\n        _this.state = {\n            query: \'\'\n        };\n        return _this;\n    }\n    Search.prototype.componentDidMount = function () {\n        var _this = this;\n        this.checkRefreshQuery(this.props);\n        this.context.focusNav.addEventHandler(DirectionalNavigation["b" /* GlobalEvent */].KEYBOARD_VISIBILITY_CHANGE, Search_id, function (e) {\n            _this.context.focusNav.disableMouseFocus = e;\n        });\n    };\n    Search.prototype.componentWillUnmount = function () {\n        this.context.focusNav.removeEventHandler(DirectionalNavigation["b" /* GlobalEvent */].KEYBOARD_VISIBILITY_CHANGE, Search_id);\n    };\n    Search.prototype.componentWillReceiveProps = function (newProps) {\n        this.checkRefreshQuery(newProps);\n    };\n    Search.prototype.checkRefreshQuery = function (props) {\n        var location = props.location, customFields = props.customFields, recentResults = props.recentResults;\n        var query = location.query.q || \'\';\n        if (query !== this.state.query || (customFields && customFields[\'refresh\'])) {\n            this.updateQuery(query);\n        }\n        else if (query) {\n            var trimmed_1 = query.trim();\n            var results = recentResults.find(function (r) { return r.term === trimmed_1; });\n            if (results)\n                this.setState({ results: results });\n        }\n        else {\n            this.setState({ results: undefined });\n        }\n    };\n    Search.prototype.updateQuery = function (query) {\n        this.setState({ query: query });\n        // Trigger search when searching for keywords with at least 2 characters or more\n        if (query.length >= MIN_SEARCH_CHARACTER_COUNT) {\n            this.props.onSearch(query, true, MAX_SEARCH_RESULT_COUNT);\n        }\n    };\n    Search.prototype.isErrored = function () {\n        var query = this.state.query.trim();\n        var results = this.state.results;\n        if (results && results.term === query)\n            return false;\n        return !!~this.props.erroredQueries.indexOf(query);\n    };\n    Search.prototype.isLoading = function () {\n        if (this.isErrored())\n            return false;\n        var query = this.state.query.trim();\n        var results = this.props.recentResults;\n        return query && query.length >= MIN_SEARCH_CHARACTER_COUNT && (!results || !results.some(function (r) { return r.term === query; }));\n    };\n    Search.prototype.render = function () {\n        var filtered = (this.props.entries || []).filter(this.shouldRenderEntry);\n        var hasResults = true;\n        if (!filtered.length) {\n            hasResults = false;\n        }\n        return (react["createElement"]("div", { className: classnames_default()(Search_bem.b()) },\n            react["createElement"](search_SearchInput, { onValueChange: this.onQueryChange, onCancelSearch: this.onCancelSearch, autoFocus: true, value: this.state.query, loading: this.isLoading(), hasResults: hasResults }),\n            react["createElement"]("div", { className: classnames_default()(Search_bem.b(\'body\'), \'content-margin\') },\n                " ",\n                this.renderSearchBody(),\n                " ")));\n    };\n    Search.prototype.renderSearchBody = function () {\n        var _a = this.props, entries = _a.entries, renderEntry = _a.renderEntry;\n        if (this.isErrored()) {\n            return this.renderMessage(\'search_error_heading\');\n        }\n        else if (this.state.query.length === 1) {\n            return this.renderMessage(\'search_header_min_character_message\');\n        }\n        else if (this.isLoading()) {\n            return react["createElement"](Spinner["a" /* default */], { className: Search_bem.e(\'spinner\') });\n        }\n        else if (!this.state.query) {\n            return this.renderRecentSearches();\n        }\n        else if (!this.state.results) {\n            return;\n        }\n        var filtered = (entries || []).filter(this.shouldRenderEntry);\n        if (!filtered.length) {\n            return this.renderMessage(\'search_header_empty_message\');\n        }\n        this.formatEntryTitles(entries);\n        return filtered.map(renderEntry);\n    };\n    Search.prototype.renderRecentSearches = function () {\n        var _a = this.props, recentSearches = _a.recentSearches, onSearchClear = _a.onSearchClear;\n        if (!recentSearches.length)\n            return;\n        return (react["createElement"](page_search_RecentSearches, { searches: recentSearches, searchPagePath: this.props.searchPagePath, onClearSearches: onSearchClear }));\n    };\n    Search.prototype.renderMessage = function (id) {\n        return (react["createElement"](index_es["a" /* FormattedMessage */], { id: id }, function (title) { return (react["createElement"]("div", { className: Search_bem.e(\'message\') },\n            react["createElement"]("div", { className: Search_bem.e(\'message-title\') }, title))); }));\n    };\n    Search.contextTypes = {\n        router: prop_types["object"].isRequired,\n        focusNav: prop_types["object"].isRequired\n    };\n    return Search;\n}(react["PureComponent"]));\nfunction mapStateToProps(_a) {\n    var search = _a.search, cache = _a.cache, app = _a.app;\n    return {\n        recentSearches: search.recentSearches,\n        recentResults: cache.search.recentResults,\n        searchPagePath: cache.search.pagePath,\n        erroredQueries: Object(util_search["a" /* getErroredQueries */])(app.erroredActions)\n    };\n}\nfunction mapDispatchToProps(dispatch) {\n    return {\n        onSearch: function (query, group, maxResults) { return dispatch(Object(searchWorkflow["d" /* search */])(query, group, maxResults)); },\n        onSearchClear: function () { return dispatch(Object(searchWorkflow["e" /* searchClear */])()); },\n        searchSave: function (query) { return dispatch(Object(searchWorkflow["f" /* searchSave */])(query)); }\n    };\n}\n/* harmony default export */ var page_search_Search = __webpack_exports__["default"] = (Object(shared["b" /* configPage */])(Object(index_es["d" /* injectIntl */])(Search_Search), {\n    key: pageKey["Search"],\n    template: pageTemplate["STATIC"],\n    mapStateToProps: mapStateToProps,\n    mapDispatchToProps: mapDispatchToProps,\n    entryRenderers: searchEntries\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jcmF2ZS90di9wYWdlL3NlYXJjaC9JbnB1dFdpdGhWSy50c3g/NDQzNiIsIndlYnBhY2s6Ly8vLi9jcmF2ZS90di9wYWdlL3NlYXJjaC9TZWFyY2hJbnB1dC50c3g/M2ExNSIsIndlYnBhY2s6Ly8vLi9jcmF2ZS90di9wYWdlL3NlYXJjaC9SZWNlbnRTZWFyY2hlcy50c3g/ZjAyYSIsIndlYnBhY2s6Ly8vLi9jcmF2ZS90di9wYWdlRW50cnkvc2VhcmNoL1Jlc3VsdHNNb3ZpZXMudHN4PzVlYWMiLCJ3ZWJwYWNrOi8vLy4vY3JhdmUvdHYvcGFnZUVudHJ5L3NlYXJjaC9SZXN1bHRzVHYudHN4P2JhYzkiLCJ3ZWJwYWNrOi8vLy4vY3JhdmUvdHYvcGFnZS9zZWFyY2gvc2VhcmNoRW50cmllcy50cz9iODk4Iiwid2VicGFjazovLy8uL2NyYXZlL3R2L3BhZ2Uvc2VhcmNoL1NlYXJjaC50c3g/MDIwYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDUztBQUNaO0FBQ2E7QUFDWTtBQUMwQjtBQUkzQztBQUNSO0FBTzVCLElBQU0sR0FBRyxHQUFHLElBQUkscUJBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUVyQzs7R0FFRztBQUNIO0lBQXlDLDREQUF1RDtJQWEvRixxQkFBWSxLQUFLO1FBQWpCLFlBQ0Msa0JBQU0sS0FBSyxDQUFDLFNBbUJaO1FBZU8sY0FBUSxHQUFHLFVBQUMsT0FBaUI7WUFDcEMsS0FBSSxDQUFDLFFBQVEsQ0FBQztnQkFDYixPQUFPLEVBQUUsT0FBTzthQUNoQixDQUFDLENBQUM7WUFFSCxJQUFJLE9BQU8sRUFBRTtnQkFDWixLQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEVBQUUsQ0FBQzthQUN0RDtZQUVELElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ2IsSUFBSSxLQUFJLENBQUMsS0FB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QUU7SUFDN0MsR0FBRztJQUNILFFBQVE7SUFDUixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGNBQWM7Q0FDUCxDQUFDLEVBQUMiLCJmaWxlIjoiMTA2OS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IEJlbSB9IGZyb20gJ3NoYXJlZC91dGlsL3N0eWxlcyc7XG5pbXBvcnQgU2VhcmNoSWNvbiBmcm9tICdyZWYvdHYvY29tcG9uZW50L1NlYXJjaEljb24nO1xuaW1wb3J0IFZpcnR1YWxLZXlib2FyZCBmcm9tICdyZWYvdHYvY29tcG9uZW50L1ZpcnR1YWxLZXlib2FyZC9WaXJ0dWFsS2V5Ym9hcmQnO1xuaW1wb3J0IHsgQWN0aW9uRW51bSwgRm9jdXNhYmxlIH0gZnJvbSAncmVmL3R2L2ZvY3VzYWJsZUludGVyZmFjZSc7XG5pbXBvcnQgeyBEaXJlY3Rpb25hbE5hdmlnYXRpb24gfSBmcm9tICdyZWYvdHYvRGlyZWN0aW9uYWxOYXZpZ2F0aW9uJztcbmltcG9ydCB7IFNlYXJjaElucHV0UHJvcHMgfSBmcm9tICcuL1NlYXJjaElucHV0JztcbmltcG9ydCBzYXNzIGZyb20gJ3JlZi90di91dGlsL3Nhc3MnO1xuaW1wb3J0ICcuL0lucHV0V2l0aFZLLnNjc3MnO1xuXG5pbnRlcmZhY2UgU2VhcmNoSW5wdXRTdGF0ZSB7XG5cdGZvY3VzZWQ/OiBib29sZWFuO1xuXHRjdXJWYWx1ZT86IHN0cmluZztcbn1cblxuY29uc3QgYmVtID0gbmV3IEJlbSgnaW5wdXQtd2l0aC12aycpO1xuXG4vKipcbiAqIFNlYXJjaCBpbnB1dCBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0V2l0aFZLIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxTZWFyY2hJbnB1dFByb3BzLCBTZWFyY2hJbnB1dFN0YXRlPiB7XG5cdGNvbnRleHQ6IHtcblx0XHRmb2N1c05hdjogRGlyZWN0aW9uYWxOYXZpZ2F0aW9uO1xuXHR9O1xuXG5cdHN0YXRpYyBjb250ZXh0VHlwZXM6IGFueSA9IHtcblx0XHRmb2N1c05hdjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG5cdH07XG5cblx0cHJpdmF0ZSBmb2N1c2FibGVSb3c6IEZvY3VzYWJsZTtcblx0cHJpdmF0ZSBpbnB1dFJlZjogRm9jdXNhYmxlO1xuXHRwcml2YXRlIHJlZjtcblxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHRmb2N1c2VkOiBmYWxzZSxcblx0XHRcdGN1clZhbHVlOiAnJ1xuXHRcdH07XG5cblx0XHR0aGlzLmZvY3VzYWJsZVJvdyA9IHtcblx0XHRcdGZvY3VzYWJsZTogdHJ1ZSxcblx0XHRcdGluZGV4OiAxLFxuXHRcdFx0aGVpZ2h0OiBzYXNzLnNlYXJjaElucHV0SGVpZ2h0LFxuXHRcdFx0cmVzdG9yZVNhdmVkU3RhdGU6ICgpID0+IHt9LFxuXHRcdFx0c2V0Rm9jdXM6IHRoaXMuc2V0Rm9jdXMsXG5cdFx0XHRtb3ZlTGVmdDogdGhpcy5tb3ZlTGVmdCxcblx0XHRcdG1vdmVSaWdodDogdGhpcy5tb3ZlUmlnaHQsXG5cdFx0XHRtb3ZlVXA6IHRoaXMubW92ZVVwLFxuXHRcdFx0bW92ZURvd246IHRoaXMubW92ZURvd24sXG5cdFx0XHRleGVjOiB0aGlzLmV4ZWNcblx0XHR9O1xuXHR9XG5cblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0dGhpcy5mb2N1c2FibGVSb3cucmVmID0gdGhpcy5yZWY7XG5cdFx0dGhpcy5jb250ZXh0LmZvY3VzTmF2LnJlZ2lzdGVyUm93KHRoaXMuZm9jdXNhYmxlUm93KTtcblx0fVxuXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHRcdHRoaXMuY29udGV4dC5mb2N1c05hdi51bnJlZ2lzdGVyUm93KHRoaXMuZm9jdXNhYmxlUm93KTtcblx0fVxuXG5cdGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcblx0XHR0aGlzLmZvY3VzYWJsZVJvdy5zYXZlZFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSk7XG5cdH1cblxuXHRwcml2YXRlIHNldEZvY3VzID0gKGlzRm9jdXM/OiBib29sZWFuKTogYm9vbGVhbiA9PiB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRmb2N1c2VkOiBpc0ZvY3VzXG5cdFx0fSk7XG5cblx0XHRpZiAoaXNGb2N1cykge1xuXHRcdFx0dGhpcy5jb250ZXh0LmZvY3VzTmF2LmFuYWx5dGljcy50cmlnZ2VyRm9jdXNlZEV2ZW50KCk7XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0ZvY3VzKSB7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5vbkNhbmNlbFNlYXJjaCkge1xuXHRcdFx0XHR0aGlzLnByb3BzLm9uQ2FuY2VsU2VhcmNoKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdHByaXZhdGUgbW92ZUxlZnQgPSAoKTogYm9vbGVhbiA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRSZWYgJiYgdGhpcy5pbnB1dFJlZi5tb3ZlTGVmdCgpO1xuXHR9O1xuXG5cdHByaXZhdGUgbW92ZVJpZ2h0ID0gKCk6IGJvb2xlYW4gPT4ge1xuXHRcdHJldHVybiB0aGlzLmlucHV0UmVmICYmIHRoaXMuaW5wdXRSZWYubW92ZVJpZ2h0KCk7XG5cdH07XG5cblx0cHJpdmF0ZSBtb3ZlVXAgPSAoKTogYm9vbGVhbiA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRSZWYgJiYgdGhpcy5pbnB1dFJlZi5tb3ZlVXAoKTtcblx0fTtcblxuXHRwcml2YXRlIG1vdmVEb3duID0gKCk6IGJvb2xlYW4gPT4ge1xuXHRcdHJldHVybiB0aGlzLmlucHV0UmVmICYmIHRoaXMuaW5wdXRSZWYubW92ZURvd24oKTtcblx0fTtcblxuXHRwcml2YXRlIGV4ZWMgPSAoYWN0OiBBY3Rpb25FbnVtKSA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuaW5wdXRSZWYgJiYgdGhpcy5pbnB1dFJlZi5leGVjKGFjdCk7XG5cdH07XG5cblx0cHJpdmF0ZSBvblJlZiA9IHJlZiA9PiB7XG5cdFx0dGhpcy5yZWYgPSByZWY7XG5cdH07XG5cblx0cHJpdmF0ZSBvbklucHV0UmVmID0gcmVmID0+IHtcblx0XHRpZiAocmVmICYmIHJlZi5mb2N1c2FibGVSb3cpIHRoaXMuaW5wdXRSZWYgPSByZWYuZm9jdXNhYmxlUm93O1xuXHR9O1xuXG5cdHByaXZhdGUgb25JbnB1dCA9IHZhbCA9PiB7XG5cdFx0Y29uc3QgeyBvblZhbHVlQ2hhbmdlLCB2YWx1ZSB9ID0gdGhpcy5wcm9wcztcblx0XHRsZXQgbmV3VmFsdWU7XG5cdFx0aWYgKHZhbCA9PT0gJ0RFTCcpIHtcblx0XHRcdGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdG5ld1ZhbHVlID0gdmFsdWUuc3Vic3RyKDAsIHZhbHVlLmxlbmd0aCAtIDEpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXdWYWx1ZSA9IHZhbHVlICsgdmFsO1xuXHRcdH1cblxuXHRcdGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUgJiYgb25WYWx1ZUNoYW5nZSkge1xuXHRcdFx0b25WYWx1ZUNoYW5nZShuZXdWYWx1ZSk7XG5cdFx0fVxuXHR9O1xuXG5cdHByaXZhdGUgb25DbGljayA9ICgpID0+IHRoaXMuY29udGV4dC5mb2N1c05hdi5tb3ZlVG9Sb3coMSk7XG5cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IHsgY2xhc3NOYW1lLCB2YWx1ZSwgcGxhY2Vob2xkZXIgfSA9IHRoaXMucHJvcHM7XG5cdFx0Y29uc3QgeyBmb2N1c2VkIH0gPSB0aGlzLnN0YXRlO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXZcblx0XHRcdFx0Y2xhc3NOYW1lPXtiZW0uYignJywgeyBmb2N1c2VkIH0pfVxuXHRcdFx0XHRyZWY9e3RoaXMub25SZWZ9XG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMub25DbGlja31cblx0XHRcdFx0YXJpYS1sYWJlbD17cGxhY2Vob2xkZXJ9XG5cdFx0XHRcdHJvbGU9XCJwcmVzZW50YXRpb25cIlxuXHRcdFx0PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT17Y3goYmVtLmIoeyAnaGFzLXZhbHVlJzogISF2YWx1ZSB9KSwgY2xhc3NOYW1lLCAnY29udGVudC1tYXJnaW4nKX0+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9e2N4KGJlbS5lKCdiYWNrZ3JvdW5kJyksICdmdWxsLWJsZWVkJyl9IC8+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9e2JlbS5lKCdmb3JtJyl9IHJvbGU9XCJzZWFyY2hcIj5cblx0XHRcdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRcdFx0YXJpYS1sYWJlbD1cIlNlYXJjaFwiXG5cdFx0XHRcdFx0XHRcdHJvbGU9XCJ0ZXh0Ym94XCJcblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtjeChiZW0uZSgnaW5wdXQnLCB2YWx1ZSA/ICdoYXNUZXh0JyA6ICcnKSwgJ2Z1bGwtYmxlZWQnKX1cblx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9e2JlbS5lKCdwbGFjZWhvbGRlcicpfT57cGxhY2Vob2xkZXJ9PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPXtiZW0uZSgnY3VyVmFsdWUnKX0+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPXtiZW0uZSgndGV4dCcpfT57dmFsdWV9PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPXtiZW0uZSgnY3Vyc29yJywgZm9jdXNlZCA/ICdmb2N1c2VkJyA6ICcnKX0gLz5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9e2JlbS5lKCdpY29ucycpfT5cblx0XHRcdFx0XHRcdFx0PFNlYXJjaEljb24gY2xhc3NOYW1lPXtiZW0uZSgnaWNvbicsICdzZWFyY2gnKX0gLz5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0e2ZvY3VzZWQgPyAoXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9e2JlbS5lKCdrZXlib2FyZCcpfT5cblx0XHRcdFx0XHRcdDxWaXJ0dWFsS2V5Ym9hcmQgcmVmPXt0aGlzLm9uSW5wdXRSZWZ9IGhhbmRsZUtleWJvYXJkSW5wdXQ9e3RoaXMub25JbnB1dH0gLz5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHQnJ1xuXHRcdFx0XHQpfVxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaW5qZWN0SW50bCwgSW5qZWN0ZWRJbnRsUHJvcHMgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCBEZXZpY2VNb2RlbCBmcm9tICdzaGFyZWQvdXRpbC9wbGF0Zm9ybXMvZGV2aWNlTW9kZWwnO1xuaW1wb3J0IElucHV0V2l0aE9TSyBmcm9tICcuL0lucHV0V2l0aE9TSyc7XG5pbXBvcnQgSW5wdXRXaXRoVksgZnJvbSAnLi9JbnB1dFdpdGhWSyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoSW5wdXRQcm9wcyBleHRlbmRzIFJlYWN0LlByb3BzPGFueT4ge1xuXHRvblZhbHVlQ2hhbmdlPzogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG5cdG9uQ2FuY2VsU2VhcmNoPzogKCkgPT4gdm9pZDtcblx0Y2xhc3NOYW1lPzogc3RyaW5nO1xuXHRhdXRvRm9jdXM/OiBib29sZWFuO1xuXHR2YWx1ZTogc3RyaW5nO1xuXHRsb2FkaW5nPzogYm9vbGVhbjtcblx0aGFzUmVzdWx0cz86IGJvb2xlYW47XG5cdHBsYWNlaG9sZGVyPzogc3RyaW5nO1xufVxuXG5jb25zdCB1c2VPU0sgPSBEZXZpY2VNb2RlbC5oYXNPU0soKTtcblxuLyoqXG4gKiBTZWFyY2ggaW5wdXQgY29tcG9uZW50LlxuICovXG5jbGFzcyBTZWFyY2hJbnB1dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2VhcmNoSW5wdXRQcm9wcyAmIEluamVjdGVkSW50bFByb3BzLCBhbnk+IHtcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgeyBpbnRsIH0gPSB0aGlzLnByb3BzO1xuXHRcdGNvbnN0IHBsYWNlaG9sZGVySWQgPSAnc2VhcmNoX2lucHV0X3BsYWNlaG9sZGVyJztcblx0XHRjb25zdCBwbGFjZWhvbGRlciA9IGludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2VhcmNoX2lucHV0X3BsYWNlaG9sZGVyJyB9KTtcblxuXHRcdGlmICh1c2VPU0spIHtcblx0XHRcdHJldHVybiA8SW5wdXRXaXRoT1NLIHsuLi50aGlzLnByb3BzfSBwbGFjZWhvbGRlcj17YCR7cGxhY2Vob2xkZXJJZH1gfSAvPjtcblx0XHR9XG5cblx0XHRyZXR1cm4gPElucHV0V2l0aFZLIHsuLi50aGlzLnByb3BzfSBwbGFjZWhvbGRlcj17aW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6IHBsYWNlaG9sZGVyIH0pfSAvPjtcblx0fVxufVxuZXhwb3J0IGRlZmF1bHQgaW5qZWN0SW50bChTZWFyY2hJbnB1dCk7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IEJlbSB9IGZyb20gJ3NoYXJlZC91dGlsL3N0eWxlcyc7XG5pbXBvcnQgeyBhcnJheVRvTGFiZWwsIGdldFNlYXJjaEl0ZW1BcmlhIH0gZnJvbSAnc2hhcmVkL3V0aWwvcmVhY3RJbnRsJztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCB7IERpcmVjdGlvbmFsTmF2aWdhdGlvbiB9IGZyb20gJ3JlZi90di9EaXJlY3Rpb25hbE5hdmlnYXRpb24nO1xuaW1wb3J0IHsgQWN0aW9uRW51bSwgRm9jdXNhYmxlIH0gZnJvbSAncmVmL3R2L2ZvY3VzYWJsZUludGVyZmFjZSc7XG5pbXBvcnQgeyBmb2N1c2VkQ2xhc3MgfSBmcm9tICdyZWYvdHYvdXRpbC9mb2N1c1V0aWwnO1xuaW1wb3J0IHsgS0VZX0NPREUgfSBmcm9tICdyZWYvdHYvdXRpbC9rZXljb2Rlcyc7XG5pbXBvcnQgSW50bEZvcm1hdHRlciBmcm9tICdyZWYvdHYvY29tcG9uZW50L0ludGxGb3JtYXR0ZXInO1xuXG5pbXBvcnQgJy4vUmVjZW50U2VhcmNoZXMuc2Nzcyc7XG5cbmNvbnN0IHJvd0luZGV4ID0gMztcbmludGVyZmFjZSBSZWNlbnRTZWFyY2hlc1Byb3BzIGV4dGVuZHMgUmVhY3QuUHJvcHM8YW55PiB7XG5cdG9uQ2xlYXJTZWFyY2hlczogKCkgPT4gdm9pZDtcblx0c2VhcmNoZXM6IHN0cmluZ1tdO1xuXHRzZWFyY2hQYWdlUGF0aDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVGl0bGVkTGlzdE1vZGFsU3RhdGUge1xuXHRmb2N1c2VkPzogYm9vbGVhbjtcblx0Zm9jdXNTdGF0ZT86ICdsaXN0JyB8ICdjbGVhckJ0bic7XG5cdGN1ckluZGV4PzogbnVtYmVyO1xuXHRhbm5vdW5jZUxpc3ROYW1lOiBib29sZWFuO1xufVxuXG5jb25zdCBiZW0gPSBuZXcgQmVtKCdyZWNlbnQtc2VhcmNoZXMnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjZW50U2VhcmNoZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UmVjZW50U2VhcmNoZXNQcm9wcywgVGl0bGVkTGlzdE1vZGFsU3RhdGU+IHtcblx0Y29udGV4dDoge1xuXHRcdHJvdXRlcjogUmVhY3RSb3V0ZXIuSW5qZWN0ZWRSb3V0ZXI7XG5cdFx0Zm9jdXNOYXY6IERpcmVjdGlvbmFsTmF2aWdhdGlvbjtcblx0fTtcblxuXHRzdGF0aWMgY29udGV4dFR5cGVzOiBhbnkgPSB7XG5cdFx0cm91dGVyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdFx0Zm9jdXNOYXY6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuXHR9O1xuXG5cdHByaXZhdGUgZm9jdXNhYmxlUm93OiBGb2N1c2FibGU7XG5cdHByaXZhdGUgcmVmO1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdGZvY3VzZWQ6IGZhbHNlLFxuXHRcdFx0Zm9jdXNTdGF0ZTogJ2xpc3QnLFxuXHRcdFx0YW5ub3VuY2VMaXN0TmFtZTogdHJ1ZSxcblx0XHRcdGN1ckluZGV4OiAwXG5cdFx0fTtcblxuXHRcdHRoaXMuZm9jdXNhYmxlUm93ID0ge1xuXHRcdFx0Zm9jdXNhYmxlOiB0cnVlLFxuXHRcdFx0aW5kZXg6IDMsXG5cdFx0XHRoZWlnaHQ6IDEsXG5cdFx0XHRyZXN0b3JlU2F2ZWRTdGF0ZTogKCkgPT4ge30sXG5cdFx0XHRzZXRGb2N1czogdGhpcy5zZXRGb2N1cyxcblx0XHRcdG1vdmVMZWZ0OiB0aGlzLm1vdmVMZWZ0LFxuXHRcdFx0bW92ZVJpZ2h0OiB0aGlzLm1vdmVSaWdodCxcblx0XHRcdG1vdmVVcDogdGhpcy5tb3ZlVXAsXG5cdFx0XHRtb3ZlRG93bjogdGhpcy5tb3ZlRG93bixcblx0XHRcdGV4ZWM6IHRoaXMuZXhlY1xuXHRcdH07XG5cdH1cblxuXHRjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHR0aGlzLmZvY3VzYWJsZVJvdy5yZWYgPSB0aGlzLnJlZjtcblx0XHR0aGlzLmNvbnRleHQuZm9jdXNOYXYucmVnaXN0ZXJSb3codGhpcy5mb2N1c2FibGVSb3cpO1xuXHR9XG5cblx0Y29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdFx0dGhpcy5jb250ZXh0LmZvY3VzTmF2LnVucmVnaXN0ZXJSb3codGhpcy5mb2N1c2FibGVSb3cpO1xuXHR9XG5cblx0Y29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHRcdHRoaXMuZm9jdXNhYmxlUm93LnNhdmVkU3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlKTtcblxuXHRcdHRoaXMuZm9jdXNhYmxlUm93LmhlaWdodCA9IHRoaXMucmVmICYmIHRoaXMucmVmLmNsaWVudEhlaWdodDtcblx0fVxuXG5cdHByaXZhdGUgc2V0Rm9jdXMgPSAoaXNGb2N1cz86IGJvb2xlYW4pOiBib29sZWFuID0+IHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGZvY3VzZWQ6IGlzRm9jdXNcblx0XHR9KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHRwcml2YXRlIG1vdmVMZWZ0ID0gKCk6IGJvb2xlYW4gPT4ge1xuXHRcdGNvbnN0IHsgZm9jdXNTdGF0ZSB9ID0gdGhpcy5zdGF0ZTtcblxuXHRcdGlmIChmb2N1c1N0YXRlID09PSAnY2xlYXJCdG4nKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0Zm9jdXNTdGF0ZTogJ2xpc3QnLFxuXHRcdFx0XHRhbm5vdW5jZUxpc3ROYW1lOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHRwcml2YXRlIG1vdmVSaWdodCA9ICgpOiBib29sZWFuID0+IHtcblx0XHRjb25zdCB7IGZvY3VzU3RhdGUgfSA9IHRoaXMuc3RhdGU7XG5cblx0XHRpZiAoZm9jdXNTdGF0ZSA9PT0gJ2xpc3QnKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0Zm9jdXNTdGF0ZTogJ2NsZWFyQnRuJ1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0cHJpdmF0ZSBtb3ZlVXAgPSAoKTogYm9vbGVhbiA9PiB7XG5cdFx0Y29uc3QgeyBmb2N1c1N0YXRlLCBjdXJJbmRleCB9ID0gdGhpcy5zdGF0ZTtcblxuXHRcdGlmIChmb2N1c1N0YXRlID09PSAnbGlzdCcgJiYgY3VySW5kZXggPiAwKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0Y3VySW5kZXg6IGN1ckluZGV4IC0gMSxcblx0XHRcdFx0YW5ub3VuY2VMaXN0TmFtZTogZmFsc2Vcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblx0cHJpdmF0ZSBtb3ZlRG93biA9ICgpOiBib29sZWFuID0+IHtcblx0XHRjb25zdCB7IGZvY3VzU3RhdGUsIGN1ckluZGV4IH0gPSB0aGlzLnN0YXRlO1xuXHRcdGNvbnN0IHsgc2VhcmNoZXMgfSA9IHRoaXMucHJvcHM7XG5cblx0XHRpZiAoZm9jdXNTdGF0ZSA9PT0gJ2xpc3QnICYmIGN1ckluZGV4IDwgc2VhcmNoZXMubGVuZ3RoIC0gMSkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGN1ckluZGV4OiBjdXJJbmRleCArIDEsXG5cdFx0XHRcdGFubm91bmNlTGlzdE5hbWU6IGZhbHNlXG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKGZvY3VzU3RhdGUgPT09ICdjbGVhckJ0bicpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRmb2N1c1N0YXRlOiAnbGlzdCdcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblx0cHJpdmF0ZSBleGVjID0gKGFjdDogQWN0aW9uRW51bSk6IGJvb2xlYW4gPT4ge1xuXHRcdHN3aXRjaCAoYWN0KSB7XG5cdFx0XHRjYXNlIEFjdGlvbkVudW0uQ0xJQ0s6XG5cdFx0XHRcdGNvbnN0IHsgZm9jdXNTdGF0ZSwgY3VySW5kZXggfSA9IHRoaXMuc3RhdGU7XG5cblx0XHRcdFx0aWYgKGZvY3VzU3RhdGUgPT09ICdjbGVhckJ0bicpIHtcblx0XHRcdFx0XHR0aGlzLm9uQ2xlYXJTZWFyY2hlcygpO1xuXHRcdFx0XHRcdHRoaXMuY29udGV4dC5mb2N1c05hdi5tb3ZlKEtFWV9DT0RFLlVQLCB0cnVlKTtcblx0XHRcdFx0fSBlbHNlIGlmIChmb2N1c1N0YXRlID09PSAnbGlzdCcpIHtcblx0XHRcdFx0XHRjb25zdCBpdGVtID0gdGhpcy5wcm9wcy5zZWFyY2hlc1tjdXJJbmRleF07XG5cdFx0XHRcdFx0Y29uc3QgbG9jYXRpb24gPSBgJHt0aGlzLnByb3BzLnNlYXJjaFBhZ2VQYXRofT9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW0pfWA7XG5cblx0XHRcdFx0XHR0aGlzLmNvbnRleHQucm91dGVyLnJlcGxhY2UobG9jYXRpb24pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRjYXNlIEFjdGlvbkVudW0uRVNDOlxuXHRcdFx0XHR0aGlzLmNvbnRleHQuZm9jdXNOYXYubW92ZShLRVlfQ09ERS5VUCwgdHJ1ZSk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblx0cHJpdmF0ZSBvbkNsZWFyU2VhcmNoZXMgPSAoKSA9PiB7XG5cdFx0dGhpcy5wcm9wcy5vbkNsZWFyU2VhcmNoZXMoKTtcblx0fTtcblxuXHRwcml2YXRlIG9uUmVmID0gcmVmID0+IHtcblx0XHR0aGlzLnJlZiA9IHJlZjtcblx0fTtcblxuXHRwcml2YXRlIGhhbmRsZU1vdXNlRW50ZXIgPSAoKSA9PiB7XG5cdFx0IXRoaXMuY29udGV4dC5mb2N1c05hdi5kaXNhYmxlTW91c2VGb2N1cyAmJiB0aGlzLmNvbnRleHQuZm9jdXNOYXYubW92ZVRvUm93KHJvd0luZGV4KTtcblx0fTtcblxuXHRwcml2YXRlIG1vdXNlRW50ZXJTZWFyY2hJdGVtID0gaW5kZXggPT4ge1xuXHRcdHRoaXMuc2V0U3RhdGUoeyBmb2N1c1N0YXRlOiAnbGlzdCcsIGN1ckluZGV4OiBpbmRleCB9KTtcblx0fTtcblxuXHRwcml2YXRlIGNsaWNrU2VhcmNoSXRlbSA9ICgpID0+IHtcblx0XHR0aGlzLmV4ZWMoQWN0aW9uRW51bS5DTElDSyk7XG5cdH07XG5cblx0cHJpdmF0ZSBtb3VzZUVudGVyQ2xlYXJCdG4gPSAoKSA9PiB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7IGZvY3VzU3RhdGU6ICdjbGVhckJ0bicgfSk7XG5cdH07XG5cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IHsgc2VhcmNoZXMgfSA9IHRoaXMucHJvcHM7XG5cdFx0Y29uc3QgeyBmb2N1c2VkIH0gPSB0aGlzLnN0YXRlO1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT17YmVtLmIoeyBmb2N1c2VkIH0pfSByZWY9e3RoaXMub25SZWZ9IG9uTW91c2VFbnRlcj17dGhpcy5oYW5kbGVNb3VzZUVudGVyfT5cblx0XHRcdFx0PGhlYWRlciBjbGFzc05hbWU9e2JlbS5lKCdoZWFkZXInKX0+XG5cdFx0XHRcdFx0PEZvcm1hdHRlZE1lc3NhZ2UgaWQ9XCJzZWFyY2hfcmVjZW50X2hlYWRpbmdcIj5cblx0XHRcdFx0XHRcdHt2YWx1ZSA9PiA8ZGl2IGNsYXNzTmFtZT17YmVtLmUoJ2hlYWRpbmcnKX0+e3ZhbHVlfTwvZGl2Pn1cblx0XHRcdFx0XHQ8L0Zvcm1hdHRlZE1lc3NhZ2U+XG5cdFx0XHRcdDwvaGVhZGVyPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT17Y3goYmVtLmUoJ2xpc3QnKSl9PntzZWFyY2hlcy5tYXAodGhpcy5yZW5kZXJTZWFyY2hJdGVtKX08L2Rpdj5cblx0XHRcdFx0e3RoaXMucmVuZGVyQ2xlYXJCdXR0b24oKX1cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIHJlbmRlclNlYXJjaEl0ZW0gPSAoaXRlbTogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBhcnJheTogc3RyaW5nW10pID0+IHtcblx0XHRjb25zdCB7IGZvY3VzZWQsIGZvY3VzU3RhdGUsIGN1ckluZGV4LCBhbm5vdW5jZUxpc3ROYW1lIH0gPSB0aGlzLnN0YXRlO1xuXHRcdGNvbnN0IGxvY2F0aW9uID0gYCR7dGhpcy5wcm9wcy5zZWFyY2hQYWdlUGF0aH0/cT0ke2VuY29kZVVSSUNvbXBvbmVudChpdGVtKX1gO1xuXHRcdGNvbnN0IGlzRm9jdXNlZCA9IGZvY3VzZWQgJiYgZm9jdXNTdGF0ZSA9PT0gJ2xpc3QnICYmIGN1ckluZGV4ID09PSBpbmRleDtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PFNlYXJjaEl0ZW1cblx0XHRcdFx0a2V5PXtpbmRleH1cblx0XHRcdFx0aW5kZXg9e2luZGV4fVxuXHRcdFx0XHR0b3RhbEl0ZW1zPXthcnJheS5sZW5ndGh9XG5cdFx0XHRcdGl0ZW09e2l0ZW19XG5cdFx0XHRcdGNsYXNzTmFtZT17Y3goYmVtLmUoJ2l0ZW0nKSwgaXNGb2N1c2VkID8gZm9jdXNlZENsYXNzIDogJycpfVxuXHRcdFx0XHRpc0ZvY3VzZWQ9e2lzRm9jdXNlZH1cblx0XHRcdFx0bG9jYXRpb249e2xvY2F0aW9ufVxuXHRcdFx0XHRjb250YWluZXJMYWJlbD17YW5ub3VuY2VMaXN0TmFtZSAmJiBpc0ZvY3VzZWQgPyAnQHtzZWFyY2hfcmVjZW50X2hlYWRpbmd9JyA6IHVuZGVmaW5lZH1cblx0XHRcdFx0b25Nb3VzZUVudGVyPXt0aGlzLm1vdXNlRW50ZXJTZWFyY2hJdGVtfVxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLmNsaWNrU2VhcmNoSXRlbX1cblx0XHRcdC8+XG5cdFx0KTtcblx0fTtcblxuXHRwcml2YXRlIHJlbmRlckNsZWFyQnV0dG9uKCkge1xuXHRcdGNvbnN0IHsgZm9jdXNlZCwgZm9jdXNTdGF0ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PEZvcm1hdHRlZE1lc3NhZ2UgaWQ9eydzZWFyY2hfcmVjZW50X2NsZWFyX2xhYmVsX3RvcCd9PlxuXHRcdFx0XHR7dmFsdWUgPT4gKFxuXHRcdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRcdHR5cGU9XCJidXR0b25cIlxuXHRcdFx0XHRcdFx0b25Nb3VzZUVudGVyPXt0aGlzLm1vdXNlRW50ZXJDbGVhckJ0bn1cblx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMub25DbGVhclNlYXJjaGVzfVxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtjeChiZW0uZSgnY2xlYXInKSwgZm9jdXNlZCAmJiBmb2N1c1N0YXRlID09PSAnY2xlYXJCdG4nID8gZm9jdXNlZENsYXNzIDogJycpfVxuXHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdHt2YWx1ZX1cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0KX1cblx0XHRcdDwvRm9ybWF0dGVkTWVzc2FnZT5cblx0XHQpO1xuXHR9XG59XG5cbmludGVyZmFjZSBTZWFyY2hJdGVtUHJvcHMgZXh0ZW5kcyBSZWFjdC5IVE1MUHJvcHM8YW55PiB7XG5cdGluZGV4OiBudW1iZXI7XG5cdHRvdGFsSXRlbXM6IG51bWJlcjtcblx0aXRlbTogc3RyaW5nO1xuXHRjbGFzc05hbWU6IHN0cmluZztcblx0bG9jYXRpb246IHN0cmluZztcblx0aXNGb2N1c2VkOiBib29sZWFuO1xuXHRjb250YWluZXJMYWJlbD86IHN0cmluZztcblx0b25Nb3VzZUVudGVyPzogKGluZGV4KSA9PiB2b2lkO1xuXHRvbkNsaWNrPzogKCkgPT4gdm9pZDtcbn1cblxuY2xhc3MgU2VhcmNoSXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxTZWFyY2hJdGVtUHJvcHMsIGFueT4ge1xuXHRwcml2YXRlIGhhbmRsZU1vdXNlRW50ZXIgPSAoKSA9PiB7XG5cdFx0Y29uc3QgeyBvbk1vdXNlRW50ZXIsIGluZGV4IH0gPSB0aGlzLnByb3BzO1xuXHRcdG9uTW91c2VFbnRlciAmJiBvbk1vdXNlRW50ZXIoaW5kZXgpO1xuXHR9O1xuXG5cdHByaXZhdGUgaGFuZGxlTW91c2VDbGljayA9ICgpID0+IHtcblx0XHR0aGlzLnByb3BzLm9uQ2xpY2sgJiYgdGhpcy5wcm9wcy5vbkNsaWNrKCk7XG5cdH07XG5cblx0cmVuZGVyKCk6IGFueSB7XG5cdFx0Y29uc3QgeyBjbGFzc05hbWUsIGl0ZW0sIGxvY2F0aW9uLCBpc0ZvY3VzZWQsIGNvbnRhaW5lckxhYmVsIH0gPSB0aGlzLnByb3BzO1xuXHRcdGNvbnN0IFtsYWJlbCwgdmFsdWVzXSA9IGdldFNlYXJjaEl0ZW1BcmlhKHRoaXMucHJvcHMpO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9IG9uTW91c2VFbnRlcj17dGhpcy5oYW5kbGVNb3VzZUVudGVyfSBvbkNsaWNrPXt0aGlzLmhhbmRsZU1vdXNlQ2xpY2t9PlxuXHRcdFx0XHQ8SW50bEZvcm1hdHRlclxuXHRcdFx0XHRcdHRhZ05hbWU9e0xpbmt9XG5cdFx0XHRcdFx0cm9sZT1cIlwiXG5cdFx0XHRcdFx0dG89e2xvY2F0aW9ufVxuXHRcdFx0XHRcdGNsYXNzTmFtZT17Y3goYmVtLmUoJ2xpbmsnKSwgaXNGb2N1c2VkID8gZm9jdXNlZENsYXNzIDogJycpfVxuXHRcdFx0XHRcdGZvcm1hdHRlZEFyaWFMYWJlbD17YXJyYXlUb0xhYmVsKFtjb250YWluZXJMYWJlbCwgbGFiZWxdKX1cblx0XHRcdFx0XHR2YWx1ZXM9e3ZhbHVlc31cblx0XHRcdFx0PlxuXHRcdFx0XHRcdHtpdGVtfVxuXHRcdFx0XHQ8L0ludGxGb3JtYXR0ZXI+XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRJbWFnZVR5cGVGb3JJdGVtTGlzdCB9IGZyb20gJ3NoYXJlZC91dGlsL2ltYWdlcyc7XG5pbXBvcnQgeyBnZXRSb3dEZWZpbml0aW9uQnlJdGVtSW1hZ2VUeXBlIH0gZnJvbSAncmVmL3R2L3V0aWwvaXRlbVV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzdWx0c01vdmllcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQYWdlRW50cnlMaXN0UHJvcHMsIGFueT4ge1xuXHRwcml2YXRlIHJvdztcblxuXHRjb25zdHJ1Y3Rvcihwcm9wczogUGFnZUVudHJ5TGlzdFByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMgYXMgYW55KTtcblxuXHRcdGNvbnN0IGl0ZW1MaXN0ID0gdGhpcy5wcm9wcy5saXN0O1xuXHRcdGNvbnN0IGltYWdlVHlwZSA9XG5cdFx0XHRpdGVtTGlzdCAmJiBpdGVtTGlzdC5pdGVtcyAmJiBpdGVtTGlzdC5pdGVtcy5sZW5ndGggPiAwICYmIGdldEltYWdlVHlwZUZvckl0ZW1MaXN0KHRoaXMucHJvcHMubGlzdCk7XG5cblx0XHRpZiAoaW1hZ2VUeXBlKSB7XG5cdFx0XHR0aGlzLnJvdyA9IGdldFJvd0RlZmluaXRpb25CeUl0ZW1JbWFnZVR5cGUoaW1hZ2VUeXBlKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgUm93ID0gdGhpcy5yb3c7XG5cblx0XHRpZiAoUm93KSB7XG5cdFx0XHRyZXR1cm4gPFJvdyB7Li4udGhpcy5wcm9wc30gbWF4SXRlbXM9e0luZmluaXR5fSAvPjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIDxkaXYgLz47XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRSb3dEZWZpbml0aW9uQnlJdGVtSW1hZ2VUeXBlIH0gZnJvbSAncmVmL3R2L3V0aWwvaXRlbVV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzdWx0c1R2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFBhZ2VFbnRyeUxpc3RQcm9wcywgYW55PiB7XG5cdHByaXZhdGUgcm93O1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzOiBQYWdlRW50cnlMaXN0UHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyBhcyBhbnkpO1xuXG5cdFx0dGhpcy5yb3cgPSBnZXRSb3dEZWZpbml0aW9uQnlJdGVtSW1hZ2VUeXBlKCdwb3N0ZXInKTtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCBSb3cgPSB0aGlzLnJvdztcblxuXHRcdGlmIChSb3cpIHtcblx0XHRcdHJldHVybiA8Um93IHsuLi50aGlzLnByb3BzfSBtYXhJdGVtcz17SW5maW5pdHl9IC8+O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gPGRpdiAvPjtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCBSZXN1bHRzTW92aWVzIGZyb20gJy4uLy4uL3BhZ2VFbnRyeS9zZWFyY2gvUmVzdWx0c01vdmllcyc7XG5pbXBvcnQgUmVzdWx0c1R2IGZyb20gJy4uLy4uL3BhZ2VFbnRyeS9zZWFyY2gvUmVzdWx0c1R2JztcblxuZXhwb3J0IGRlZmF1bHQgW1Jlc3VsdHNNb3ZpZXMsIFJlc3VsdHNUdl07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlLCBJbmplY3RlZEludGxQcm9wcywgaW5qZWN0SW50bCB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IFNlYXJjaElucHV0IGZyb20gJy4vU2VhcmNoSW5wdXQnO1xuaW1wb3J0IFJlY2VudFNlYXJjaGVzIGZyb20gJ2NyYXZlL3R2L3BhZ2Uvc2VhcmNoL1JlY2VudFNlYXJjaGVzJztcbmltcG9ydCB7IERpcmVjdGlvbmFsTmF2aWdhdGlvbiwgR2xvYmFsRXZlbnQgfSBmcm9tICdyZWYvdHYvRGlyZWN0aW9uYWxOYXZpZ2F0aW9uJztcbmltcG9ydCBlbnRyeVJlbmRlcmVycyBmcm9tICdyZWYvdHYvcGFnZS9zZWFyY2gvc2VhcmNoRW50cmllcyc7XG5pbXBvcnQgU3Bpbm5lciBmcm9tICdyZWYvdHYvY29tcG9uZW50L1NwaW5uZXInO1xuaW1wb3J0IHsgQmVtIH0gZnJvbSAnc2hhcmVkL3V0aWwvc3R5bGVzJztcbmltcG9ydCB7IFNUQVRJQyBhcyB0ZW1wbGF0ZSB9IGZyb20gJ3NoYXJlZC9wYWdlL3BhZ2VUZW1wbGF0ZSc7XG5pbXBvcnQgeyBTZWFyY2ggYXMga2V5IH0gZnJvbSAnc2hhcmVkL3BhZ2UvcGFnZUtleSc7XG5pbXBvcnQgeyBzZWFyY2gsIHNlYXJjaENsZWFyLCBzZWFyY2hTYXZlIH0gZnJvbSAnc2hhcmVkL3NlYXJjaC9zZWFyY2hXb3JrZmxvdyc7XG5pbXBvcnQgeyBnZXRFcnJvcmVkUXVlcmllcyB9IGZyb20gJ3NoYXJlZC91dGlsL3NlYXJjaCc7XG5pbXBvcnQgeyBjb25maWdQYWdlIH0gZnJvbSAnc2hhcmVkLyc7XG5cbmltcG9ydCAnLi9TZWFyY2guc2Nzcyc7XG5cbmNvbnN0IGlkID0gJ3NlYXJjaCc7XG5jb25zdCBNSU5fU0VBUkNIX0NIQVJBQ1RFUl9DT1VOVCA9IDI7XG5jb25zdCBNQVhfU0VBUkNIX1JFU1VMVF9DT1VOVCA9IDMwO1xuXG5pbnRlcmZhY2UgU2VhcmNoUHJvcHMgZXh0ZW5kcyBQYWdlUHJvcHMge1xuXHRyZWNlbnRTZWFyY2hlczogc3RyaW5nW107XG5cdHJlY2VudFJlc3VsdHM6IGFwaS5TZWFyY2hSZXN1bHRzW107XG5cdHNlYXJjaFBhZ2VQYXRoPzogc3RyaW5nO1xuXHRlcnJvcmVkUXVlcmllcz86IHN0cmluZ1tdO1xufVxuXG5pbnRlcmZhY2UgU2VhcmNoRGlzcGF0Y2hQcm9wcyB7XG5cdG9uU2VhcmNoOiAocXVlcnk6IHN0cmluZywgZ3JvdXA6IGJvb2xlYW4sIG1heFJlc3VsdHM6IG51bWJlcikgPT4gUHJvbWlzZTxhbnk+O1xuXHRzZWFyY2hTYXZlOiAocXVlcnk6IHN0cmluZykgPT4gYW55O1xuXHRvblNlYXJjaENsZWFyOiAoKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgU2VhcmNoU3RhdGUge1xuXHRxdWVyeT86IHN0cmluZztcblx0cmVzdWx0cz86IGFwaS5TZWFyY2hSZXN1bHRzO1xufVxuXG5jb25zdCBiZW0gPSBuZXcgQmVtKCdzZWFyY2gtcGFnZScpO1xuXG5jbGFzcyBTZWFyY2ggZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFNlYXJjaFByb3BzICYgU2VhcmNoRGlzcGF0Y2hQcm9wcyAmIEluamVjdGVkSW50bFByb3BzLCBTZWFyY2hTdGF0ZT4ge1xuXHRjb250ZXh0OiB7XG5cdFx0cm91dGVyOiBSZWFjdFJvdXRlci5JbmplY3RlZFJvdXRlcjtcblx0XHRmb2N1c05hdjogRGlyZWN0aW9uYWxOYXZpZ2F0aW9uO1xuXHR9O1xuXG5cdHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG5cdFx0cm91dGVyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdFx0Zm9jdXNOYXY6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuXHR9O1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHRxdWVyeTogJydcblx0XHR9O1xuXHR9XG5cblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0dGhpcy5jaGVja1JlZnJlc2hRdWVyeSh0aGlzLnByb3BzKTtcblxuXHRcdHRoaXMuY29udGV4dC5mb2N1c05hdi5hZGRFdmVudEhhbmRsZXIoR2xvYmFsRXZlbnQuS0VZQk9BUkRfVklTSUJJTElUWV9DSEFOR0UsIGlkLCBlID0+IHtcblx0XHRcdHRoaXMuY29udGV4dC5mb2N1c05hdi5kaXNhYmxlTW91c2VGb2N1cyA9IGU7XG5cdFx0fSk7XG5cdH1cblxuXHRjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0XHR0aGlzLmNvbnRleHQuZm9jdXNOYXYucmVtb3ZlRXZlbnRIYW5kbGVyKEdsb2JhbEV2ZW50LktFWUJPQVJEX1ZJU0lCSUxJVFlfQ0hBTkdFLCBpZCk7XG5cdH1cblxuXHRjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzOiBTZWFyY2hQcm9wcykge1xuXHRcdHRoaXMuY2hlY2tSZWZyZXNoUXVlcnkobmV3UHJvcHMpO1xuXHR9XG5cblx0cHJpdmF0ZSBjaGVja1JlZnJlc2hRdWVyeShwcm9wczogU2VhcmNoUHJvcHMpIHtcblx0XHRjb25zdCB7IGxvY2F0aW9uLCBjdXN0b21GaWVsZHMsIHJlY2VudFJlc3VsdHMgfSA9IHByb3BzO1xuXHRcdGNvbnN0IHF1ZXJ5ID0gbG9jYXRpb24ucXVlcnkucSB8fCAnJztcblx0XHRpZiAocXVlcnkgIT09IHRoaXMuc3RhdGUucXVlcnkgfHwgKGN1c3RvbUZpZWxkcyAmJiBjdXN0b21GaWVsZHNbJ3JlZnJlc2gnXSkpIHtcblx0XHRcdHRoaXMudXBkYXRlUXVlcnkocXVlcnkpO1xuXHRcdH0gZWxzZSBpZiAocXVlcnkpIHtcblx0XHRcdGNvbnN0IHRyaW1tZWQgPSBxdWVyeS50cmltKCk7XG5cdFx0XHRjb25zdCByZXN1bHRzID0gcmVjZW50UmVzdWx0cy5maW5kKHIgPT4gci50ZXJtID09PSB0cmltbWVkKTtcblx0XHRcdGlmIChyZXN1bHRzKSB0aGlzLnNldFN0YXRlKHsgcmVzdWx0cyB9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHJlc3VsdHM6IHVuZGVmaW5lZCB9KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZVF1ZXJ5KHF1ZXJ5OiBzdHJpbmcpIHtcblx0XHR0aGlzLnNldFN0YXRlKHsgcXVlcnkgfSk7XG5cdFx0Ly8gVHJpZ2dlciBzZWFyY2ggd2hlbiBzZWFyY2hpbmcgZm9yIGtleXdvcmRzIHdpdGggYXQgbGVhc3QgMiBjaGFyYWN0ZXJzIG9yIG1vcmVcblx0XHRpZiAocXVlcnkubGVuZ3RoID49IE1JTl9TRUFSQ0hfQ0hBUkFDVEVSX0NPVU5UKSB7XG5cdFx0XHR0aGlzLnByb3BzLm9uU2VhcmNoKHF1ZXJ5LCB0cnVlLCBNQVhfU0VBUkNIX1JFU1VMVF9DT1VOVCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBpc0Vycm9yZWQoKTogYm9vbGVhbiB7XG5cdFx0Y29uc3QgcXVlcnkgPSB0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKTtcblx0XHRjb25zdCByZXN1bHRzID0gdGhpcy5zdGF0ZS5yZXN1bHRzO1xuXHRcdGlmIChyZXN1bHRzICYmIHJlc3VsdHMudGVybSA9PT0gcXVlcnkpIHJldHVybiBmYWxzZTtcblx0XHRyZXR1cm4gISF+dGhpcy5wcm9wcy5lcnJvcmVkUXVlcmllcy5pbmRleE9mKHF1ZXJ5KTtcblx0fVxuXG5cdHByaXZhdGUgaXNMb2FkaW5nKCk6IGJvb2xlYW4ge1xuXHRcdGlmICh0aGlzLmlzRXJyb3JlZCgpKSByZXR1cm4gZmFsc2U7XG5cdFx0Y29uc3QgcXVlcnkgPSB0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKTtcblx0XHRjb25zdCByZXN1bHRzID0gdGhpcy5wcm9wcy5yZWNlbnRSZXN1bHRzO1xuXHRcdHJldHVybiBxdWVyeSAmJiBxdWVyeS5sZW5ndGggPj0gTUlOX1NFQVJDSF9DSEFSQUNURVJfQ09VTlQgJiYgKCFyZXN1bHRzIHx8ICFyZXN1bHRzLnNvbWUociA9PiByLnRlcm0gPT09IHF1ZXJ5KSk7XG5cdH1cblxuXHRwcml2YXRlIHNob3VsZFJlbmRlckVudHJ5ID0gKGVudHJ5OiBhcGkuUGFnZUVudHJ5KTogYm9vbGVhbiA9PiB7XG5cdFx0Y29uc3QgcmVzdWx0cyA9IHRoaXMuc3RhdGUucmVzdWx0cztcblx0XHRpZiAoIXJlc3VsdHMpIHJldHVybiBmYWxzZTtcblx0XHRjb25zdCB7IG1vdmllcywgdHYsIHBlb3BsZSB9ID0gcmVzdWx0cztcblxuXHRcdHN3aXRjaCAoZW50cnkudGVtcGxhdGUpIHtcblx0XHRcdGNhc2UgJ3Jlc3VsdHMtbW92aWVzJzpcblx0XHRcdFx0cmV0dXJuIG1vdmllcyAmJiBtb3ZpZXMuc2l6ZSA+IDA7XG5cdFx0XHRjYXNlICdyZXN1bHRzLXR2Jzpcblx0XHRcdFx0cmV0dXJuIHR2ICYmIHR2LnNpemUgPiAwO1xuXHRcdFx0Y2FzZSAncmVzdWx0cy1wZW9wbGUnOlxuXHRcdFx0XHRyZXR1cm4gcGVvcGxlICYmICEhcGVvcGxlLmxlbmd0aDtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xuXG5cdHByaXZhdGUgb25RdWVyeUNoYW5nZSA9IChxdWVyeTogc3RyaW5nKSA9PiB7XG5cdFx0Ly8gUmVtb3ZlIGxlYWRpbmcgc3BhY2VzIGFuZCBkb3VibGUgc3BhY2VzIHdpdGhpbiBxdWVyeVxuXHRcdGlmIChxdWVyeSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cXVlcnkgPSBxdWVyeS5yZXBsYWNlKC9eXFxzKy9nLCAnJykucmVwbGFjZSgvXFxzXFxzKy9nLCAnICcpO1xuXHRcdGlmIChxdWVyeSA9PT0gdGhpcy5zdGF0ZS5xdWVyeSkgcmV0dXJuO1xuXG5cdFx0aWYgKCFxdWVyeS5sZW5ndGggfHwgcXVlcnkubGVuZ3RoIDwgMikgdGhpcy5jb250ZXh0LmZvY3VzTmF2LnBhZ2VSZXNpemUoKTtcblxuXHRcdHRoaXMudXBkYXRlUXVlcnkocXVlcnkpO1xuXG5cdFx0Ly8gVGhpcyB1cmwgcXVlcnkgdXBkYXRlIHdvbid0IHRyaWdnZXIgYSBzZWFyY2gsIHdlIGp1c3Qga2VlcFxuXHRcdC8vIHRoZSBxdWVyeSBwYXJhbSBpbiBzeW5jIHNvIGlmIHRoZSB1c2VyIHJlZnJlc2hlcyB0aGVcblx0XHQvLyBicm93c2VyIG9yIHdhbnRzIHRvIHNoYXJlIHRoZSB1cmwgdGhleSBjYW4uXG5cdFx0Y29uc3QgcSA9IHF1ZXJ5ID8gYD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gIDogJyc7XG5cdFx0dGhpcy5jb250ZXh0LnJvdXRlci5yZXBsYWNlKGAke3RoaXMucHJvcHMuc2VhcmNoUGFnZVBhdGh9JHtxfWApO1xuXHR9O1xuXG5cdHByaXZhdGUgb25DYW5jZWxTZWFyY2ggPSAoKSA9PiB7XG5cdFx0Y29uc3QgcXVlcnkgPSB0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKTtcblx0XHRjb25zdCByZXN1bHRzID0gdGhpcy5wcm9wcy5yZWNlbnRSZXN1bHRzO1xuXHRcdGNvbnN0IGhhc1NlYXJjaFJlc3VsdCA9IHF1ZXJ5ICYmIHJlc3VsdHMgJiYgcmVzdWx0cy5zb21lKHIgPT4gci50ZXJtID09PSBxdWVyeSAmJiByLnRvdGFsID4gMCk7XG5cdFx0aWYgKGhhc1NlYXJjaFJlc3VsdCkge1xuXHRcdFx0dGhpcy5wcm9wcy5zZWFyY2hTYXZlKHRoaXMuc3RhdGUucXVlcnkpO1xuXHRcdH1cblx0fTtcblxuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgZmlsdGVyZWQgPSAodGhpcy5wcm9wcy5lbnRyaWVzIHx8IFtdKS5maWx0ZXIodGhpcy5zaG91bGRSZW5kZXJFbnRyeSk7XG5cdFx0bGV0IGhhc1Jlc3VsdHMgPSB0cnVlO1xuXHRcdGlmICghZmlsdGVyZWQubGVuZ3RoKSB7XG5cdFx0XHRoYXNSZXN1bHRzID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPXtjeChiZW0uYigpKX0+XG5cdFx0XHRcdDxTZWFyY2hJbnB1dFxuXHRcdFx0XHRcdG9uVmFsdWVDaGFuZ2U9e3RoaXMub25RdWVyeUNoYW5nZX1cblx0XHRcdFx0XHRvbkNhbmNlbFNlYXJjaD17dGhpcy5vbkNhbmNlbFNlYXJjaH1cblx0XHRcdFx0XHRhdXRvRm9jdXM9e3RydWV9XG5cdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUucXVlcnl9XG5cdFx0XHRcdFx0bG9hZGluZz17dGhpcy5pc0xvYWRpbmcoKX1cblx0XHRcdFx0XHRoYXNSZXN1bHRzPXtoYXNSZXN1bHRzfVxuXHRcdFx0XHQvPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT17Y3goYmVtLmIoJ2JvZHknKSwgJ2NvbnRlbnQtbWFyZ2luJyl9PiB7dGhpcy5yZW5kZXJTZWFyY2hCb2R5KCl9IDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyU2VhcmNoQm9keSgpIHtcblx0XHRjb25zdCB7IGVudHJpZXMsIHJlbmRlckVudHJ5IH0gPSB0aGlzLnByb3BzO1xuXG5cdFx0aWYgKHRoaXMuaXNFcnJvcmVkKCkpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlbmRlck1lc3NhZ2UoJ3NlYXJjaF9lcnJvcl9oZWFkaW5nJyk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLnN0YXRlLnF1ZXJ5Lmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0cmV0dXJuIHRoaXMucmVuZGVyTWVzc2FnZSgnc2VhcmNoX2hlYWRlcl9taW5fY2hhcmFjdGVyX21lc3NhZ2UnKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKCkpIHtcblx0XHRcdHJldHVybiA8U3Bpbm5lciBjbGFzc05hbWU9e2JlbS5lKCdzcGlubmVyJyl9IC8+O1xuXHRcdH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUucXVlcnkpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlbmRlclJlY2VudFNlYXJjaGVzKCk7XG5cdFx0fSBlbHNlIGlmICghdGhpcy5zdGF0ZS5yZXN1bHRzKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmlsdGVyZWQgPSAoZW50cmllcyB8fCBbXSkuZmlsdGVyKHRoaXMuc2hvdWxkUmVuZGVyRW50cnkpO1xuXHRcdGlmICghZmlsdGVyZWQubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5yZW5kZXJNZXNzYWdlKCdzZWFyY2hfaGVhZGVyX2VtcHR5X21lc3NhZ2UnKTtcblx0XHR9XG5cdFx0dGhpcy5mb3JtYXRFbnRyeVRpdGxlcyhlbnRyaWVzKTtcblx0XHRyZXR1cm4gZmlsdGVyZWQubWFwKHJlbmRlckVudHJ5KTtcblx0fVxuXG5cdHByaXZhdGUgZm9ybWF0RW50cnlUaXRsZXMgPSAoZW50cmllczogYXBpLlBhZ2VFbnRyeVtdKSA9PiB7XG5cdFx0Y29uc3QgeyBmb3JtYXRNZXNzYWdlIH0gPSB0aGlzLnByb3BzLmludGw7XG5cdFx0ZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcblx0XHRcdHN3aXRjaCAoZW50cnkudGVtcGxhdGUpIHtcblx0XHRcdFx0Y2FzZSAncmVzdWx0cy1tb3ZpZXMnOlxuXHRcdFx0XHRcdGVudHJ5LnRpdGxlID0gZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2VhcmNoLW1vdmllLXJvdy10aXRsZScgfSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ3Jlc3VsdHMtdHYnOlxuXHRcdFx0XHRcdGVudHJ5LnRpdGxlID0gZm9ybWF0TWVzc2FnZSh7IGlkOiAnc2VhcmNoLXR2LXNob3ctcm93LXRpdGxlJyB9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9KTtcblx0fTtcblxuXHRwcml2YXRlIHJlbmRlclJlY2VudFNlYXJjaGVzKCkge1xuXHRcdGNvbnN0IHsgcmVjZW50U2VhcmNoZXMsIG9uU2VhcmNoQ2xlYXIgfSA9IHRoaXMucHJvcHM7XG5cdFx0aWYgKCFyZWNlbnRTZWFyY2hlcy5sZW5ndGgpIHJldHVybjtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8UmVjZW50U2VhcmNoZXNcblx0XHRcdFx0c2VhcmNoZXM9e3JlY2VudFNlYXJjaGVzfVxuXHRcdFx0XHRzZWFyY2hQYWdlUGF0aD17dGhpcy5wcm9wcy5zZWFyY2hQYWdlUGF0aH1cblx0XHRcdFx0b25DbGVhclNlYXJjaGVzPXtvblNlYXJjaENsZWFyfVxuXHRcdFx0Lz5cblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJNZXNzYWdlKGlkOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PEZvcm1hdHRlZE1lc3NhZ2UgaWQ9e2lkfT5cblx0XHRcdFx0e3RpdGxlID0+IChcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT17YmVtLmUoJ21lc3NhZ2UnKX0+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT17YmVtLmUoJ21lc3NhZ2UtdGl0bGUnKX0+e3RpdGxlfTwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQpfVxuXHRcdFx0PC9Gb3JtYXR0ZWRNZXNzYWdlPlxuXHRcdCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHsgc2VhcmNoLCBjYWNoZSwgYXBwIH06IHN0YXRlLlJvb3QpIHtcblx0cmV0dXJuIHtcblx0XHRyZWNlbnRTZWFyY2hlczogc2VhcmNoLnJlY2VudFNlYXJjaGVzLFxuXHRcdHJlY2VudFJlc3VsdHM6IGNhY2hlLnNlYXJjaC5yZWNlbnRSZXN1bHRzLFxuXHRcdHNlYXJjaFBhZ2VQYXRoOiBjYWNoZS5zZWFyY2gucGFnZVBhdGgsXG5cdFx0ZXJyb3JlZFF1ZXJpZXM6IGdldEVycm9yZWRRdWVyaWVzKGFwcC5lcnJvcmVkQWN0aW9ucylcblx0fTtcbn1cblxuZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKTogU2VhcmNoRGlzcGF0Y2hQcm9wcyB7XG5cdHJldHVybiB7XG5cdFx0b25TZWFyY2g6IChxdWVyeSwgZ3JvdXAsIG1heFJlc3VsdHMpID0+IGRpc3BhdGNoKHNlYXJjaChxdWVyeSwgZ3JvdXAsIG1heFJlc3VsdHMpKSxcblx0XHRvblNlYXJjaENsZWFyOiAoKSA9PiBkaXNwYXRjaChzZWFyY2hDbGVhcigpKSxcblx0XHRzZWFyY2hTYXZlOiBxdWVyeSA9PiBkaXNwYXRjaChzZWFyY2hTYXZlKHF1ZXJ5KSlcblx0fTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29uZmlnUGFnZShpbmplY3RJbnRsKFNlYXJjaCksIHtcblx0a2V5LFxuXHR0ZW1wbGF0ZSxcblx0bWFwU3RhdGVUb1Byb3BzLFxuXHRtYXBEaXNwYXRjaFRvUHJvcHMsXG5cdGVudHJ5UmVuZGVyZXJzXG59IGFzIGFueSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1069\n')},956:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(setImmediate) {/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(242);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(243);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(245);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var shared_util_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(244);\n/* harmony import */ var shared_util_platforms_keysModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(325);\n/* harmony import */ var shared_util_platforms_deviceModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(260);\n/* harmony import */ var shared_page_pageKey__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(277);\n/* harmony import */ var bell_tv_component_InputSingleLine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(490);\n/* harmony import */ var ref_tv_focusableInterface__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(253);\n/* harmony import */ var ref_tv_DirectionalNavigation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(274);\n/* harmony import */ var ref_tv_util_itemUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(248);\n/* harmony import */ var ref_tv_util_focusUtil__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(249);\n/* harmony import */ var ref_tv_util_sass__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(246);\n/* harmony import */ var _InputWithOSK_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(957);\n/* harmony import */ var _InputWithOSK_scss__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_InputWithOSK_scss__WEBPACK_IMPORTED_MODULE_13__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar maxSearchTermLength = 48;\nvar id = \'input-with-osk\';\nvar bem = new shared_util_styles__WEBPACK_IMPORTED_MODULE_3__[/* Bem */ "a"](id);\nvar InputWithOSK = /** @class */ (function (_super) {\n    Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __extends */ "c"])(InputWithOSK, _super);\n    function InputWithOSK(props) {\n        var _this = _super.call(this, props) || this;\n        _this.setFocus = function (isFocus) {\n            // When going back to search page input is focused first, asset second\n            if (_this.isGoingBackToSearch())\n                return;\n            _this.setState({\n                focused: isFocus\n            });\n            if (isFocus) {\n                if (shared_util_platforms_deviceModel__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"].noAutoPopUpKeyboard) {\n                    // Normally the keyboard shows right when the HTML input is focused even without pressing any keys,\n                    // so we do not need to set to show the OSK when we focus the UI input as the real HTML input will get\n                    // focussed with first Enter click.\n                    // However some platforms require additional keypress when already focussed to show the keyboard.\n                    // For those we focus the HTML input immediately as we focus the UI one to get the keyboard on next\n                    // Enter click.\n                    _this.setState({ showOSK: true });\n                }\n                _this.context.focusNav.analytics.triggerFocusedEvent();\n            }\n            else {\n                _this.setState({ showOSK: false });\n                if (_this.props.onCancelSearch) {\n                    _this.props.onCancelSearch();\n                }\n            }\n            return true;\n        };\n        _this.moveLeft = function () {\n            return true;\n        };\n        _this.moveRight = function () {\n            return true;\n        };\n        _this.moveUp = function () {\n            return false;\n        };\n        _this.moveDown = function () {\n            return false;\n        };\n        _this.exec = function (act) {\n            if (act === ref_tv_focusableInterface__WEBPACK_IMPORTED_MODULE_8__[/* ActionEnum */ "a"].CLICK) {\n                setImmediate(function () {\n                    _this.setState({ showOSK: true });\n                });\n            }\n            else if (act === ref_tv_focusableInterface__WEBPACK_IMPORTED_MODULE_8__[/* ActionEnum */ "a"].ESC) {\n                _this.context.focusNav.moveToRow(0);\n            }\n            else if (act === ref_tv_focusableInterface__WEBPACK_IMPORTED_MODULE_8__[/* ActionEnum */ "a"].EXIT) {\n                _this.setState({ showOSK: false });\n                _this.context.focusNav.moveToRow(0);\n                return false;\n            }\n            return Object(ref_tv_util_focusUtil__WEBPACK_IMPORTED_MODULE_11__[/* stopExec */ "d"])(act);\n        };\n        _this.onValueChanged = function (value) {\n            var onValueChange = _this.props.onValueChange;\n            var v = value.trim();\n            if (v.length > maxSearchTermLength)\n                return;\n            _this.curValue = v;\n            _this.setState({ curValue: v });\n            onValueChange && onValueChange(v);\n        };\n        _this.focusOnFirstResult = function () {\n            setImmediate(function () {\n                Object(ref_tv_util_itemUtils__WEBPACK_IMPORTED_MODULE_10__[/* waitUntil */ "H"])(function () {\n                    return !_this.props.loading;\n                }, function () {\n                    if (_this.props.hasResults) {\n                        _this.setState({ showOSK: false });\n                        _this.context.focusNav.move(shared_util_platforms_keysModel__WEBPACK_IMPORTED_MODULE_4__[/* default */ "a"].Down, true);\n                    }\n                });\n            });\n        };\n        _this.onClick = function () { return _this.context.focusNav.moveToRow(1); };\n        _this.onBack = function () {\n            if (_this.state.showOSK) {\n                _this.setState({ showOSK: false });\n            }\n            else {\n                _this.context.focusNav.handleEsc();\n            }\n        };\n        _this.onDone = function () {\n            _this.props.onValueChange(_this.curValue);\n            _this.setState({ showOSK: false });\n            _this.focusOnFirstResult();\n        };\n        _this.state = {\n            focused: false,\n            curValue: props.value,\n            showOSK: false\n        };\n        _this.focusableRow = {\n            focusable: true,\n            index: 1,\n            height: ref_tv_util_sass__WEBPACK_IMPORTED_MODULE_12__[/* default */ "a"].searchInputHeight,\n            restoreSavedState: function () { },\n            setFocus: _this.setFocus,\n            moveLeft: _this.moveLeft,\n            moveRight: _this.moveRight,\n            moveUp: _this.moveUp,\n            moveDown: _this.moveDown,\n            exec: _this.exec\n        };\n        return _this;\n    }\n    InputWithOSK.prototype.componentDidMount = function () {\n        var _this = this;\n        this.focusableRow.ref = this.ref;\n        this.context.focusNav.registerRow(this.focusableRow);\n        this.context.focusNav.addEventHandler(ref_tv_DirectionalNavigation__WEBPACK_IMPORTED_MODULE_9__[/* GlobalEvent */ "b"].KEYBOARD_VISIBILITY_CHANGE, id, function (e) {\n            _this.context.focusNav.disableMouseFocus = e;\n            _this.setState({ showOSK: e });\n        });\n    };\n    InputWithOSK.prototype.componentWillUnmount = function () {\n        this.context.focusNav.unregisterRow(this.focusableRow);\n        this.context.focusNav.removeEventHandler(ref_tv_DirectionalNavigation__WEBPACK_IMPORTED_MODULE_9__[/* GlobalEvent */ "b"].KEYBOARD_VISIBILITY_CHANGE, id);\n    };\n    InputWithOSK.prototype.componentWillReceiveProps = function (nextProps) {\n        if (this.state.curValue !== nextProps.value) {\n            this.setState({ curValue: nextProps.value });\n        }\n    };\n    InputWithOSK.prototype.componentDidUpdate = function () {\n        this.focusableRow.savedState = Object.assign({}, this.state);\n    };\n    InputWithOSK.prototype.render = function () {\n        var _this = this;\n        var placeholder = this.props.placeholder;\n        var _a = this.state, focused = _a.focused, curValue = _a.curValue;\n        return (react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("div", { className: bem.b({ focused: focused }), ref: function (ref) { return (_this.ref = ref); }, onClick: this.onClick },\n            react__WEBPACK_IMPORTED_MODULE_1__["createElement"](bell_tv_component_InputSingleLine__WEBPACK_IMPORTED_MODULE_7__[/* default */ "a"], { useOSK: true, focused: focused, value: curValue, maxLength: maxSearchTermLength, placeholder: placeholder, className: bem.e(\'search-osk\'), valueChanged: this.onValueChanged, onBack: this.onBack, onDone: this.onDone })));\n    };\n    InputWithOSK.prototype.isGoingBackToSearch = function () {\n        var _a = this.context.focusNav, curPageTemplate = _a.curPageTemplate, isGoingBack = _a.isGoingBack;\n        return curPageTemplate === shared_page_pageKey__WEBPACK_IMPORTED_MODULE_6__["Search"] && isGoingBack;\n    };\n    InputWithOSK.contextTypes = {\n        focusNav: prop_types__WEBPACK_IMPORTED_MODULE_2__["object"].isRequired\n    };\n    return InputWithOSK;\n}(react__WEBPACK_IMPORTED_MODULE_1__["Component"]));\n/* harmony default export */ __webpack_exports__["a"] = (InputWithOSK);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(294).setImmediate))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jcmF2ZS90di9wYWdlL3NlYXJjaC9JbnB1dFdpdGhPU0sudHN4PzQ2ZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQ1M7QUFDQztBQUNlO0FBQ0k7QUFDZjtBQUNtQjtBQUNFO0FBQ2dCO0FBQ2hDO0FBQ0Q7QUFDYjtBQUdQO0FBRTdCLElBQU0sbUJBQW1CLEdBQUcsRUFBRSxDQUFDO0FBQy9CLElBQU0sRUFBRSxHQUFHLGdCQUFnQixDQUFDO0FBQzVCLElBQU0sR0FBRyxHQUFHLElBQUksOERBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQVF4QjtJQUEwQyxzRkFBb0Q7SUFhN0Ysc0JBQVksS0FBSztRQUFqQixZQUNDLGtCQUFNLEtBQUssQ0FBQyxTQW9CWjtRQTJCTyxjQUFRLEdBQUcsVUFBQyxPQUFpQjtZQUNwQyxzRUFBc0U7WUFDdEUsSUFBSSxLQUFJLENBQUMsbUJBQW1CLEVBQUU7Z0JBQUUsT0FBTztZQUN2QyxLQUFJLENBQUMsUUFBUSxDQUFDO2dCQUNiLE9BQU8sRUFBRSxPQUFPO2FBQ2hCLENBQUMsQ0FBQztZQUVILElBQUksT0FBTyxFQUFFO2dCQUNaLElBQUksaUZBQVcsQ0FBQyxtQkFBbUIsRUFBRTtvQkFDcEMsbUdBQW1HO29CQUNuRyxzR0FBc0c7b0JBQ3RHLG1DQUFtQztvQkFDbkMsaUdBQWlHO29CQUNqRyxtR0FBbUc7b0JBQ25HLGVBQWU7b0JBQ2YsS0FBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2lCQUNqQztnQkFDRCxLQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEVBQUUsQ0FBQzthQUN0RDtpQkFBTTtnQkFDTixLQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7Z0JBRWxDLElBQUksS0FBSSxDQUFDLEtBQUssQ0FBQyxj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WUFDdEYsb0RBQUMsaUZBQWUsSUFDZixNQUFNLEVBQUUsSUFBSSxFQUNaLE9BQU8sRUFBRSxPQUFPLEVBQ2hCLEtBQUssRUFBRSxRQUFRLEVBQ2YsU0FBUyxFQUFFLG1CQUFtQixFQUM5QixXQUFXLEVBQUUsV0FBVyxFQUN4QixTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFDOUIsWUFBWSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQ2pDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUNuQixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sR0FDbEIsQ0FDRyxDQUNOLENBQUM7SUFDSCxDQUFDO0lBRU8sMENBQW1CLEdBQTNCO1FBQ08sU0FBbUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQXRELGVBQWUsdUJBQUUsV0FBVyxpQkFBMEIsQ0FBQztRQUMvRCxPQUFPLGVBQWUsS0FBSywwREFBTSxJQUFJLFdBQVcsQ0FBQztJQUNsRCxDQUFDO0lBdkxNLHlCQUFZLEdBQVE7UUFDMUIsUUFBUSxFQUFFLGlEQUFnQixDQUFDLFVBQVU7S0FDckMsQ0FBQztJQXNMSCxtQkFBQztDQUFBLENBN0x5QywrQ0FBZSxHQTZMeEQ7QUE3TG9CLHFFQUFZIiwiZmlsZSI6Ijk1Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEJlbSB9IGZyb20gJ3NoYXJlZC91dGlsL3N0eWxlcyc7XG5pbXBvcnQgS2V5c01vZGVsIGZyb20gJ3NoYXJlZC91dGlsL3BsYXRmb3Jtcy9rZXlzTW9kZWwnO1xuaW1wb3J0IERldmljZU1vZGVsIGZyb20gJ3NoYXJlZC91dGlsL3BsYXRmb3Jtcy9kZXZpY2VNb2RlbCc7XG5pbXBvcnQgeyBTZWFyY2ggfSBmcm9tICdzaGFyZWQvcGFnZS9wYWdlS2V5JztcbmltcG9ydCBJbnB1dFNpbmdsZUxpbmUgZnJvbSAnYmVsbC90di9jb21wb25lbnQvSW5wdXRTaW5nbGVMaW5lJztcbmltcG9ydCB7IEFjdGlvbkVudW0sIEZvY3VzYWJsZSB9IGZyb20gJ3JlZi90di9mb2N1c2FibGVJbnRlcmZhY2UnO1xuaW1wb3J0IHsgRGlyZWN0aW9uYWxOYXZpZ2F0aW9uLCBHbG9iYWxFdmVudCB9IGZyb20gJ3JlZi90di9EaXJlY3Rpb25hbE5hdmlnYXRpb24nO1xuaW1wb3J0IHsgd2FpdFVudGlsIH0gZnJvbSAncmVmL3R2L3V0aWwvaXRlbVV0aWxzJztcbmltcG9ydCB7IHN0b3BFeGVjIH0gZnJvbSAncmVmL3R2L3V0aWwvZm9jdXNVdGlsJztcbmltcG9ydCBzYXNzIGZyb20gJ3JlZi90di91dGlsL3Nhc3MnO1xuaW1wb3J0IHsgU2VhcmNoSW5wdXRQcm9wcyB9IGZyb20gJy4vU2VhcmNoSW5wdXQnO1xuXG5pbXBvcnQgJy4vSW5wdXRXaXRoT1NLLnNjc3MnO1xuXG5jb25zdCBtYXhTZWFyY2hUZXJtTGVuZ3RoID0gNDg7XG5jb25zdCBpZCA9ICdpbnB1dC13aXRoLW9zayc7XG5jb25zdCBiZW0gPSBuZXcgQmVtKGlkKTtcblxudHlwZSBJbnB1dFdpdGhPU0tTdGF0ZSA9IHtcblx0Zm9jdXNlZDogYm9vbGVhbjtcblx0Y3VyVmFsdWU6IHN0cmluZztcblx0c2hvd09TSzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0V2l0aE9TSyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxTZWFyY2hJbnB1dFByb3BzLCBJbnB1dFdpdGhPU0tTdGF0ZT4ge1xuXHRjb250ZXh0OiB7XG5cdFx0Zm9jdXNOYXY6IERpcmVjdGlvbmFsTmF2aWdhdGlvbjtcblx0fTtcblxuXHRzdGF0aWMgY29udGV4dFR5cGVzOiBhbnkgPSB7XG5cdFx0Zm9jdXNOYXY6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuXHR9O1xuXG5cdHByaXZhdGUgZm9jdXNhYmxlUm93OiBGb2N1c2FibGU7XG5cdHByaXZhdGUgcmVmOiBIVE1MRGl2RWxlbWVudDtcblx0cHJpdmF0ZSBjdXJWYWx1ZTogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdGZvY3VzZWQ6IGZhbHNlLFxuXHRcdFx0Y3VyVmFsdWU6IHByb3BzLnZhbHVlLFxuXHRcdFx0c2hvd09TSzogZmFsc2Vcblx0XHR9O1xuXG5cdFx0dGhpcy5mb2N1c2FibGVSb3cgPSB7XG5cdFx0XHRmb2N1c2FibGU6IHRydWUsXG5cdFx0XHRpbmRleDogMSxcblx0XHRcdGhlaWdodDogc2Fzcy5zZWFyY2hJbnB1dEhlaWdodCxcblx0XHRcdHJlc3RvcmVTYXZlZFN0YXRlOiAoKSA9PiB7fSxcblx0XHRcdHNldEZvY3VzOiB0aGlzLnNldEZvY3VzLFxuXHRcdFx0bW92ZUxlZnQ6IHRoaXMubW92ZUxlZnQsXG5cdFx0XHRtb3ZlUmlnaHQ6IHRoaXMubW92ZVJpZ2h0LFxuXHRcdFx0bW92ZVVwOiB0aGlzLm1vdmVVcCxcblx0XHRcdG1vdmVEb3duOiB0aGlzLm1vdmVEb3duLFxuXHRcdFx0ZXhlYzogdGhpcy5leGVjXG5cdFx0fTtcblx0fVxuXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMuZm9jdXNhYmxlUm93LnJlZiA9IHRoaXMucmVmO1xuXHRcdHRoaXMuY29udGV4dC5mb2N1c05hdi5yZWdpc3RlclJvdyh0aGlzLmZvY3VzYWJsZVJvdyk7XG5cblx0XHR0aGlzLmNvbnRleHQuZm9jdXNOYXYuYWRkRXZlbnRIYW5kbGVyKEdsb2JhbEV2ZW50LktFWUJPQVJEX1ZJU0lCSUxJVFlfQ0hBTkdFLCBpZCwgZSA9PiB7XG5cdFx0XHR0aGlzLmNvbnRleHQuZm9jdXNOYXYuZGlzYWJsZU1vdXNlRm9jdXMgPSBlO1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHNob3dPU0s6IGUgfSk7XG5cdFx0fSk7XG5cdH1cblxuXHRjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0XHR0aGlzLmNvbnRleHQuZm9jdXNOYXYudW5yZWdpc3RlclJvdyh0aGlzLmZvY3VzYWJsZVJvdyk7XG5cdFx0dGhpcy5jb250ZXh0LmZvY3VzTmF2LnJlbW92ZUV2ZW50SGFuZGxlcihHbG9iYWxFdmVudC5LRVlCT0FSRF9WSVNJQklMSVRZX0NIQU5HRSwgaWQpO1xuXHR9XG5cblx0Y29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IFNlYXJjaElucHV0UHJvcHMpIHtcblx0XHRpZiAodGhpcy5zdGF0ZS5jdXJWYWx1ZSAhPT0gbmV4dFByb3BzLnZhbHVlKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgY3VyVmFsdWU6IG5leHRQcm9wcy52YWx1ZSB9KTtcblx0XHR9XG5cdH1cblxuXHRjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdFx0dGhpcy5mb2N1c2FibGVSb3cuc2F2ZWRTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUpO1xuXHR9XG5cblx0cHJpdmF0ZSBzZXRGb2N1cyA9IChpc0ZvY3VzPzogYm9vbGVhbik6IGJvb2xlYW4gPT4ge1xuXHRcdC8vIFdoZW4gZ29pbmcgYmFjayB0byBzZWFyY2ggcGFnZSBpbnB1dCBpcyBmb2N1c2VkIGZpcnN0LCBhc3NldCBzZWNvbmRcblx0XHRpZiAodGhpcy5pc0dvaW5nQmFja1RvU2VhcmNoKCkpIHJldHVybjtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGZvY3VzZWQ6IGlzRm9jdXNcblx0XHR9KTtcblxuXHRcdGlmIChpc0ZvY3VzKSB7XG5cdFx0XHRpZiAoRGV2aWNlTW9kZWwubm9BdXRvUG9wVXBLZXlib2FyZCkge1xuXHRcdFx0XHQvLyBOb3JtYWxseSB0aGUga2V5Ym9hcmQgc2hvd3MgcmlnaHQgd2hlbiB0aGUgSFRNTCBpbnB1dCBpcyBmb2N1c2VkIGV2ZW4gd2l0aG91dCBwcmVzc2luZyBhbnkga2V5cyxcblx0XHRcdFx0Ly8gc28gd2UgZG8gbm90IG5lZWQgdG8gc2V0IHRvIHNob3cgdGhlIE9TSyB3aGVuIHdlIGZvY3VzIHRoZSBVSSBpbnB1dCBhcyB0aGUgcmVhbCBIVE1MIGlucHV0IHdpbGwgZ2V0XG5cdFx0XHRcdC8vIGZvY3Vzc2VkIHdpdGggZmlyc3QgRW50ZXIgY2xpY2suXG5cdFx0XHRcdC8vIEhvd2V2ZXIgc29tZSBwbGF0Zm9ybXMgcmVxdWlyZSBhZGRpdGlvbmFsIGtleXByZXNzIHdoZW4gYWxyZWFkeSBmb2N1c3NlZCB0byBzaG93IHRoZSBrZXlib2FyZC5cblx0XHRcdFx0Ly8gRm9yIHRob3NlIHdlIGZvY3VzIHRoZSBIVE1MIGlucHV0IGltbWVkaWF0ZWx5IGFzIHdlIGZvY3VzIHRoZSBVSSBvbmUgdG8gZ2V0IHRoZSBrZXlib2FyZCBvbiBuZXh0XG5cdFx0XHRcdC8vIEVudGVyIGNsaWNrLlxuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgc2hvd09TSzogdHJ1ZSB9KTtcblx0XHRcdH1cblx0XHRcdHRoaXMuY29udGV4dC5mb2N1c05hdi5hbmFseXRpY3MudHJpZ2dlckZvY3VzZWRFdmVudCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgc2hvd09TSzogZmFsc2UgfSk7XG5cblx0XHRcdGlmICh0aGlzLnByb3BzLm9uQ2FuY2VsU2VhcmNoKSB7XG5cdFx0XHRcdHRoaXMucHJvcHMub25DYW5jZWxTZWFyY2goKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0cHJpdmF0ZSBtb3ZlTGVmdCA9ICgpOiBib29sZWFuID0+IHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHRwcml2YXRlIG1vdmVSaWdodCA9ICgpOiBib29sZWFuID0+IHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHRwcml2YXRlIG1vdmVVcCA9ICgpOiBib29sZWFuID0+IHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblx0cHJpdmF0ZSBtb3ZlRG93biA9ICgpOiBib29sZWFuID0+IHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblx0cHJpdmF0ZSBleGVjID0gKGFjdDogQWN0aW9uRW51bSkgPT4ge1xuXHRcdGlmIChhY3QgPT09IEFjdGlvbkVudW0uQ0xJQ0spIHtcblx0XHRcdHNldEltbWVkaWF0ZSgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBzaG93T1NLOiB0cnVlIH0pO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIGlmIChhY3QgPT09IEFjdGlvbkVudW0uRVNDKSB7XG5cdFx0XHR0aGlzLmNvbnRleHQuZm9jdXNOYXYubW92ZVRvUm93KDApO1xuXHRcdH0gZWxzZSBpZiAoYWN0ID09PSBBY3Rpb25FbnVtLkVYSVQpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoeyBzaG93T1NLOiBmYWxzZSB9KTtcblx0XHRcdHRoaXMuY29udGV4dC5mb2N1c05hdi5tb3ZlVG9Sb3coMCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN0b3BFeGVjKGFjdCk7XG5cdH07XG5cblx0cHJpdmF0ZSBvblZhbHVlQ2hhbmdlZCA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG5cdFx0Y29uc3QgeyBvblZhbHVlQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xuXG5cdFx0Y29uc3QgdiA9IHZhbHVlLnRyaW0oKTtcblxuXHRcdGlmICh2Lmxlbmd0aCA+IG1heFNlYXJjaFRlcm1MZW5ndGgpIHJldHVybjtcblxuXHRcdHRoaXMuY3VyVmFsdWUgPSB2O1xuXHRcdHRoaXMuc2V0U3RhdGUoeyBjdXJWYWx1ZTogdiB9KTtcblxuXHRcdG9uVmFsdWVDaGFuZ2UgJiYgb25WYWx1ZUNoYW5nZSh2KTtcblx0fTtcblxuXHRwcml2YXRlIGZvY3VzT25GaXJzdFJlc3VsdCA9ICgpID0+IHtcblx0XHRzZXRJbW1lZGlhdGUoKCkgPT4ge1xuXHRcdFx0d2FpdFVudGlsKFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuICF0aGlzLnByb3BzLmxvYWRpbmc7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRpZiAodGhpcy5wcm9wcy5oYXNSZXN1bHRzKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgc2hvd09TSzogZmFsc2UgfSk7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRleHQuZm9jdXNOYXYubW92ZShLZXlzTW9kZWwuRG93biwgdHJ1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdHByaXZhdGUgb25DbGljayA9ICgpID0+IHRoaXMuY29udGV4dC5mb2N1c05hdi5tb3ZlVG9Sb3coMSk7XG5cblx0cHJpdmF0ZSBvbkJhY2sgPSAoKSA9PiB7XG5cdFx0aWYgKHRoaXMuc3RhdGUuc2hvd09TSykge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHNob3dPU0s6IGZhbHNlIH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmNvbnRleHQuZm9jdXNOYXYuaGFuZGxlRXNjKCk7XG5cdFx0fVxuXHR9O1xuXG5cdHByaXZhdGUgb25Eb25lID0gKCkgPT4ge1xuXHRcdHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZSh0aGlzLmN1clZhbHVlKTtcblx0XHR0aGlzLnNldFN0YXRlKHsgc2hvd09TSzogZmFsc2UgfSk7XG5cdFx0dGhpcy5mb2N1c09uRmlyc3RSZXN1bHQoKTtcblx0fTtcblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IHsgcGxhY2Vob2xkZXIgfSA9IHRoaXMucHJvcHM7XG5cdFx0Y29uc3QgeyBmb2N1c2VkLCBjdXJWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9e2JlbS5iKHsgZm9jdXNlZCB9KX0gcmVmPXtyZWYgPT4gKHRoaXMucmVmID0gcmVmKX0gb25DbGljaz17dGhpcy5vbkNsaWNrfT5cblx0XHRcdFx0PElucHV0U2luZ2xlTGluZVxuXHRcdFx0XHRcdHVzZU9TSz17dHJ1ZX1cblx0XHRcdFx0XHRmb2N1c2VkPXtmb2N1c2VkfVxuXHRcdFx0XHRcdHZhbHVlPXtjdXJWYWx1ZX1cblx0XHRcdFx0XHRtYXhMZW5ndGg9e21heFNlYXJjaFRlcm1MZW5ndGh9XG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT17YmVtLmUoJ3NlYXJjaC1vc2snKX1cblx0XHRcdFx0XHR2YWx1ZUNoYW5nZWQ9e3RoaXMub25WYWx1ZUNoYW5nZWR9XG5cdFx0XHRcdFx0b25CYWNrPXt0aGlzLm9uQmFja31cblx0XHRcdFx0XHRvbkRvbmU9e3RoaXMub25Eb25lfVxuXHRcdFx0XHQvPlxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgaXNHb2luZ0JhY2tUb1NlYXJjaCgpOiBib29sZWFuIHtcblx0XHRjb25zdCB7IGN1clBhZ2VUZW1wbGF0ZSwgaXNHb2luZ0JhY2sgfSA9IHRoaXMuY29udGV4dC5mb2N1c05hdjtcblx0XHRyZXR1cm4gY3VyUGFnZVRlbXBsYXRlID09PSBTZWFyY2ggJiYgaXNHb2luZ0JhY2s7XG5cdH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///956\n')},957:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jcmF2ZS90di9wYWdlL3NlYXJjaC9JbnB1dFdpdGhPU0suc2Nzcz9mZjI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijk1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///957\n")},958:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jcmF2ZS90di9wYWdlL3NlYXJjaC9JbnB1dFdpdGhWSy5zY3NzPzc2MTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOTU4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///958\n")},959:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jcmF2ZS90di9wYWdlL3NlYXJjaC9SZWNlbnRTZWFyY2hlcy5zY3NzPzlmNGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOTU5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///959\n")},960:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jcmF2ZS90di9wYWdlL3NlYXJjaC9TZWFyY2guc2Nzcz9kNmNlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijk2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///960\n")}}]);