(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1068:function(e,t,n){"use strict";n.r(t);var o=n(242),s=n(243),a=n(289),c=n(266),i=n(256),r=n(252),u=n(245),l=n(244),p=n(253),d=n(248),f=n(255),h=n(418),m=(n(985),new l.a("switch-profile")),v=function(e){function t(t){var n=e.call(this,t)||this;return n.restoreSavedState=function(e){var t=e;t&&n.setState({isFocused:t.isFocused})},n.setFocus=function(e){return n.setState({isFocused:e}),!0},n.exec=function(e){switch(e){case p.a.CLICK:return n.context.focusNav.showDialog(s.createElement(h.a,{account:n.props.account,mode:"check_profile"})),!0}return!1},n.handleMouseEnter=function(){n.context.focusNav.handleRowMouseEnter(n.focusableRow.index)},n.handleMouseLeave=function(){n.setFocus(!1)},n.handleMouseClick=function(){n.exec(p.a.CLICK)},n.state={isFocused:!1},n.focusableRow={focusable:!0,index:-9,height:1,ref:void 0,restoreSavedState:n.restoreSavedState,setFocus:n.setFocus,moveLeft:d.e,moveRight:d.e,moveUp:d.c,moveDown:d.c,exec:n.exec},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.context.focusNav.registerRow(this.focusableRow)},t.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},t.prototype.render=function(){var e=this;return s.createElement("button",{className:m.b({focused:!0}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleMouseClick},s.createElement(f.a,{id:"switch_profile"},(function(t){return s.createElement("div",{className:m.e("button",{focused:e.state.isFocused})},t)})))},t.contextTypes={focusNav:u.object.isRequired},t}(s.Component),b=n(521),g=n(247),x=n.n(g),_=n(246),y=(n(986),new l.a("account-hero")),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onRef=function(e){n.ref=e},("ah3"===t.type||t.list&&-1!==t.list.size&&0===t.list.items.length)&&(n.focusableRow=new p.c(10)),n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.focusableRow&&(this.focusableRow.height=_.a.ah3HeroHeight,this.focusableRow.ref=this.ref,this.focusableRow.template=this.props.template,this.context.focusNav.registerRow(this.focusableRow))},t.prototype.componentDidUpdate=function(){this.props.list&&-1!==this.props.list.size&&!this.focusableRow&&(this.focusableRow=new p.c(10),this.focusableRow.height=_.a.ah3HeroHeight,this.focusableRow.ref=this.ref,this.focusableRow.template=this.props.template,this.context.focusNav.registerRow(this.focusableRow))},t.prototype.componentWillUnmount=function(){this.focusableRow&&this.context.focusNav.unregisterRow(this.focusableRow)},t.prototype.render=function(){var e=this.props.profile,t=e&&e.info&&e.info.name;return s.createElement("div",{className:x()(y.b(),"full-bleed"),ref:this.onRef},t&&s.createElement(f.a,{id:"account_hero_greeting",values:{name:t}},(function(e){return s.createElement("div",{className:y.e("greeting")},e)})))},t.contextTypes={focusNav:u.object.isRequired},t}(s.Component),w=n(254);function Ah1Poster(e){return s.createElement(E,Object(o.a)({},e,{rowType:"ah1"}))}function Ah2Tile(e){return s.createElement(E,Object(o.a)({},e,{rowType:"ah2"}))}function Ah3Text(e){return s.createElement(E,Object(o.a)({},e,{rowType:"ah3"}))}Ah1Poster.template=w.Ah1Poster,Ah2Tile.template=w.Ah2Tile,Ah3Text.template=w.Ah3Text;var A4Profiles=n(582),U2Tile=n(372),U3Block=n(373),U4Square=n(374),Ed1Image=n(369),Ed2Text=n(370),k=n(250),S=n(320),N=n(269),R=(n(987),new l.a("a1")),I=function(e){function t(t){var n=e.call(this,t)||this;return n.setFocus=function(e){return n.setState({isFocused:e}),!0},n.handleMouseEnter=function(){n.context.focusNav.handleRowMouseEnter(n.focusableRow.index)},n.handleMouseLeave=function(){n.setFocus(!1)},n.accountLink=n.props.config.general.customFields&&n.props.config.general.customFields.BellActivationPageUrlSamsung,n.state={isFocused:!1},n.focusableRow={focusable:!0,index:10*(t.index+1),height:t.title?_.a.a1DetailHeight:_.a.a1DetailLessHeight,template:t.template,restoreSavedState:n.setState,setFocus:n.setFocus,moveLeft:d.e,moveRight:d.e,moveUp:d.c,moveDown:d.c,exec:d.c},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){var e=this.context.focusNav.getRowEntry(this.props.index);e||(e=this.ref),Object(N.a)(e,this.props.customFields),this.focusableRow.ref=this.ref,this.context.focusNav.registerRow(this.focusableRow)},t.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},t.prototype.render=function(){var e=this,t=this.props.intl.formatMessage;return this.accountLink||console.error("Account manager is null."),s.createElement("div",{className:R.b({focused:this.state.isFocused}),ref:function(t){return e.ref=t},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},s.createElement(S.a,Object(o.a)({},this.props)),s.createElement("div",{className:R.e("content")},t({id:"a1_details_content"}),s.createElement("span",{className:R.e("content","link")},this.accountLink)))},t.contextTypes={focusNav:u.object.isRequired},t}(s.Component);var M=Object(k.connect)((function(e){return{config:e.app.config}}),void 0,void 0,{withRef:!0})(Object(f.d)(I));M.template="A1Details";var C=M,A5ParentalLock=n(988),O=[Ah1Poster,Ah2Tile,Ah3Text,C,A4Profiles.a,A5ParentalLock.a,Ed1Image.a,Ed2Text.a,U2Tile.a,U3Block.a,U4Square.a],P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.render=function(){var e,t,n,o,a=this.props,c=a.account,i=a.profile,u=r.a.checkIsSignIn(c,i),l=(null===(t=null===(e=null==c?void 0:c.info)||void 0===e?void 0:e.profiles)||void 0===t?void 0:t.length)>1,p=(null===(o=null===(n=null==c?void 0:c.info)||void 0===n?void 0:n.subscriptions)||void 0===o?void 0:o.length)>0;return this.props.loading||!this.props.entries?null:s.createElement("div",{className:"pg-account"},l&&s.createElement(v,{account:c}),this.renderEntries(this.props),s.createElement(b.a,{account:c,promptSignEvent:this.props.promptSignOut,index:r.a.INDEX_CONFIG.ACCOUNT_BUTTONS,isSignin:u,hasSubscribe:p}))},t.prototype.renderEntries=function(e){var t=e.entries,n=e.renderEntry,o=e.account,s=e.profile,a=e.app;return(t||[]).map((function(e,t){return n(e,t,{account:o,profile:s,app:a})}))},t}(s.Component);t.default=Object(a.b)(P,{template:c.Account,entryRenderers:O,mapStateToProps:function(e){var t=e.account,n=e.profile,o=e.app;return{account:t,profile:n,pageLoading:e.page.loading,app:o}},mapDispatchToProps:function(e){return{promptSignOut:function(){return e(Object(i.G)())}}}})},323:function(e,t,n){"use strict";var o=n(242),s=n(243),a=n(245),c=n(244),i=n(251),r=n(248),u=n(364),l=n(286),p=(n(353),new c.a("empty-list-msg")),d=function(e){function t(t){var n=e.call(this,t)||this,s=t.index>=0?t.index:1;return n.state={focused:!1},n.focusableRow={focusable:!0,index:10*(s+1),dynamicHeight:!0,height:0,entryProps:Object(o.a)({id:"empty-list=".concat(t.title.toLowerCase()),template:""},t),restoreSavedState:function(){},setFocus:r.b.bind(n),moveLeft:r.e,moveRight:r.e,moveUp:r.c,moveDown:r.c,exec:r.d},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.focusableRow.ref=this.ref,this.focusableRow.height=this.props.rowHeight,this.context.focusNav.registerRow(this.focusableRow)},t.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},t.prototype.render=function(){var e=this,t=this.props,n=t.title,o=t.isUserList,a=this.state.focused;return s.createElement(i.a,{tagName:"div",innerRef:function(t){return e.ref=t},className:p.b({"user-list":o,focused:a}),tabIndex:0,role:Object(l.j)(),formattedAriaLabel:Object(u.a)(this.props)},s.createElement(i.a,{tagName:"div",className:p.e("title")},"@{".concat(n,"}")),this.renderMyCravingsInstructionsLabel())},t.prototype.renderMyCravingsInstructionsLabel=function(){var e=this.props,t=e.isBookmarksList,n=e.instructions,o=e.moreInstructions;return t?s.createElement("div",null,s.createElement(i.a,{className:p.e("instructions")},"@{".concat(n,"}")),s.createElement(i.a,{tagName:"div",className:p.e("img"),formattedAriaLabel:"@{my_cravings_my_list_empty_button_label}"}),s.createElement(i.a,{className:p.e("instructions")},"@{".concat(o,"}"))):s.createElement(i.a,{className:p.e("instructions")},"@{".concat(n,"}"))},t.contextTypes={focusNav:a.object.isRequired},t}(s.PureComponent);t.a=d},339:function(e,t,n){"use strict";var o=n(242),s=n(243),a=n(245),c=n(249),i=n(263),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.componentWillReceiveProps=function(e){e.list.items!==this.props.list.items&&this.context.detailHelper.profile&&Object(c.a)(this.context.detailHelper.profile,e.list.items)},t.prototype.render=function(){return s.createElement(i.a,Object(o.a)({},this.props))},t.fnName="UserList",t.contextTypes={detailHelper:a.object.isRequired},t}(s.Component);t.a=r},353:function(e,t,n){},372:function(e,t,n){"use strict";n.d(t,"a",(function(){return U2Tile}));var o=n(242),s=n(243),a=n(246),c=n(271),i=n(339),r=n(323);function U2Tile(e){var t=Object(o.a)(Object(o.a)({},e.customFields),{assetTitlePosition:"below"}),n=e.myCravings,u=e.list,l=e.loading,p=e.className,d=e.index;if(!l&&n){var f=null==u?void 0:u.items,h=f&&f.length,m=null==u?void 0:u.id;if(Object(c.r)(u))return null;var v=c.w[m],b=v.title,g=v.instructions;if(!h)return function(e,t,n,o,c){return s.createElement("div",{className:n},s.createElement("div",{className:"row-title"},o),s.createElement(r.a,{title:e,rowTitle:o,instructions:t,isUserList:!0,index:c,rowHeight:a.a.u2TileHeight}))}(b,g,p,e.title,d)}return s.createElement(i.a,Object(o.a)({},e,{customFields:t,imageType:["tile","wallpaper"],imageWidth:a.a.tileImageWidth,rowType:"t1",rowHeight:a.a.u2TileHeight,hideItemBadge:!0,additionalMetadata:!0,showProgressBar:!0}))}},373:function(e,t,n){"use strict";n.d(t,"a",(function(){return U3Block}));var o=n(242),s=n(243),a=n(246),c=n(339),i=n(254);function U3Block(e){return s.createElement(c.a,Object(o.a)({},e,{imageType:"block",imageWidth:a.a.tileImageWidth,rowType:"b1",rowHeight:a.a.u3BlockHeight}))}U3Block.template=i.U3Block},374:function(e,t,n){"use strict";n.d(t,"a",(function(){return U4Square}));var o=n(242),s=n(243),a=n(246),c=n(339),i=n(254);function U4Square(e){return s.createElement(c.a,Object(o.a)({},e,{imageType:"square",imageWidth:a.a.squareImageWidth,rowType:"s1",rowHeight:a.a.u4SquareHeight}))}U4Square.template=i.U4Square},397:function(e,t,n){"use strict";var o=n(242),s=n(243),a=n(245),c=n(244),i=n(247),r=n.n(i),u=n(248),l=n(255),p=n(251),d=n(246),f=(n(398),new c.a("titled-list")),h=function(e){function t(t){var n=e.call(this,t)||this;n.setFocus=function(e){return!0},n.moveUp=function(){var e=Object(u.g)(n.state.curIndex-1,0,n.state.maxIndex),t=n.calcPortraitPosition(e);return n.setState({curIndex:e,portraitPosition:t}),!0},n.moveDown=function(){var e=Object(u.g)(n.state.curIndex+1,0,n.state.maxIndex),t=n.calcPortraitPosition(e);return n.setState({curIndex:e,portraitPosition:t}),!0},n.exec=function(e){switch(e){case"click":var t=n.props.onItemClicked,o=n.state.curIndex;return t&&t(o),!0}return!1},n.onItemsRef=function(e){n.itemsRef=e},n.calcPortraitPosition=function(e){var t="0%",o=n.props.entries.length,s=Math.ceil(o/6),a=Math.floor(e/6);return a>0&&(a<s-1?t=-100*a+"%":n.itemsRef&&(t=-(n.itemsRef.scrollHeight-n.itemsRef.clientHeight)/n.itemsRef.clientHeight*100+"%")),t};var o=t.selectedKey&&t.entries.findIndex((function(e){return e.key===t.selectedKey}));return n.state={curIndex:-1!==o&&void 0!==o?o:0,isVisible:!1,maxIndex:t.entries.length-1,portraitPosition:"0%"},n.focusableRow={focusable:!0,index:-1,height:0,ref:void 0,restoreSavedState:function(){},setFocus:n.setFocus,moveLeft:u.e,moveRight:u.e,moveUp:n.moveUp,moveDown:n.moveDown,exec:n.exec},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){var e=this.calcPortraitPosition(this.state.curIndex);this.setState({portraitPosition:e})},t.prototype.componentWillReceiveProps=function(e){void 0!==e.isVisible&&this.state.isVisible!==e.isVisible&&(this.setState({isVisible:e.isVisible}),e.isVisible?this.context.focusNav.setFocus(this.focusableRow):this.context.focusNav.resetFocus()),e.entries&&this.setState({maxIndex:e.entries.length-1})},t.prototype.componentDidUpdate=function(){this.focusableRow.savedState=Object.assign({},this.state)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.entries,o=e.onItemClicked,a=e.needLocalization,c=this.state,i=c.curIndex,r=c.portraitPosition,l={styleTransform:Object(u.f)("-50%, ".concat(r),d.a.transitionDuration,0,!1),entries:n,curIndex:i,onItemClicked:o,needLocalization:a};return s.createElement("div",{className:f.b()},s.createElement("div",{className:f.e("titleDiv")},s.createElement(p.a,{tagName:"div",className:f.e("title")},t)),this.renderSortFilterDialog(l),s.createElement("div",{className:f.e("cover")}))},t.prototype.renderSortFilterDialog=function(e){var t=this,n=e.styleTransform,o=e.entries,a=e.curIndex,c=e.onItemClicked;return e.needLocalization?s.createElement("div",{className:f.e("items"),style:n,ref:this.onItemsRef},o&&o.map((function(e,n){return s.createElement(l.a,{id:e.label,key:"item-".concat(n)},(function(e){return s.createElement("div",{className:r()(f.e("item"),a===n?u.a:""),onMouseEnter:function(){t.setState({curIndex:n})},onClick:function(){c(n)}},e)}))}))):s.createElement("div",{className:f.e("items"),style:n,ref:this.onItemsRef},o&&o.map((function(e,n){return s.createElement("div",{key:"item-".concat(n),className:r()(f.e("item"),a===n?u.a:""),onMouseEnter:function(){t.setState({curIndex:n})},onClick:function(){c(n)}},e.label)})))},t.contextTypes={focusNav:a.object.isRequired},t.defaultProps={isVisible:!1},t}(s.Component);t.a=h},398:function(e,t,n){},521:function(e,t,n){"use strict";var o=n(242),s=n(243),a=n(250),c=n(245),i=n(247),r=n.n(i),u=n(244),l=n(312),p=n(252),d=n(286),f=n(383),h=n(265),m=(n(260),n(253)),v=n(248),b=n(278),g=n(251),x=n(295),_=n(492),y=(n(489),new u.a("account-buttons")),E=function(e){function t(t){var n=e.call(this,t)||this;return n.setFocus=function(e){var t=n.state.curIndex;return t=e?t>0?t:0:-1,n.setState({focused:e,curIndex:t}),!0},n.moveLeft=function(){return n.state.curIndex>0&&n.setState({curIndex:n.state.curIndex-1}),!0},n.moveRight=function(){var e=n.state,t=e.curIndex;return t<e.buttons.length-1&&n.setState({curIndex:t+1}),!0},n.getFocusedButtonType=function(){var e=n.state,t=e.curIndex,o=e.buttons;if(-1!==t)return o[t].key},n.exec=function(e){switch(e){case m.a.CLICK:switch(n.getFocusedButtonType()){case f.a.signIn:case f.a.signOut:n.props.promptSignEvent();break;case f.a.help:n.handleHelp();break;case f.a.support:n.handleSupport();break;case f.a.version:n.handleVersion();break;case f.a.subscribe:case f.a.manageAccount:n.handleManageAccount();break;case f.a.autoPlay:n.handleAutoPlay()}return!0}return!1},n.handleMouseClick=function(){return n.exec(m.a.CLICK)},n.handleSupport=function(){var e,t=n.context.intl,s="crave"===p.a.BRAND_NAME||"noovo"===p.a.BRAND_NAME||"ctv"===p.a.BRAND_NAME?{title:"",text:"@{account_privacy_policy_content_line2}",values:{link:t.formatMessage({id:"account_privacy_policy_link_2"})}}:{},a="noovo"===p.a.BRAND_NAME||"ctv"===p.a.BRAND_NAME?{title:"",text:"@{account_terms_condition_content_line2}",values:{link:t.formatMessage({id:"account_terms_condition_link"})}}:{},c="crave"===p.a.BRAND_NAME||"noovo"===p.a.BRAND_NAME||"ctv"===p.a.BRAND_NAME?{title:"",text:"@{account_privacy_policy_content_line2}",values:{link:Object(d.g)("account_privacy_policy_link_2",t)}}:{},i="noovo"===p.a.BRAND_NAME||"ctv"===p.a.BRAND_NAME?{title:"",text:"@{account_terms_condition_content_line2}",values:{link:Object(d.g)("account_terms_condition_link",t)}}:{},r=[{type:f.b.privacyPolicy,title:"@{account_privacy_policy_button_label|Privacy Policy}",text:"@{account_privacy_policy_content_line1}",values:{breakingLine:"\n",link:t.formatMessage({id:"account_privacy_policy_link_1"})}},Object(o.a)({},s),{type:f.b.termsConditions,title:"@{account_terms_condition_button_label|Terms & Conditions}",text:"@{account_terms_condition_content}",values:{breakingLine:"\n",link:t.formatMessage({id:"account_terms_condition_link"})}},Object(o.a)({},a)],u=[{type:f.b.privacyPolicy,title:"@{account_privacy_policy_button_label|Privacy Policy}",text:"@{account_privacy_policy_content_line1}",values:{breakingLine:"\n",link:Object(d.g)("account_privacy_policy_link_1",t)}},Object(o.a)({},c),{type:f.b.termsConditions,title:"@{account_terms_condition_button_label|Terms & Conditions}",text:"@{account_terms_condition_content}",values:{breakingLine:"\n",link:Object(d.g)("account_terms_condition_link",t)}},Object(o.a)({},i)],h=n.state.buttons[n.state.curIndex].getLabel(n.props.isSignin),m=(null===(e=null==h?void 0:h.replace("@{",""))||void 0===e?void 0:e.split("|")[0])||"";n.context.focusNav.analytics.triggerCtaClickEvent({type:l.c.Support,elementType:l.a.Button,position:l.b.Center,elementInnerText:n.props.strings[m]||""}),n.handleDialog(r,u)},n.handleHelp=function(){var e,t=n.context.intl,o=[{type:f.b.help,title:"@{account_help_button_label|Help}",text:"@{account_help_email_content|Having issues? Please email us at { help_email_address } or Call us at { help_phone_number }}",values:{help_email_address:"help@crave.ca",help_phone_number:"1-888-CRAVE88(272-8388)"}},{type:f.b.helpSite,text:"@{account_help_site_content}",values:{help_link:"crave.ca/help",breakingLine:"\n"}}],s=[{type:o[0].type,title:o[0].title,text:o[0].text,values:{help_email_address:Object(d.g)("account_help_email",t),help_phone_number:"1 8 8 8 2 7 2 8 3 8 8"}},{type:o[1].type,title:o[1].title,text:o[1].text,values:{help_link:Object(d.g)("account_help_link",t),breakingLine:"\n"}}],a=n.state.buttons[n.state.curIndex].getLabel(n.props.isSignin),c=(null===(e=null==a?void 0:a.replace("@{",""))||void 0===e?void 0:e.split("|")[0])||"";n.context.focusNav.analytics.triggerCtaClickEvent({type:l.c.Help,elementType:l.a.Button,position:l.b.Center,elementInnerText:n.props.strings[c]||""}),n.handleDialog(o,s)},n.handleVersion=function(){var e,t=n.context.intl,o={app_version:"".concat("0.0.0"," (").concat("feat/BTVAXIS-25233-switch-to-IMA-SDK",")").concat("")},s=[{type:f.b.version,title:"@{account_version_button_label|Version}",text:"@{account_version_content|Version {app_version}}",values:o}],a=[{type:f.b.version,title:"@{account_version_button_label|Version}",text:"@{account_version_content|Version {app_version}}",values:{app_version:Object(d.f)(o.app_version,t)}}],c=n.state.buttons[n.state.curIndex].getLabel(n.props.isSignin),i=(null===(e=null==c?void 0:c.replace("@{",""))||void 0===e?void 0:e.split("|")[0])||"";n.context.focusNav.analytics.triggerCtaClickEvent({type:l.c.Version,elementType:l.a.Button,position:l.b.Center,elementInnerText:n.props.strings[i]||""}),n.handleDialog(s,a)},n.handleAutoPlay=function(){n.context.focusNav.showDialog(s.createElement(_.a,{account:n.props.account,onBack:function(){return n.context.focusNav.hideDialog()}}))},n.handleManageAccount=function(){var e=n.context.intl,t=Object(h.i)()?"@{dh1_contact-provider_cravetv|Please contact your service provider to manage your account.}":"@{account_management_content|Please go to crave.ca to manage your account.}",o=[{type:f.b.manageAccount,title:"@{account_manage_account_title|".concat(" ","}"),text:t,values:{link:e.formatMessage({id:"account_management_link"})},key:"instructions"}],s=[{type:f.b.manageAccount,title:"@{account_manage_account_title|".concat(" ","}"),text:t,values:{link:Object(d.g)("account_management_link",e)},key:"instructions"}];n.handleDialog(o,s)},n.handleDialog=function(e,t){var o=n.context.intl,a=Object(d.h)(t||e,o);n.context.focusNav.showDialog(s.createElement(x.a,{captureFocus:!0,buttons:["@{ok|OK}"],onClose:n.context.focusNav.hideDialog,ariaLabel:a},e.map((function(e){return n.renderContent(e)}))))},n.handleMouseMove=function(e){var t=n.state.buttons.findIndex((function(t){return t.key===e}));n.setState({curIndex:t})},n.state={curIndex:-1,buttons:[]},n.focusableRow={focusable:!0,index:n.props.index||1,height:200,restoreSavedState:function(){},setFocus:n.setFocus,moveLeft:n.moveLeft,moveRight:n.moveRight,moveUp:v.c,moveDown:v.c,exec:n.exec},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.context.focusNav.registerRow(this.focusableRow),this.setState({buttons:p.a.getAccountButtons()})},t.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},t.prototype.componentWillReceiveProps=function(e){var t=this.props.isSignin;e.isSignin!==t&&this.setState({buttons:p.a.getAccountButtons()})},t.prototype.renderContent=function(e){var t=e.title,n=e.text,o=e.key,a=void 0===o?t:o,c=e.values,i=e.type;return s.createElement("div",{key:a,className:y.e("group",i)},t&&s.createElement(g.a,{tagName:"div",className:y.e("title")},t),s.createElement(g.a,{tagName:"div",className:y.e("text","blackBackground"),values:c},n))},t.prototype.render=function(){var e=this,t=this.props.isSignin,n=this.state.buttons,a=this.getFocusedButtonType(),c=t?y.e("signed-in-btn"):y.e("btn");return s.createElement(g.a,{tagName:"div",className:r()(y.b(),t&&y.e("signed-in"))},n.map((function(n){var i=n.buttonSettings,u=n.key,l=n.getLabel;return s.createElement(b.a,Object(o.a)({key:u,className:r()(c,a===u?"focused":""),label:l(t),index:u,onClick:e.handleMouseClick,onMouseEnter:e.handleMouseMove,onMouseLeave:e.handleMouseMove},i))})))},t.contextTypes={intl:c.object.isRequired,focusNav:c.object.isRequired},t}(s.Component);t.a=Object(a.connect)((function(e){return{strings:e.app.i18n.strings}}),void 0)(E)},985:function(e,t,n){},986:function(e,t,n){},987:function(e,t,n){},988:function(e,t,n){"use strict";(function(e){var o=n(242),s=n(243),a=n(250),c=n(245),i=n(244),r=n(254),u=n(247),l=n.n(u),p=n(253),d=n(248),f=n(255),h=n(989),m=n(397),v=n(288),b=n(287),g=n(269),x=n(246),_=(n(991),new i.a("a5")),y=function(t){function n(n){var o=t.call(this,n)||this;o.selectorArr=[],o.restoreSavedState=function(e){var t=e;t&&o.setState({isFocused:t.isFocused,pinEnabled:t.pinEnabled})},o.setFocus=function(e){return o.setState({isFocused:e}),!0},o.moveLeft=function(){var e=o.state.focusIndex;return 0!==e&&o.setState({focusIndex:e-1}),!0},o.moveRight=function(){var e=o.state,t=e.focusIndex,n=e.pinEnabled;return 0===t&&n&&o.setState({focusIndex:t+1}),!0},o.tryChangeParentalLock=function(e){var t=o.props,n=t.account,a=t.accountSettingsToken,c=!!a;c&&Object(b.t)(a)&&(c=!1),n&&!c?o.context.focusNav.showDialog(s.createElement(h.a,{hasPin:n.info.pinEnabled,close:e})):n.info.pinEnabled?e(!0):o.context.focusNav.showDialog(s.createElement(h.a,{baseState:"pin",hasPin:n.info.pinEnabled,close:e}))},o.exec=function(e){var t=o.state,n=t.focusIndex,a=t.pinEnabled;switch(e){case p.a.CLICK:return 0===n?(a?o.tryChangeParentalLock((function(e){e&&(o.props.setMinRatingPlaybackGuard(""),o.setState({pinEnabled:!1}))})):o.tryChangeParentalLock((function(e){e&&(o.props.setMinRatingPlaybackGuard(o.selectorArr[0].code),o.setState({pinEnabled:!0}))})),!0):(o.state.pinEnabled&&o.context.focusNav.showDialog(s.createElement(m.a,{title:"Classification",entries:o.selectorArr,selectedKey:o.props.minRatingPlaybackGuard,ref:o.context.focusNav.requestFocus,onItemClicked:o.onItemClickedSelector})),!0)}return!1},o.onItemClickedSelector=function(t){o.context.focusNav.hideDialog(),e((function(){if(-1===t)return!0;o.tryChangeParentalLock((function(e){if(e){var n=o.selectorArr[t].code;o.props.setMinRatingPlaybackGuard(n)}}))}))},o.handleMouseLeave=function(){o.setFocus(!1)},o.itemMouseEnter=function(e){o.context.focusNav.handleRowMouseEnter(o.focusableRow.index),o.setState({focusIndex:e})},o.mouseEnterLock=function(){o.itemMouseEnter(0)},o.mouseEnterSelectorBtn=function(){o.itemMouseEnter(1)},o.handleClickLock=function(){var e=o.state.pinEnabled;o.tryChangeParentalLock((function(t){t&&(e?(o.props.setMinRatingPlaybackGuard(""),o.setState({pinEnabled:!1})):(o.props.setMinRatingPlaybackGuard(o.selectorArr[0].code),o.setState({pinEnabled:!0})))}))},o.handleClickSelectorBtn=function(){o.exec(p.a.CLICK)},o.state={isFocused:!1,pinEnabled:!!n.account&&(n.account.info&&n.account.info.pinEnabled&&n.minRatingPlaybackGuard),focusIndex:0},o.focusableRow={focusable:!0,index:10*(n.index+1),height:n.title?x.a.a5ParentalLockHeight:x.a.a5ParentalLockLessHeight,template:n.template,restoreSavedState:o.restoreSavedState,setFocus:o.setFocus,moveLeft:o.moveLeft,moveRight:o.moveRight,moveUp:d.c,moveDown:d.c,exec:o.exec},o.selectorArr=[];var a=o.props.classification;for(var c in a)o.selectorArr.push({key:c,label:a[c].name,code:a[c].code});return o}return Object(o.c)(n,t),n.prototype.componentDidMount=function(){this.context.focusNav.registerRow(this.focusableRow);var e=this.context.focusNav.getRowEntry(this.props.index);e||(e=this.ref),Object(g.a)(e,this.props.customFields),this.focusableRow.ref=this.ref},n.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},n.prototype.render=function(){var e=this,t=this.state,n=t.isFocused,o=t.pinEnabled,a=t.focusIndex;return s.createElement("div",{className:_.b(),ref:function(t){return e.ref=t}},s.createElement("div",{className:_.e("title")},this.props.title),s.createElement("div",{className:_.e("lock",{focused:n&&0===a}),onMouseEnter:this.mouseEnterLock,onMouseLeave:this.handleMouseLeave,onClick:this.handleClickLock},s.createElement(f.a,{id:"switch_on"},(function(e){return s.createElement("div",{className:_.e("on")},e)})),s.createElement(f.a,{id:"switch_off"},(function(e){return s.createElement("div",{className:_.e("off")},e)})),s.createElement("div",{className:_.e("mask",{on:o,focused:n})})),this.state.pinEnabled&&this.renderSelectorButton())},n.prototype.renderSelectorButton=function(){var e=this.state,t=e.isFocused,n=e.focusIndex,o=this.props.minRatingPlaybackGuard,a=this.selectorArr.find((function(e){return e.code===o})),c="";return a&&(c=a.label),s.createElement("div",{className:_.e("selector")},s.createElement(f.a,{id:"a5_parentalLock_text"},(function(e){return s.createElement("div",{className:_.e("text")},e)})),s.createElement("div",{className:_.e("dropBtn",{focused:t&&1===n}),onMouseEnter:this.mouseEnterSelectorBtn,onMouseLeave:this.handleMouseLeave,onClick:this.handleClickSelectorBtn},s.createElement(f.a,{id:"a5_parentalLock_select"},(function(e){return s.createElement("span",{className:_.e("pg")},c||e)})),s.createElement("i",{className:l()(_.e("icon"),"icon icon-drop-button")})))},n.contextTypes={focusNav:c.object.isRequired},n}(s.Component);var A5ParentalLock=Object(a.connect)((function(e){var t,n,o=e.app.config.classification;if(e.session.tokens)for(var s=0;s<e.session.tokens.length;s++)"Settings"===(n=e.session.tokens[s]).scope&&"UserAccount"===n.type&&(t=n);return{minRatingPlaybackGuard:e.account.info&&e.account.info.minRatingPlaybackGuard,classification:o,accountSettingsToken:t}}),(function(e){return{setMinRatingPlaybackGuard:function(t){return e(Object(v.n)(t))}}}))(y);A5ParentalLock.template=r.A5ParentalLock,t.a=A5ParentalLock}).call(this,n(294).setImmediate)},989:function(e,t,n){"use strict";(function(e){var o=n(242),s=n(243),a=n(247),c=n.n(a),i=n(245),r=n(250),u=n(244),l=n(581),p=n(273),d=n(256),f=n(288),h=n(264),m=n(255),v=n(487),b=n(259),g=n(490),x=(n(990),"enter-password-modal"),_=new u.a(x),y=b.a.hasOSK(),E=function(t){function n(n){var o=t.call(this,n)||this;return o.setFocus=function(e){return!0},o.moveUp=function(){var e=o.state.selectedIndex;return o.props.clearError(),e>0&&o.setState({selectedIndex:0,showOSK:y}),!0},o.moveDown=function(){var e=o.state,t=e.selectedIndex,n=e.curValue;return 0===t&&(n?o.setState({selectedIndex:1,showOSK:!1}):o.setState({selectedIndex:2,showOSK:!1})),!0},o.moveLeft=function(){var e=o.state,t=e.selectedIndex,n=e.curValue;return 2===t&&n&&o.setState({selectedIndex:1}),!0},o.moveRight=function(){return 1===o.state.selectedIndex&&o.setState({selectedIndex:2}),!0},o.exec=function(e){var t=o.state,n=t.curValue,s=t.selectedIndex,a=t.curMode;switch(e){case"click":return"password"===a&&(0===s?y&&o.setState({showOSK:!0}):y&&o.setState({showOSK:!1}),1===s?n&&o.props.checkAccountPassword(n):2===s&&o.close(!1)),!0;case"del":if("pin"===a)o.pinInput.handleInput("del");else if(0===s&&n.length>0){var c=o.state.curValue.substr(1);o.setState({curValue:c})}break;case"esc":o.setState({showOSK:!1}),o.close(!1);break;default:if("pin"===a){(i=Number.parseInt(e))>=0&&i<=9&&o.pinInput.handleInput(e),y&&o.pinInput.handleInput("A")}else{if(n.length>=32)return;var i;(i=e.charCodeAt(0))>=v.a.CHAR_START&&i<=v.a.CHAR_END&&(o.setState({curValue:o.state.curValue+e}),o.props.clearError())}}return!0},o.close=function(e){o.props.isEditingProfile||o.context.focusNav.hideDialog(),o.props.close&&o.props.close(e)},o.onPinInputDone=function(e){o.props.createPin(e)},o.onPinInputCancel=function(){o.close(!1)},o.onPasswordInputCancel=function(){e((function(){o.setState({selectedIndex:2,showOSK:!1})}))},o.onPasswordInputDone=function(t){e((function(){o.setState({selectedIndex:1,showOSK:!1})})),o.props.checkAccountPassword(t)},o.onValueChanged=function(e){var t=e.trim();t.length>32||(o.setState({curValue:t}),o.props.clearError())},o.onMouseClick=function(){o.state.showOSK||o.setState({showOSK:!0,selectedIndex:0})},o.mouseEnterInput=function(){o.setState({selectedIndex:0})},o.mouseEnterConfirmBtn=function(){o.state.curValue&&o.setState({selectedIndex:1})},o.mouseEnterCancelBtn=function(){o.setState({selectedIndex:2})},o.clickConfirmBtn=function(){o.state.curValue&&(o.props.checkAccountPassword(o.state.curValue),o.setState({selectedIndex:1,showOSK:!1}))},o.clickCancelBtn=function(){o.close(!1)},o.renderErrorMessage=function(e){return s.createElement("div",{className:_.e("message",{useOSK:y}),key:"errorMsg"},o.renderErrorMessageTips("enter_password_error_tips",!!e),o.renderErrorMessageTips("enter_password_error_reset",!!e,o.props.websiteUrl))},o.renderErrorMessageTips=function(e,t,n){var o=n?n+"/signin":"";return s.createElement(m.a,{id:e,values:{urlSignin:o}},(function(e){return s.createElement("div",{className:_.e("error",{show:t})},e)}))},o.state={selectedIndex:0,curValue:"",errorMsg:"",curMode:n.baseState||"password",pinMsg:"",showOSK:!0},o.focusableRow={focusable:!1!==n.focusable,index:-1,height:0,ref:void 0,restoreSavedState:function(){},setFocus:o.setFocus,moveLeft:o.moveLeft,moveRight:o.moveRight,moveUp:o.moveUp,moveDown:o.moveDown,exec:o.exec},o}return Object(o.c)(n,t),n.prototype.componentDidMount=function(){var e=this;!1!==this.props.focusable?this.context.focusNav.setFocus(this.focusableRow):this.props.onFocusableRowCreated&&this.props.onFocusableRowCreated(this.focusableRow),this.context.focusNav.addEventHandler(p.b.KEYBOARD_VISIBILITY_CHANGE,x,(function(t){e.setState({showOSK:!!t})}))},n.prototype.componentWillUnmount=function(){!1!==this.props.focusable&&this.context.focusNav.resetFocus(),this.context.focusNav.removeEventHandler(p.b.KEYBOARD_VISIBILITY_CHANGE,x)},n.prototype.componentWillReceiveProps=function(e){if(e.error&&e.error.length>0){var t=e.error[e.error.length-1],n="";t&&(n=t.payload?t.payload.message:t),this.setState({errorMsg:n,selectedIndex:0,curValue:"",showOSK:!1})}else this.state.errorMsg&&this.setState({errorMsg:""});e.accountSettingsToken&&e.accountSettingsToken!==this.props.accountSettingsToken&&(this.props.hasPin?this.close(!0):this.setState({curMode:"pin"})),this.props.pinEnabled!==e.pinEnabled&&this.close(!0)},n.prototype.render=function(){for(var e=this.state,t=e.selectedIndex,n=e.curValue,o=e.errorMsg,a=e.curMode,c=e.showOSK,i="",r=!1,u=0;u<n.length;u++)i+="*";return"password"===a&&0===t&&(r=!0),s.createElement("div",{className:_.b()},"password"===a&&[this.renderPasswordMode(r,i,t,c),this.renderErrorMessage(o)],"pin"===a&&!this.props.hasPin&&this.renderPinMode())},n.prototype.renderPasswordMode=function(e,t,n,o){var a=this;return s.createElement("div",{className:_.e("content",{useOSK:y}),key:"modeContent"},s.createElement(m.a,{id:"enter_password_title"},(function(e){return s.createElement("div",{className:_.e("title")},e)})),s.createElement("div",{className:_.e("input"),onClick:this.onMouseClick},s.createElement(g.a,{focused:e,value:t,useOSK:y,showOSK:o,placeholder:"enter_password_placeholder",isPasswordMode:!0,onBack:this.onPasswordInputCancel,onDone:this.onPasswordInputDone,clearError:this.props.clearError,valueChanged:this.onValueChanged,onMouseClick:this.onMouseClick,onMouseEnter:this.mouseEnterInput,autoGoback:!1})),s.createElement("div",{className:_.e("controls")},s.createElement(m.a,{id:"enter_password_confirm"},(function(e){return s.createElement("div",{className:c()(_.e("confirm"),1===n?"focused":"",a.state.curValue?"":"disable"),onMouseEnter:a.mouseEnterConfirmBtn,onClick:a.clickConfirmBtn},e)})),s.createElement(m.a,{id:"cancel"},(function(e){return s.createElement("div",{className:c()(_.e("cancel"),2===n?"focused":""),onMouseEnter:a.mouseEnterCancelBtn,onClick:a.clickCancelBtn},e)}))))},n.prototype.renderPinMode=function(){var e=this,t=this.state.pinMsg;return s.createElement("div",{className:_.e("content"),onClick:this.onMouseClick},s.createElement(l.a,{ref:function(t){return e.pinInput=t},mode:"create",className:_.e("pin"),useOSK:y,pinMsg:t,onDone:this.onPinInputDone,onCancel:this.onPinInputCancel}))},n.contextTypes={focusNav:i.object.isRequired},n}(s.Component);t.a=Object(r.connect)((function(e){var t,n,o;if(e.session.tokens)for(var s=0;s<e.session.tokens.length;s++)"Settings"===(n=e.session.tokens[s]).scope&&"UserAccount"===n.type&&(t=n);return{error:(o=e.app.erroredActions,o.reduce((function(e,t){return t.type===f.b&&e.push(t),e}),[])),accountSettingsToken:t,pinEnabled:e.account.info.pinEnabled,websiteUrl:e.app.config.general.websiteUrl}}),(function(e){return{cancel:function(){return e(Object(d.s)())},checkAccountPassword:function(t){return e(Object(f.h)(t))},createPin:function(t){return e(Object(f.j)({pin:t}))},clearError:function(){return e(Object(h.h)())}}}))(E)}).call(this,n(294).setImmediate)},990:function(e,t,n){},991:function(e,t,n){}}]);