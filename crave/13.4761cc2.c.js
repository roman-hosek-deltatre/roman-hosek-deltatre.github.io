(window.webpackJsonp=window.webpackJsonp||[]).push([[13,0],{1067:function(e,t,n){"use strict";n.r(t);var i,o=n(242),r=n(243),a=n(289),c=n(486),s=n(400),u=n(255),l=n(250),d=n(319),p=n(354),m=n(244),h=(n(944),new m.a("empty-list-message")),f=function(e){var t=e.imageUrl,n=e.instructions,i=e.title;return r.createElement("div",{className:h.b()},r.createElement("img",{className:h.e("image"),src:t,alt:""}),r.createElement("h1",{className:h.e("title")},i),r.createElement("p",{className:h.e("instructions")},n))},v=n(307),g=n(246),b=n(948),y=function(e){function t(t){var n=e.call(this,t)||this;return n.disposed=!1,n.fetchPage=function(e){return Object(d.d)({device:n.props.device,page:e,pageSize:18,sub:n.props.subscriptionCode}).then((function(t){n.disposed||n.setState((function(n){return Object(o.a)(Object(o.a)({},n),{pages:n.pages.filter((function(t){return t.paging.page!==e})).concat(t.data)})}))}),(function(e){console.error(e),n.setState({pages:[]})}))},n.state={pages:[]},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.fetchPage(1)},t.prototype.componentWillUnmount=function(){this.disposed=!0},t.prototype.render=function(){var e=this.state.pages;if(0===e.length)return r.createElement("div",null);var t=Object(p.a)(e);return 0===t.items.length?r.createElement(f,{imageUrl:b,title:r.createElement(u.a,{id:"my_library_empty_bookmarks_title"}),instructions:r.createElement(u.a,{id:"my_library_empty_bookmarks_instructions"})}):r.createElement(v.a,{autoFocus:!1,customFields:{},id:"Bookmarks",imageType:"poster",index:this.props.index,list:t,location:this.props.location,imageWidth:g.a.posterImageWidth,itemsPerRow:6,loadNextPage:this.fetchPage,template:"CS1",title:"Bookmarks",isUserList:!0})},t}(r.PureComponent),w=Object(l.connect)((function(e){return{device:e.app.contentFilters.device,list:void 0!==e.cache.list.Bookmarks?e.cache.list.Bookmarks.list:void 0,location:e.page.history.location,subscriptionCode:e.account.info&&e.account.info.subscriptionCode}}))(y),E=n(949),O=g.a.continueWatchingItemMargin,N=function(e){function t(t){var n=e.call(this,t)||this;return n.disposed=!1,n.fetchPage=function(e){var t=n.props,i=t.device,o=t.subscriptionCode;return Object(d.g)({device:i,page:e,pageSize:12,sub:o}).then((function(t){n.disposed||n.setState((function(n){return{pages:n.pages.filter((function(t){return t.paging.page!==e})).concat(t.data)}}))}),(function(e){console.error(e),n.setState({pages:[]})}))},n.getList=function(){var e=n.state.pages;return Object(p.a)(e)},n.state={pages:[]},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.fetchPage(1)},t.prototype.componentWillUnmount=function(){this.disposed=!0},t.prototype.render=function(){var e,t=this.state.pages,n=this.props,i=n.profile,o=n.location,a=n.index;if(!t.length)return r.createElement("div",null);var c=this.getList();return(null===(e=null==c?void 0:c.items)||void 0===e?void 0:e.length)?r.createElement(v.a,{autoFocus:!1,customFields:{assetTitlePosition:"below"},id:"ContinueWatching",imageType:"tile",index:a,list:c,location:o,imageWidth:g.a.tileImageWidth,itemsPerRow:4,loadNextPage:this.fetchPage,profile:i,template:"CS2",title:"Continue Watching",isUserList:!0,itemMargin:O,showEpisodeMetadata:!0,rowType:"continue-watching"}):r.createElement(f,{imageUrl:E,instructions:r.createElement(u.a,{id:"my_library_empty_continue_watching_instructions"}),title:r.createElement(u.a,{id:"my_library_empty_continue_watching_title"})})},t}(r.PureComponent),_=Object(l.connect)((function(e){var t,n,i,o,r,a,c,s,u=null===(n=null===(t=null==e?void 0:e.cache)||void 0===t?void 0:t.list)||void 0===n?void 0:n.ContinueWatching;return{device:null===(o=null===(i=null==e?void 0:e.app)||void 0===i?void 0:i.contentFilters)||void 0===o?void 0:o.device,list:void 0!==u?u.list:void 0,location:null===(a=null===(r=null==e?void 0:e.page)||void 0===r?void 0:r.history)||void 0===a?void 0:a.location,subscriptionCode:null===(s=null===(c=null==e?void 0:e.account)||void 0===c?void 0:c.info)||void 0===s?void 0:s.subscriptionCode,profile:null==e?void 0:e.profile}}))(N),j=n(245),C=n(247),T=n.n(C),k=n(253),x=n(251),I=n(248),S=(n(950),new m.a("my-library-sign-in-view")),D=function(e){function t(t){var n=e.call(this,t)||this;return n.exec=function(e){switch(e){case k.a.CLICK:return n.handleClick(),!0}return!1},n.handleClick=function(){n.context.detailHelper.promptSignIn()},n.setFocus=function(e){return n.setState({isFocused:e}),!0},n.focusableRow={focusable:!0,index:t.index,height:g.a.myLibrarySignInHeight,restoreSavedState:function(){},setFocus:n.setFocus,moveLeft:I.e,moveRight:I.e,moveUp:I.c,moveDown:I.c,exec:n.exec},n.state={isFocused:!1},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.context.focusNav.registerRow(this.focusableRow)},t.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},t.prototype.render=function(){return r.createElement("div",{className:S.b()},r.createElement(x.a,{tagName:"div",className:S.e("sign-in-title")},"@{my_library_unsigned_title|You are not signed in}"),r.createElement(x.a,{tagName:"div",className:S.e("sign-in-sub-title")},"@{my_library_unsigned_subtitle|Please sign in to access My Library}"),this.renderSignInButton())},t.prototype.renderSignInButton=function(){var e=this.state.isFocused;return r.createElement("button",{onClick:this.handleClick,className:T()(S.e("sign-in-button"),"cta-btn",e?I.a:"")},r.createElement("div",{className:"button-content"},r.createElement("span",{className:"sign-in-button-lock-icon"}),r.createElement(x.a,{tagName:"span"},"@{signin|Sign In}")))},t.contextTypes={focusNav:j.object.isRequired,detailHelper:j.object.isRequired},t}(r.Component),L=(n(951),new m.a("tabbed-content")),P=function(e){function t(t){var n=e.call(this,t)||this;return n.getCurrentTabId=function(){var e=n.props,t=e.location,i=e.tabs,o=t.query.currentTab;return void 0===o?i[0].id:o},n.getCurrentTabIndex=function(){var e=n.props.tabs,t=n.getCurrentTabId();return e.findIndex((function(e){return e.id===t}))},n.getCurrentTab=function(){var e=n.props.tabs,t=n.getCurrentTabId();return e.find((function(e){return e.id===t}))},n.setFocus=function(e){return n.setState({isFocused:e}),!0},n.moveLeft=function(){var e=n.props.tabs,t=n.getCurrentTabIndex();return 0!==t&&(n.setCurrentTab(e[t-1].id),!0)},n.moveRight=function(){var e=n.props.tabs,t=n.getCurrentTabIndex();return t!==e.length-1&&(n.setCurrentTab(e[t+1].id),!0)},n.setCurrentTab=function(e){var t=n.props.location;n.context.router.push("".concat(t.pathname,"?currentTab=").concat(e))},n.state={isFocused:!1},n.focusableRow={focusable:!0,index:t.index,height:g.a.tabbedContentTabsHeight,restoreSavedState:function(){},setFocus:n.setFocus,moveLeft:n.moveLeft,moveRight:n.moveRight,moveUp:I.c,moveDown:I.c,exec:I.d},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.context.focusNav.registerRow(this.focusableRow)},t.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},t.prototype.componentDidUpdate=function(e){var t=this.props.location.query.currentTab;void 0!==t&&t!==e.location.query.currentTab&&this.context.focusNav.checkFocus(this.focusableRow)},t.prototype.render=function(){var e=this,t=this.props.tabs,n=this.getCurrentTab();return r.createElement("div",{className:L.b()},r.createElement("div",{className:L.e("tabs")},t.map((function(t){return r.createElement("div",{key:t.id,className:L.e("tab-item",{active:n===t&&e.state.isFocused})},t.title)}))),n.renderer(this.props.index+1))},t.contextTypes={focusNav:j.object.isRequired,router:j.object.isRequired},t}(r.PureComponent),M=Object(l.connect)((function(e){return{location:e.page.history.location}}))(P),R=n(952),F=function(e){function t(t){var n=e.call(this,t)||this;return n.disposed=!1,n.fetchPage=function(e){var t=n.props,i=t.device,o=t.subscriptionCode;return Object(d.r)({device:i,page:e,orderBy:"date-modified",order:"desc",pageSize:18,sub:o}).then((function(t){n.disposed||n.setState((function(n){return{pages:n.pages.filter((function(t){return t.paging.page!==e})).concat(t.data)}}))}),(function(e){console.error(e),n.setState({pages:[]})}))},n.getList=function(){var e=n.state.pages;return Object(p.a)(e)},n.state={pages:[]},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.fetchPage(1)},t.prototype.componentWillUnmount=function(){this.disposed=!1},t.prototype.render=function(){var e,t=this.state.pages,n=this.props,i=n.profile,o=n.location,a=n.index;if(!t.length)return r.createElement("div",null);var c=this.getList();return(null===(e=null==c?void 0:c.items)||void 0===e?void 0:e.length)?r.createElement(v.a,{autoFocus:!1,customFields:{assetTitlePosition:"below"},id:"WatchHistory",imageType:"poster",index:a,list:c,location:o,imageWidth:g.a.posterImageWidth,itemsPerRow:6,loadNextPage:this.fetchPage,profile:i,template:"CS1",title:"Watch History",isUserList:!0,showEpisodeMetadata:!0,rowType:"watch-history"}):r.createElement(f,{imageUrl:R,instructions:r.createElement(u.a,{id:"my_library_empty_watch_history_instructions"}),title:r.createElement(u.a,{id:"my_library_empty_watch_history_title"})})},t}(r.PureComponent),W=Object(l.connect)((function(e){var t,n,i,o,r,a,c,s,u=null===(n=null===(t=null==e?void 0:e.cache)||void 0===t?void 0:t.list)||void 0===n?void 0:n.Watched;return{device:null===(o=null===(i=null==e?void 0:e.app)||void 0===i?void 0:i.contentFilters)||void 0===o?void 0:o.device,list:void 0!==u?u.list:void 0,location:null===(a=null===(r=null==e?void 0:e.page)||void 0===r?void 0:r.history)||void 0===a?void 0:a.location,subscriptionCode:null===(s=null===(c=null==e?void 0:e.account)||void 0===c?void 0:c.info)||void 0===s?void 0:s.subscriptionCode,profile:null==e?void 0:e.profile}}))(F);!function(e){e.ContinueWatching="continue",e.MyList="mylist",e.WatchHistory="history"}(i||(i={}));var U,B=Object(u.d)((function(e){var t,n=e.activeProfile,o=e.intl,a=e.metadata,c=void 0!==n,s=(a&&a.keywords?a.keywords:[]).filter((function(e){return Object.values(i).some((function(t){return t===e}))})),u=((t={})[i.ContinueWatching]={component:_,title:o.formatMessage({id:"my_library_continue_watching"})},t[i.MyList]={component:w,title:o.formatMessage({id:"my_library_my_list"})},t[i.WatchHistory]={component:W,title:o.formatMessage({id:"my_library_watch_history"})},t),l=s.map((function(e){var t=u[e],n=t.component;return{id:e,title:t.title,renderer:function(e){return c?r.createElement(n,{index:e}):r.createElement(D,{index:e})}}}));return 0===l.length?r.createElement("div",null):r.createElement("div",{className:"content-margin"},r.createElement(M,{index:1,tabs:l}))})),H=n(416);!function(e){e["crave hbo"]="crave_hbo",e["crave showtime"]="crave_showtime",e["crave starz"]="crave_starz",e["crave wow world"]="crave_wow_world",e["crave vice"]="crave_vice",e["crave original"]="crave_original",e.crave_bbc="crave_bbc",e["crave comedy central"]="crave_comedy_central",e["crave kids"]="crave_kids",e["crave super ecran"]="crave_super_ecran",e["crave holiday english"]="crave_holiday_english",e["crave holiday french"]="crave_holiday_french",e["crave de chez nous"]="crave_de_chez_nous",e["crave jeunesse"]="crave_jeunesse",e["crave tout en francais"]="crave_tout_en_francais",e["crave tout en anglais"]="crave_tout_en_anglais"}(U||(U={}));var q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.render,n=e.destination;return t({destinationCode:U[n]})},t}(r.PureComponent),z=(n(953),new m.a("category-channel-logo")),A=function(e){function t(t){var n=e.call(this,t)||this;return n.onRef=function(e){n.ref=e},n.focusableRow=new k.c(1),n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.focusableRow.ref=this.ref,this.focusableRow.height=g.a.showsChannelLogoHeight},t.prototype.render=function(){var e=this;return r.createElement(q,{destination:this.props.destination,render:function(t){var n=t.destinationCode;return r.createElement("div",{className:z.b(),ref:e.onRef},r.createElement(H.a,{destination:n}))}})},t}(r.Component),G=n(323),J=(n(954),new m.a("my-cravings")),K=function(e){function t(t){return e.call(this,t)||this}return Object(o.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.activeProfile,n=e.renderEntries,i={myCravings:!0,className:J.e("empty-user-list"),isUserList:!0};return r.createElement("div",{className:"content-margin"},r.createElement("div",{className:J.b()},!t&&this.renderSignInMessage(),n(i)))},t.prototype.renderSignInMessage=function(){return r.createElement("div",{className:J.e("sign-in-msg")},r.createElement(G.a,{title:"my_cravings_login_title",instructions:"my_cravings_login_instructions"}))},t}(r.PureComponent),V=Object(l.connect)((function(e){return{loading:0!==Object.keys(e.list.loading).length}}),void 0)(K);t.default=Object(a.b)((function(e){var t,n=e.location,i=e.renderEntries,a=e.metadata;if(Object(c.b)(n))return r.createElement(B,Object(o.a)({},e));if(Object(c.a)(n))return r.createElement(V,Object(o.a)({},e));var s=null===(t=null==a?void 0:a.keywords)||void 0===t?void 0:t[0],u=s?s.toLowerCase():"";return r.createElement("div",{className:"content-margin"},u&&r.createElement(A,{destination:u}),i())}),{template:"Category",entryRenderers:s.a})},354:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(242);function o(e){var t=e.sort((function(e,t){return e.paging.page-t.paging.page})),n=t[t.length-1],o=t.map((function(e){return e.items})).reduce((function(e,t){return e.concat(t)}));return Object(i.a)(Object(i.a)({},n),{items:o})}},393:function(e,t,n){},399:function(e,t,n){"use strict";var i=n(242),o=n(243),r=n(250),a=n(244),c=n(266),s=n(254),u=n(292),l=n(320),d=n(451),p=n(247),m=n.n(p),h=n(298),f=n(285),v=n(445),g=n(439),b=n(440),y=n(441),w=n(442),E=(n(512),new a.a("epg3-item")),O=["movie","program","episode"],N=function(e){function t(t){var n=e.call(this,t)||this;return n.state={airing:!1},n}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){this.updateAiring()},t.prototype.componentWillReceiveProps=function(){this.setState({airing:!1},this.updateAiring)},t.prototype.componentWillUnmount=function(){this.timer&&window.clearTimeout(this.timer)},t.prototype.updateAiring=function(){var e=this;this.timer&&window.clearTimeout(this.timer);var t=this.props.currentProgram;if(t&&t.item&&!t.blackout){var n=t.startDate,i=Date.now();Object(f.j)(t)?this.setState({airing:!0}):i<n.getTime()&&(this.timer=window.setTimeout((function(){e.setState({airing:!0})}),n.getTime()-i))}},t.prototype.render=function(){var e=this.props,t=e.item,n=e.currentProgram,r=e.imageOptions,a=e.imageType,c=e.className,s=e.itemMargin,u=e.channelColor,l=e.channelLogo,d=this.state.airing;if(!n||!n.item||n.blackout||!d)return this.renderNoSchedule();var p=n.startDate,v=n.endDate,N=n.item,_=N.type,j=N.title,C=N.showTitle,T=N.seasonNumber,k=N.episodeNumber,x=N.duration,I=!O.includes(_),S=Object(f.i)(n.item);return o.createElement("div",{className:m()(E.b(),c),style:{margin:"".concat(s/2,"px ").concat(s,"px 0 0")}},o.createElement(h.a,Object(i.a)({},this.props,{className:E.e("item",{isBlackout:I}),item:I?{}:n.item,imageType:a,imageOptions:r,titlePosition:"none",itemMargin:0,isLastItem:!1}),!I&&o.createElement("div",{className:E.e("cover")}),!I&&o.createElement(w.a,null),o.createElement(b.a,{logo:l,title:t.channelShortCode,color:u}),!I&&o.createElement(g.a,{startDate:p,endDate:v,duration:x,color:u})),o.createElement(y.a,{title:j,season:T,episode:k,isBlackout:I,isEpisode:S,showTitle:C,airing:!I,startDate:p,endDate:v,showOnNowTitle:!1}))},t.prototype.renderNoSchedule=function(){var e=this.props,t=e.item,n=e.imageOptions,r=e.imageType,a=e.className,c=e.itemMargin,s=e.channelColor,u=e.channelLogo;return o.createElement("div",{className:m()(E.b(),a),style:{margin:"".concat(c/2,"px ").concat(c,"px 0 0")}},o.createElement(h.a,Object(i.a)({},this.props,{className:E.e("item",{isBlackout:!0}),item:{},imageType:r,imageOptions:n,titlePosition:"none",itemMargin:0,isLastItem:!1}),o.createElement(b.a,{logo:u,title:t.channelShortCode,color:s})),o.createElement(y.a,{title:"",isBlackout:!0,airing:!1,isEpisode:!1,showOnNowTitle:!1}))},t}(o.PureComponent),_=Object(v.a)(2,f.a)(N),j=n(443),C=n(246),T=n(251),k=n(478),x=(n(514),new a.a("live-schedule-metadata")),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.startDate,i=t.endDate,r=t.episode;return o.createElement(k.a,{startDate:n,endDate:i,render:function(t){var n=t.scheduleTimeMetadata;return o.createElement("div",{className:x.b()},e.renderTime(n),e.renderTitle(),r&&e.renderEpisodeSubtitle(),!r&&e.renderMovieSubtitle())}})},t.prototype.renderTime=function(e){return!this.props.isBlackout&&o.createElement("div",{className:x.e("time")},e)},t.prototype.renderTitle=function(){var e=this.props.name;return o.createElement("div",{className:m()(x.e("title"))},e)},t.prototype.renderMovieSubtitle=function(){return o.createElement("div",{className:x.e("subtitle")})},t.prototype.renderEpisodeSubtitle=function(){var e=this.props,t=e.season,n=e.episode,i=e.isBlackout,r=e.title;return!i&&(t?o.createElement(T.a,{tagName:"div",className:x.e("subtitle"),values:{season:t,episode:n,title:r}},"@{live_item_schedule_season_title|S{season} E{episode} - {title}"):!(t||!n)&&o.createElement(T.a,{tagName:"div",className:x.e("subtitle"),values:{episode:n,title:r}},"@{live_item_schedule_episode_title|E{episode} - {title}"))},t.defaultProps={title:"",isBlackout:!1},t}(o.Component),S=(n(515),new a.a("live-epg3-item")),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.imageOptions,r=e.imageType,a=e.className,c=e.itemMargin,s=e.isLastItem,u=t.title,l=t.customFields&&t.customFields.itemSchedule,d=l.name,p=l.seasonNo,f=l.episodeNumber,v=l.startDate,g=l.endDate,b=l.isBlackedOut;return o.createElement("div",{className:m()(S.b(),a),style:{margin:"".concat(c/2,"px ").concat(s?0:c,"px 0 0")}},o.createElement(h.a,Object(i.a)({},this.props,{className:S.e("item",{isBlackedOut:b}),item:b?{}:t,imageType:r,imageOptions:n,titlePosition:"none",itemMargin:0})),o.createElement(I,{name:d,title:u,season:p,episode:f,isBlackout:b,startDate:v,endDate:g,item:t}))},t}(o.PureComponent),L=new a.a("epg3"),P=function(e){function Epg3(t){var n=e.call(this,t)||this;return n.convertEpg3List=function(e){var t=e.list,o=e.customFields,r=e.config,a=[];if(o&&o.isCtvCustom)a=t.items.filter((function(e){return"program"===e.type}));else if((a=t.items.filter((function(e){return"channel"===e.type}))).length>0&&a[a.length-1].id!==f.f){var s=Object(u.d)(c.EPG,r),l=o&&o.moreLinkUrl||s,d=Object(f.e)(f.f,l);a.push(d)}n.setState({list:Object(i.a)(Object(i.a)({},t),{items:a,size:a.length})})},n.state={list:t.list},n}return Object(i.c)(Epg3,e),Epg3.prototype.componentWillMount=function(){this.convertEpg3List(this.props)},Epg3.prototype.componentWillReceiveProps=function(e){e.list!==this.props.list&&this.convertEpg3List(e)},Epg3.prototype.render=function(){return o.createElement("div",{className:L.b()},o.createElement(l.a,Object(i.a)({},this.props)),o.createElement(d.a,Object(i.a)({},this.props,{list:this.state.list,imageType:"tile",imageWidth:C.a.tileImageWidth,rowType:"epg3",rowHeight:C.a.linearStandardHeight,component:this.renderComponent,isLiveEntry:!0}),this.props.children))},Epg3.prototype.renderComponent=function(e){var t=Object(f.g)(e.item);if(e.item.customFields&&e.item.customFields.itemSchedule)return o.createElement(D,Object(i.a)({},e));if(e.item.id===f.f)return o.createElement(j.a,Object(i.a)({},e,{channelColor:t,className:"epg3-item"}));var n=Object(f.l)(e.item);return o.createElement(_,Object(i.a)({},e,{channelColor:t,channelLogo:n}))},Epg3}(o.Component);var M=Object(r.connect)((function(e){return{config:e.app.config}}))(P);M.template=s.Epg3;t.a=M},400:function(e,t,n){"use strict";var H1Standard=n(391),H2Peeking=n(392),H5Thumbnails=n(448),H7Mosaic=n(447),H9Image=n(351),H10Text=n(274),H11PageTitle=n(306),P1Standard=n(348),i=n(242),o=n(243),r=n(245),a=n(250),c=n(248),s=n(246),u=n(269),l=n(244),d=n(284),p=n(265),m=(n(393),n(276)),h=new l.a("pr1"),f=function(e){function Pr1Banner(t){var n=e.call(this,t)||this;return n.setFocus=function(e){return n.setState({isFocused:e}),!0},n.handleMouseEnter=function(){n.context.focusNav.handleRowMouseEnter(n.focusableRow.index)},n.handleMouseLeave=function(){n.setFocus(!1)},n.state={isFocused:!1},n.focusableRow={focusable:!0,index:10*(t.index+1),dynamicHeight:!0,height:1,template:t.template,restoreSavedState:function(){},setFocus:n.setFocus,moveLeft:c.e,moveRight:c.e,moveUp:c.c,moveDown:c.c,exec:c.d},n}return Object(i.c)(Pr1Banner,e),Pr1Banner.prototype.componentDidMount=function(){var e=this.context.focusNav.getRowEntry(this.props.index);e||(e=this.ref),Object(u.a)(e,this.props.customFields),this.focusableRow.ref=this.ref,this.context.focusNav.registerRow(this.focusableRow),this.props.getPromotion()},Pr1Banner.prototype.componentWillUnmount=function(){this.context.focusNav.unregisterRow(this.focusableRow)},Pr1Banner.prototype.render=function(){var e=this;if(!Object(p.t)())return o.createElement("div",null);var t=this.props.promotionDetail.images["10foot"];if(void 0===t)return o.createElement("div",null);var n=s.a.pr1Height,i=s.a.pr1Height;return o.createElement("div",{className:h.b(),style:{height:i},ref:function(t){return e.ref=t},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.createElement(d.a,{className:h.e("image",{focused:this.state.isFocused},"full-size"),src:t,height:n}))},Pr1Banner.fnName="Pr1Banner",Pr1Banner.contextTypes={router:r.object.isRequired,focusNav:r.object.isRequired},Pr1Banner}(o.Component);var v=Object(a.connect)((function(e){return{promotionDetail:e.session&&e.session.promotionDetail}}),(function(e){return{dispatch:e,getPromotion:function(t,n){return e(Object(m.A)(t,n))}}}))(f),P2Large=n(423),Pb1Cover=n(424),g=n(263),b=n(249),y=function(e){function Pb4Image(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(Pb4Image,e),Pb4Image.prototype.render=function(){return o.createElement(g.a,Object(i.a)({},this.props,{imageType:"poster",imageWidth:s.a.posterImageWidth,rowType:"pb4",firstImageWidth:s.a.tbFirstImageWidth,listHeight:s.a.pbImageListHeight,isImage:!0,listBrandImageType:"custom",listBGImageType:"wallpaper",hasPaddingLeft:!0,rowHeight:s.a.pb4ImageHeight,verticalMargin:s.a.pb4ImageMarginTop,entryImageDetails:Object(b.i)(this.props.list.images,"custom")}))},Pb4Image}(o.Component),B1Standard=n(394),B2Large=n(425),B3Double=n(426),T1Standard=n(365),T2Large=n(427),T3Double=n(428),T4DoubleLarge=n(429),T5DoubleFeatured=n(430),Tb1Cover=n(431),Tb4Image=n(432),Tl1Standard=n(395),S1Standard=n(366),S2Large=n(433),S3Double=n(434),Sb1Cover=n(435),Sb4Image=n(436),Ed1Image=n(369),Ed2Text=n(370),Tx1Links=n(402),U1Poster=n(437),U2Tile=n(372),U3Block=n(373),U4Square=n(374),w=n(438),Epg3=n(399);t.a=[H1Standard.a,H2Peeking.a,H5Thumbnails.a,H7Mosaic.a,H9Image.a,H10Text.a,H11PageTitle.a,P1Standard.default,P2Large.a,Pb1Cover.a,y,B1Standard.a,B2Large.a,B3Double.a,T1Standard.default,T2Large.a,T3Double.a,T4DoubleLarge.a,T5DoubleFeatured.a,Tb1Cover.a,Tb4Image.a,Tl1Standard.a,S1Standard.default,S2Large.a,S3Double.a,Sb1Cover.a,Sb4Image.a,Ed1Image.a,Ed2Text.a,Tx1Links.a,v,U1Poster.a,U2Tile.a,U3Block.a,U4Square.a,w.a,Epg3.a]},439:function(e,t,n){"use strict";var i=n(242),o=n(243),r=n(244),a=n(285),c=(n(508),new r.a("progress-bar")),s=function(e){function t(t){var n=e.call(this,t)||this;return n.animate=function(e){var t=Date.now(),i=e||n.props,o=i.startDate,r=i.duration,a=(t-o.getTime())/(1e3*r)*100;n.setState({progress:a}),n.timer=window.setTimeout(n.animate,1e3)},n.state={progress:0,backgroundColor:Object(a.c)(t.color).backgroundColor},n}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){this.animate(this.props)},t.prototype.componentWillReceiveProps=function(e){this.timer&&window.clearTimeout(this.timer),this.animate(e)},t.prototype.componentWillUnmount=function(){this.timer&&window.clearTimeout(this.timer)},t.prototype.render=function(){var e=this.state,t=e.progress,n=e.backgroundColor;return o.createElement("div",{className:c.b()},o.createElement("div",{className:c.e("bar"),style:{backgroundColor:n,width:"".concat(t,"%")}}))},t}(o.Component);t.a=s},440:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(243),o=n(244),r=n(257),a=n(285),c=(n(509),new o.a("channel-logo"));function s(e){var t=e.logo,n=e.title,o=e.color,s=t&&t!==r.b,u=!s&&!!n,l=u?Object(a.c)(o):void 0;return s||u?s?i.createElement("img",{className:c.b("image"),src:t,alt:n}):i.createElement("div",{className:c.b("short-code"),style:l},n):null}},441:function(e,t,n){"use strict";var i=n(242),o=n(243),r=n(247),a=n.n(r),c=n(244),s=n(268),u=n(251),l=(n(510),new c.a("schedule-metadata")),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.render=function(){return o.createElement("div",{className:l.b()},this.renderTime(),this.renderTitle(),this.renderSubtitle())},t.prototype.renderTime=function(){var e=this.props,t=e.isBlackout,n=e.startDate,i=e.endDate,r=e.showOnNowTitle,a=l.e("time");return!t&&(r?o.createElement(u.a,{tagName:"div",className:a},"@{channel_asset_on_now|ON NOW}"):o.createElement("div",{className:a},Object(s.f)(n)," - ",Object(s.f)(i)))},t.prototype.renderTitle=function(){var e=this.props,t=e.title,n=e.showTitle,i=e.isEpisode?n:t;return e.isBlackout?o.createElement(u.a,{tagName:"div",className:a()(l.e("time","blackout"),"truncate")},"@{channel_not_airing|NOT AIRING}"):o.createElement("div",{className:a()(l.e("title"),"truncate")},i)},t.prototype.renderSubtitle=function(){var e=this.props,t=e.season,n=e.episode,i=e.isBlackout;return!(!e.isEpisode||i)&&o.createElement(u.a,{tagName:"div",className:a()(l.e("subtitle"),"truncate"),values:{season:t,episode:n}},"@{channel_season_title|Season {season} - Episode {episode}}")},t.defaultProps={title:"",airing:!1,isBlackout:!1,isEpisode:!1},t}(o.Component);t.a=d},442:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(243),o=n(247),r=n.n(o);n(511);function a(e){var t=e.className;return i.createElement("div",{className:r()("linear-play-icon",t)})}},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(243),o=n(247),r=n.n(o),a=n(244),c=n(257),s=n(285),u=n(251),l=(n(513),new a.a("view-full-schedule"));function d(e){var t=e.focused,n=e.itemMargin,o=e.className,a=e.item,d=e.imageType,p=e.imageOptions,m=e.channelColor,h=e.index,f=e.assetMouseEnter,v=e.onClick,g=Object(c.i)(a.images,d,p)[0],b=g.displayWidth?g.displayWidth:g.width,y=g.displayHeight?g.displayHeight:g.height,w=Object(s.c)(m).backgroundColor;return g.resolved||(y=b/Object(c.e)(g.type)),i.createElement("div",{className:r()(o,l.e("container",{focused:t})),style:{marginTop:"".concat(n/2,"px"),width:"".concat(b,"px"),height:"".concat(y,"px"),backgroundColor:w},onMouseEnter:function(){f&&f(h)},onClick:v},i.createElement(u.a,{tagName:"span"},"@{item_schedule_viewFullSchedule|View Full Schedule}"))}},445:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n(242),o=n(243),r=n(250),a=n(386),c={};function s(e){return e.data.reduce((function(e,t){return e[t.channelId]=t,e}),{})}var u=n(268),l=new Map;function d(e){var t=e.channelId,n=e.task,o=e.onTaskComplete,r=e.getNextInterval;return Object(i.b)(this,void 0,void 0,(function(){var e,a,c;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,n()];case 1:return e=i.sent(),o(e),a=function(){return d({channelId:t,task:n,onTaskComplete:o,getNextInterval:r})},c=window.setTimeout(a,r()),f(t,c),[2]}}))}))}function p(e,t){var n=t(e),i=n.list,o=n.assetLimit,r=n.timeLimit,l=function(e){if(0===e.length)return new Date;var t=e[e.length-1].endDate;return new Date(t.getTime()+6e4)}(i),d=function(e,t,n){if(e.length){var i=Object(u.a)(new Date,n).getTime()-t.getTime();return i>0?Object(u.c)(i):0}return n}(i,l,r);return i.length>=o||!d?Promise.resolve({schedules:[]}):function(e,t,n){var i=function(e,t){return"".concat(e.toDateString(),"-").concat(e.getUTCHours(),"-").concat(e.getUTCMinutes(),"-").concat(t)}(t,n);return c[i]||(c[i]={channelIds:new Set,promise:new Promise((function(e,o){setTimeout((function(){Object(a.l)(Array.from(c[i].channelIds),t,t.getUTCHours(),n,{intersect:!0}).then(s).then(e,o),delete c[i]}),200)}))}),c[i].channelIds.add(e),c[i].promise.then((function(t){return t[e]}))}(e,l,d)}var m=function(e,t){return function(n){var i=t(n),o=i.list,r=i.assetLimit,a=i.timeLimit,c=function(){return p(n,t)},s=function(e){return function(){var t=e().list[0];if(!t)return 18e5;var n=Date.now();return t.endDate.getTime()-n+1}}((function(){return t(n)})),u=function(t){return e(t.schedules.map(g))};if(l.has(n)){var m=l.get(n);if(!(m.assetLimit<r||m.timeLimit<a))return;v(n),h(n,r,a)}else h(n,r,a);o.length?function(e){var t=e.channelId,n=e.task,i=e.onTaskComplete,o=e.getNextInterval,r=window.setTimeout((function(){return d({channelId:t,task:n,onTaskComplete:i,getNextInterval:o})}),o());f(t,r)}({channelId:n,task:c,onTaskComplete:u,getNextInterval:s}):d({channelId:n,task:c,onTaskComplete:u,getNextInterval:s})}};function h(e,t,n){l.set(e,{timerId:-1,assetLimit:t,timeLimit:n})}function f(e,t){l.set(e,Object(i.a)(Object(i.a)({},l.get(e)),{timerId:t}))}function v(e){var t=l.get(e);void 0!==t&&(clearTimeout(t.timerId),l.delete(e))}function g(e){return Object(i.a)(Object(i.a)({},e),{startDate:new Date(e.startDate),endDate:new Date(e.endDate)})}n(279);var b=n(309);n(257),n(262),n(244);var y=n(249),w=function(e,t){var n,i,o,r=_(e,t);if(Object(y.q)(null===(n=null==r?void 0:r.rocketChannel)||void 0===n?void 0:n.watchPath)){var a=null===(i=r.schedule)||void 0===i?void 0:i[0],c=null===(o=null==a?void 0:a.customFields)||void 0===o?void 0:o.itemSchedule;if(!c)return[];var s=c.startDate,u=c.endDate;return[{id:a.id,channelId:e,startDate:s,endDate:u,item:r.rocketChannel}]}var l=N(e,t);return(null==l?void 0:l.list)||[]},E=function(e,t){return function(e){return e&&e.length&&e[0]}(w(e,t))},O=function(e,t){var n=N(e,t);return!n||n.loading},N=function(e,t){return t.schedule[e]},_=function(e,t){return Object(b.b)(t).find((function(t){return t.streamId===e}))},j=n(495);function C(e,t,n){return function(i,o){var r=!o().schedule.hasOwnProperty(e),a=function(e){return N(e,o())},c=m((function(t){i(T(e,t)),N(e,o()).loading&&i(function(e,t){return{type:j.b,payload:{newState:t,channelId:e}}}(e,!1))}),a);r&&i(function(e,t,n){return{type:j.a,payload:{channelId:e,assetLimit:t,timeLimit:n}}}(e,t,n));var s=a(e);if(t>s.assetLimit||n>s.timeLimit){var u=Math.max(t,s.assetLimit),l=Math.max(n,s.timeLimit);i(k(e,u,l))}i(T(e)),c(e)}}function T(e,t){return void 0===t&&(t=[]),{type:j.d,payload:{channelId:e,nextChunk:t}}}function k(e,t,n){return{type:j.c,payload:{channelId:e,assetLimit:t,timeLimit:n}}}var x=function(e){return e.item.id};function I(e,t){return void 0===e&&(e=2),void 0===t&&(t=8),function(n){var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){this.props.pullSchedule()},t.prototype.componentWillUnmount=function(){this.props.releaseSchedule()},t.prototype.render=function(){return o.createElement(n,Object(i.a)({},this.props))},t}(o.PureComponent);return Object(r.connect)((function(e,t){var n=x(t),i=w(n,e);return{config:e.app.config,schedules:i,scheduleLoading:O(n,e),currentProgram:E(n,e),noScheduledItem:!i.length}}),(function(n,i){return{pullSchedule:function(){return n(C(x(i),e,t))},releaseSchedule:function(){return n((e=x(i),function(t){v(e),t(k(e,0,0))}));var e}}}))(a)}}},508:function(e,t,n){},509:function(e,t,n){},510:function(e,t,n){},511:function(e,t,n){},512:function(e,t,n){},513:function(e,t,n){},514:function(e,t,n){},515:function(e,t,n){},944:function(e,t,n){},948:function(e,t,n){e.exports=n.p+"images/plus-icon.c93e12b.png"},949:function(e,t,n){e.exports=n.p+"images/continue-play-icon.604800a.png"},950:function(e,t,n){},951:function(e,t,n){},952:function(e,t,n){e.exports=n.p+"images/clock-icon.4501b64.png"},953:function(e,t,n){},954:function(e,t,n){}}]);